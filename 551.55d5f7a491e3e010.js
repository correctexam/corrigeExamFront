"use strict";(self.webpackChunkgrade_scope_istic=self.webpackChunkgrade_scope_istic||[]).push([[551],{77551:(C,r,l)=>{l.r(r),l.d(r,{healthRoute:()=>b});var u=l(61766),c=l(67426),t=l(25758),d=l(49651);function _(n,i){if(1&n&&(t._uU(0,"\n    "),t.TgZ(1,"h4",6),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4,"\n  ")),2&n){const e=t.oxw();t.xp6(2),t.hij("\n      ",t.lcZ(3,1,"health.indicator."+e.health.key),"\n    ")}}function p(n,i){if(1&n&&(t._uU(0,"\n              "),t.TgZ(1,"tr"),t._uU(2,"\n                "),t.TgZ(3,"td",11),t._uU(4),t.qZA(),t._uU(5,"\n                "),t.TgZ(6,"td",11),t._uU(7),t.qZA(),t._uU(8,"\n              "),t.qZA(),t._uU(9,"\n            ")),2&n){const e=i.$implicit,a=t.oxw(2);t.xp6(4),t.Oqu(e.key),t.xp6(3),t.Oqu(a.readableValue(e.value))}}function U(n,i){if(1&n&&(t._uU(0,"\n    "),t.TgZ(1,"div"),t._uU(2,"\n      "),t.TgZ(3,"h5",7),t._uU(4,"Properties"),t.qZA(),t._uU(5,"\n      "),t.TgZ(6,"div",8),t._uU(7,"\n        "),t.TgZ(8,"table",9),t._uU(9,"\n          "),t.TgZ(10,"thead"),t._uU(11,"\n            "),t.TgZ(12,"tr"),t._uU(13,"\n              "),t.TgZ(14,"th",10),t._uU(15,"Name"),t.qZA(),t._uU(16,"\n              "),t.TgZ(17,"th",10),t._uU(18,"Value"),t.qZA(),t._uU(19,"\n            "),t.qZA(),t._uU(20,"\n          "),t.qZA(),t._uU(21,"\n          "),t.TgZ(22,"tbody"),t._uU(23,"\n            "),t.SjG(24,p,10,2,null,null,t.x6l),t.ALo(26,"keyvalue"),t.qZA(),t._uU(27,"\n        "),t.qZA(),t._uU(28,"\n      "),t.qZA(),t._uU(29,"\n    "),t.qZA(),t._uU(30,"\n  ")),2&n){const e=t.oxw();t.xp6(3),t.Q6J("translate","health.details.properties"),t.xp6(11),t.Q6J("translate","health.details.name"),t.xp6(3),t.Q6J("translate","health.details.value"),t.xp6(7),t.wJu(t.lcZ(26,3,e.health.value.details))}}let Z=(()=>{class n{activeModal;health;constructor(e){this.activeModal=e}readableValue(e){if("diskSpace"===this.health?.key){const a=e/1073741824;return a>1?`${a.toFixed(2)} GB`:`${(e/1048576).toFixed(2)} MB`}return"object"==typeof e?JSON.stringify(e):String(e)}dismiss(){this.activeModal.dismiss()}static \u0275fac=function(a){return new(a||n)(t.Y36(d.Kz))};static \u0275cmp=t.Xpm({type:n,selectors:[["jhi-health-modal"]],decls:20,vars:2,consts:[[1,"modal-header"],["aria-label","Close","data-dismiss","modal","type","button",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body","pad"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-secondary","float-start",3,"click"],["id","showHealthLabel",1,"modal-title"],[3,"translate"],[1,"table-responsive"],["aria-describedby","showHealthLabel",1,"table","table-striped"],["scope","col",1,"text-start",3,"translate"],[1,"text-start"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.oZN(2,_,5,3),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.dismiss()}),t._uU(4,"\n    "),t.TgZ(5,"span",2),t._uU(6,"\xd7"),t.qZA(),t._uU(7,"\n  "),t.qZA(),t._uU(8,"\n"),t.qZA(),t._uU(9,"\n\n"),t.TgZ(10,"div",3),t._uU(11,"\n  "),t.oZN(12,U,31,5),t.qZA(),t._uU(13,"\n\n"),t.TgZ(14,"div",4),t._uU(15,"\n  "),t.TgZ(16,"button",5),t.NdJ("click",function(){return o.dismiss()}),t._uU(17,"Done"),t.qZA(),t._uU(18,"\n"),t.qZA(),t._uU(19,"\n")),2&a&&(t.xp6(2),t.um2(o.health?2:-1),t.xp6(10),t.um2(o.health?12:-1))},dependencies:[u.Pi,c.Nd,u.X$],encapsulation:2})}return n})();var m=l(45597),s=l(28131),g=l(89220),f=l(98156);let T=(()=>{class n{http;applicationConfigService;constructor(e,a){this.http=e,this.applicationConfigService=a}checkHealth(){return this.http.get(this.applicationConfigService.getEndpointFor("management/health"))}static \u0275fac=function(a){return new(a||n)(s.LFG(g.eN),s.LFG(f.y))};static \u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v(n,i){if(1&n){const e=t.EpF();t._uU(0,"\n                  "),t.TgZ(1,"a",10),t.NdJ("click",function(){s.CHM(e);const o=t.oxw().$implicit,h=t.oxw(2);return s.KtG(h.showHealth({key:o.key,value:o.value}))}),t._uU(2,"\n                    "),t._UZ(3,"fa-icon",11),t._uU(4,"\n                  "),t.qZA(),t._uU(5,"\n                ")}}function x(n,i){if(1&n&&(t._uU(0,"\n            "),t.TgZ(1,"tr"),t._uU(2,"\n              "),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._uU(6,"\n              "),t.TgZ(7,"td",8),t._uU(8,"\n                "),t.TgZ(9,"span",9),t._uU(10),t.qZA(),t._uU(11,"\n              "),t.qZA(),t._uU(12,"\n              "),t.TgZ(13,"td",8),t._uU(14,"\n                "),t.oZN(15,v,6,0),t.qZA(),t._uU(16,"\n            "),t.qZA(),t._uU(17,"\n          ")),2&n){const e=i.$implicit,a=t.oxw(2);t.xp6(4),t.hij("\n                ",t.lcZ(5,5,"health.indicator."+e.key),"\n              "),t.xp6(5),t.Q6J("ngClass",a.getBadgeClass(e.value.status))("translate","health.status."+e.value.status),t.xp6(),t.hij("\n                  ",e.value.status,"\n                "),t.xp6(5),t.um2(e.value.details?15:-1)}}function A(n,i){if(1&n&&(t._uU(0,"\n        "),t.TgZ(1,"tbody"),t._uU(2,"\n          "),t.SjG(3,x,18,7,null,null,t.x6l),t.ALo(5,"keyvalue"),t.qZA(),t._uU(6,"\n      ")),2&n){const e=t.oxw();t.xp6(3),t.wJu(t.lcZ(5,0,e.health.components))}}const b=[{path:"",component:(()=>{class n{modalService;healthService;health;constructor(e,a){this.modalService=e,this.healthService=a}ngOnInit(){this.refresh()}getBadgeClass(e){return"UP"===e?"bg-success":"bg-danger"}refresh(){this.healthService.checkHealth().subscribe({next:e=>this.health=e,error:e=>{503===e.status&&(this.health=e.error)}})}showHealth(e){this.modalService.open(Z).componentInstance.health=e}static \u0275fac=function(a){return new(a||n)(t.Y36(d.FF),t.Y36(T))};static \u0275cmp=t.Xpm({type:n,selectors:[["jhi-health"]],decls:39,vars:6,consts:[["id","health-page-heading","data-cy","healthPageHeading",3,"translate"],[1,"btn","btn-primary","float-end",3,"click"],["icon","sync"],[3,"translate"],[1,"table-responsive"],["id","healthCheck","aria-describedby","health-page-heading",1,"table","table-striped"],["scope","col",3,"translate"],["scope","col",1,"text-center",3,"translate"],[1,"text-center"],[1,"badge",3,"ngClass","translate"],[1,"hand",3,"click"],["icon","eye"]],template:function(a,o){1&a&&(t.TgZ(0,"div"),t._uU(1,"\n  "),t.TgZ(2,"h2"),t._uU(3,"\n    "),t.TgZ(4,"span",0),t._uU(5,"Health Checks"),t.qZA(),t._uU(6,"\n\n    "),t.TgZ(7,"button",1),t.NdJ("click",function(){return o.refresh()}),t._uU(8,"\n      "),t._UZ(9,"fa-icon",2),t._uU(10," "),t.TgZ(11,"span",3),t._uU(12,"Refresh"),t.qZA(),t._uU(13,"\n    "),t.qZA(),t._uU(14,"\n  "),t.qZA(),t._uU(15,"\n\n  "),t.TgZ(16,"div",4),t._uU(17,"\n    "),t.TgZ(18,"table",5),t._uU(19,"\n      "),t.TgZ(20,"thead"),t._uU(21,"\n        "),t.TgZ(22,"tr"),t._uU(23,"\n          "),t.TgZ(24,"th",6),t._uU(25,"Service Name"),t.qZA(),t._uU(26,"\n          "),t.TgZ(27,"th",7),t._uU(28,"Status"),t.qZA(),t._uU(29,"\n          "),t.TgZ(30,"th",7),t._uU(31,"Details"),t.qZA(),t._uU(32,"\n        "),t.qZA(),t._uU(33,"\n      "),t.qZA(),t._uU(34,"\n      "),t.oZN(35,A,7,2),t.qZA(),t._uU(36,"\n  "),t.qZA(),t._uU(37,"\n"),t.qZA(),t._uU(38,"\n")),2&a&&(t.xp6(4),t.Q6J("translate","health.title"),t.xp6(7),t.Q6J("translate","health.refresh.button"),t.xp6(13),t.Q6J("translate","health.table.service"),t.xp6(3),t.Q6J("translate","health.table.status"),t.xp6(3),t.Q6J("translate","health.details.details"),t.xp6(5),t.um2(o.health?35:-1))},dependencies:[c.ez,c.mk,m.BN,u.Pi,c.Nd,u.X$],encapsulation:2})}return n})(),data:{pageTitle:"health.title"}}]}}]);