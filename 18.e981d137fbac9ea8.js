"use strict";(self.webpackChunkgrade_scope_istic=self.webpackChunkgrade_scope_istic||[]).push([[18],{33018:(A,a,s)=>{s.r(a),s.d(a,{logsRoute:()=>Z});class _{name;level;constructor(c,t){this.name=c,this.level=t}}var d=s(81156),u=s(40007),p=s(32941),l=s(56223),h=s(88423),g=s(96814),n=s(39547),m=s(69862),f=s(98156);let C=(()=>{class i{http;applicationConfigService;constructor(t,o){this.http=t,this.applicationConfigService=o}changeLevel(t,o){return this.http.post(this.applicationConfigService.getEndpointFor(`management/loggers/${t}`),{configuredLevel:o})}findAll(){return this.http.get(this.applicationConfigService.getEndpointFor("management/loggers"))}static \u0275fac=function(o){return new(o||i)(n.LFG(m.eN),n.LFG(f.y))};static \u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const v=i=>({total:i});function U(i,c){if(1&i){const t=n.EpF();n.TgZ(0,"tr"),n._uU(1,"\n        "),n.TgZ(2,"td"),n._uU(3,"\n          "),n.TgZ(4,"small"),n._uU(5),n.ALo(6,"slice"),n.qZA(),n._uU(7,"\n        "),n.qZA(),n._uU(8,"\n        "),n.TgZ(9,"td"),n._uU(10,"\n          "),n.TgZ(11,"button",14),n.NdJ("click",function(){const e=n.CHM(t).$implicit,r=n.oxw(2);return n.KtG(r.changeLevel(e.name,"TRACE"))}),n._uU(12,"\n            TRACE\n          "),n.qZA(),n._uU(13,"\n\n          "),n.TgZ(14,"button",14),n.NdJ("click",function(){const e=n.CHM(t).$implicit,r=n.oxw(2);return n.KtG(r.changeLevel(e.name,"DEBUG"))}),n._uU(15,"\n            DEBUG\n          "),n.qZA(),n._uU(16,"\n\n          "),n.TgZ(17,"button",14),n.NdJ("click",function(){const e=n.CHM(t).$implicit,r=n.oxw(2);return n.KtG(r.changeLevel(e.name,"INFO"))}),n._uU(18,"\n            INFO\n          "),n.qZA(),n._uU(19,"\n\n          "),n.TgZ(20,"button",14),n.NdJ("click",function(){const e=n.CHM(t).$implicit,r=n.oxw(2);return n.KtG(r.changeLevel(e.name,"WARN"))}),n._uU(21,"\n            WARN\n          "),n.qZA(),n._uU(22,"\n\n          "),n.TgZ(23,"button",14),n.NdJ("click",function(){const e=n.CHM(t).$implicit,r=n.oxw(2);return n.KtG(r.changeLevel(e.name,"ERROR"))}),n._uU(24,"\n            ERROR\n          "),n.qZA(),n._uU(25,"\n\n          "),n.TgZ(26,"button",14),n.NdJ("click",function(){const e=n.CHM(t).$implicit,r=n.oxw(2);return n.KtG(r.changeLevel(e.name,"OFF"))}),n._uU(27,"\n            OFF\n          "),n.qZA(),n._uU(28,"\n        "),n.qZA(),n._uU(29,"\n      "),n.qZA()}if(2&i){const t=c.$implicit;n.xp6(5),n.Oqu(n.Dn7(6,7,t.name,0,140)),n.xp6(6),n.Q6J("ngClass","TRACE"===t.level?"btn-primary":"btn-light"),n.xp6(3),n.Q6J("ngClass","DEBUG"===t.level?"btn-success":"btn-light"),n.xp6(3),n.Q6J("ngClass","INFO"===t.level?"btn-info":"btn-light"),n.xp6(3),n.Q6J("ngClass","WARN"===t.level?"btn-warning":"btn-light"),n.xp6(3),n.Q6J("ngClass","ERROR"===t.level?"btn-danger":"btn-light"),n.xp6(3),n.Q6J("ngClass","OFF"===t.level?"btn-secondary":"btn-light")}}function T(i,c){if(1&i){const t=n.EpF();n.TgZ(0,"div",1),n._uU(1,"\n  "),n.TgZ(2,"h2",2),n._uU(3,"Logs"),n.qZA(),n._uU(4,"\n\n  "),n.TgZ(5,"p",3),n._uU(6),n.qZA(),n._uU(7,"\n\n  "),n.TgZ(8,"span",4),n._uU(9,"Filter"),n.qZA(),n._uU(10,"\n  "),n.TgZ(11,"input",5),n.Uc_("ngModelChange",function(e){n.CHM(t);const r=n.oxw();return n.nJJ(r.filter,e)||(r.filter=e),n.KtG(e)}),n.NdJ("ngModelChange",function(){n.CHM(t);const e=n.oxw();return n.KtG(e.filterAndSort())}),n.qZA(),n._uU(12,"\n\n  "),n.TgZ(13,"table",6),n._uU(14,"\n    "),n.TgZ(15,"thead"),n._uU(16,"\n      "),n.TgZ(17,"tr",7),n.Uc_("predicateChange",function(e){n.CHM(t);const r=n.oxw();return n.nJJ(r.orderProp,e)||(r.orderProp=e),n.KtG(e)})("ascendingChange",function(e){n.CHM(t);const r=n.oxw();return n.nJJ(r.ascending,e)||(r.ascending=e),n.KtG(e)}),n.NdJ("sortChange",function(){n.CHM(t);const e=n.oxw();return n.KtG(e.filterAndSort())}),n._uU(18,"\n        "),n.TgZ(19,"th",8)(20,"span",9),n._uU(21,"Name"),n.qZA(),n._uU(22," "),n._UZ(23,"fa-icon",10),n.qZA(),n._uU(24,"\n        "),n.TgZ(25,"th",11)(26,"span",12),n._uU(27,"Level"),n.qZA(),n._uU(28," "),n._UZ(29,"fa-icon",10),n.qZA(),n._uU(30,"\n      "),n.qZA(),n._uU(31,"\n    "),n.qZA(),n._uU(32,"\n\n    "),n.TgZ(33,"tbody"),n._uU(34,"\n      "),n.YNc(35,U,30,11,"tr",13),n._uU(36,"\n    "),n.qZA(),n._uU(37,"\n  "),n.qZA(),n._uU(38,"\n"),n.qZA()}if(2&i){const t=n.oxw();n.xp6(5),n.Q6J("translateValues",n.VKq(6,v,t.loggers.length)),n.xp6(),n.hij("There are ",t.loggers.length," loggers."),n.xp6(5),n.E3D("ngModel",t.filter),n.xp6(6),n.E3D("predicate",t.orderProp)("ascending",t.ascending),n.xp6(18),n.Q6J("ngForOf",t.filteredAndOrderedLoggers)}}const Z=[{path:"",component:(()=>{class i{logsService;loggers;filteredAndOrderedLoggers;filter="";orderProp="name";ascending=!0;constructor(t){this.logsService=t}ngOnInit(){this.findAndExtractLoggers()}changeLevel(t,o){this.logsService.changeLevel(t,o).subscribe(()=>this.findAndExtractLoggers())}filterAndSort(){this.filteredAndOrderedLoggers=this.loggers.filter(t=>!this.filter||t.name.toLowerCase().includes(this.filter.toLowerCase())).sort((t,o)=>t[this.orderProp]<o[this.orderProp]?this.ascending?-1:1:t[this.orderProp]>o[this.orderProp]?this.ascending?1:-1:"level"===this.orderProp?t.name<o.name?-1:1:0)}findAndExtractLoggers(){this.logsService.findAll().subscribe(t=>{this.loggers=Object.entries(t.loggers).map(([o,e])=>new _(o,e.effectiveLevel)),this.filterAndSort()})}static \u0275fac=function(o){return new(o||i)(n.Y36(C))};static \u0275cmp=n.Xpm({type:i,selectors:[["jhi-logs"]],decls:2,vars:1,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["id","logs-page-heading","jhiTranslate","logs.title","data-cy","logsPageHeading"],["jhiTranslate","logs.nbloggers",3,"translateValues"],["jhiTranslate","logs.filter"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["aria-describedby","logs-page-heading",1,"table","table-sm","table-striped","table-bordered"],["jhiSort","",3,"predicateChange","ascendingChange","sortChange","predicate","ascending"],["jhiSortBy","name","scope","col"],["jhiTranslate","logs.table.name"],["icon","sort"],["jhiSortBy","level","scope","col"],["jhiTranslate","logs.table.level"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"click","ngClass"]],template:function(o,e){1&o&&(n.YNc(0,T,39,8,"div",0),n._uU(1,"\n")),2&o&&n.Q6J("ngIf",e.loggers)},dependencies:[g.O5,h.P,l.u5,l.Fj,l.JJ,l.On,p.b,u.T,d.BN,g.ax,g.mk,g.OU],encapsulation:2})}return i})(),data:{pageTitle:"logs.title"}}]}}]);