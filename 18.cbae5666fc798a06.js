"use strict";(self.webpackChunkgrade_scope_istic=self.webpackChunkgrade_scope_istic||[]).push([[18],{33018:(T,c,s)=>{s.r(c),s.d(c,{logsRoute:()=>A});class d{name;level;constructor(g,t){this.name=g,this.level=t}}var u=s(45597),p=s(40007),m=s(32941),a=s(56223),_=s(67426),h=s(61766),n=s(25758),r=s(28131),C=s(89220),f=s(98156);let U=(()=>{class l{http;applicationConfigService;constructor(t,o){this.http=t,this.applicationConfigService=o}changeLevel(t,o){return this.http.post(this.applicationConfigService.getEndpointFor(`management/loggers/${t}`),{configuredLevel:o})}findAll(){return this.http.get(this.applicationConfigService.getEndpointFor("management/loggers"))}static \u0275fac=function(o){return new(o||l)(r.LFG(C.eN),r.LFG(f.y))};static \u0275prov=r.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Z=l=>({total:l});function x(l,g){if(1&l){const t=n.EpF();n._uU(0,"\n          "),n.TgZ(1,"tr"),n._uU(2,"\n            "),n.TgZ(3,"td"),n._uU(4,"\n              "),n.TgZ(5,"small"),n._uU(6),n.ALo(7,"slice"),n.qZA(),n._uU(8,"\n            "),n.qZA(),n._uU(9,"\n            "),n.TgZ(10,"td"),n._uU(11,"\n              "),n.TgZ(12,"button",10),n.NdJ("click",function(){const e=r.CHM(t).$implicit,i=n.oxw(2);return r.KtG(i.changeLevel(e.name,"TRACE"))}),n._uU(13,"\n                TRACE\n              "),n.qZA(),n._uU(14,"\n              "),n.TgZ(15,"button",10),n.NdJ("click",function(){const e=r.CHM(t).$implicit,i=n.oxw(2);return r.KtG(i.changeLevel(e.name,"DEBUG"))}),n._uU(16,"\n                DEBUG\n              "),n.qZA(),n._uU(17,"\n              "),n.TgZ(18,"button",10),n.NdJ("click",function(){const e=r.CHM(t).$implicit,i=n.oxw(2);return r.KtG(i.changeLevel(e.name,"INFO"))}),n._uU(19,"\n                INFO\n              "),n.qZA(),n._uU(20,"\n              "),n.TgZ(21,"button",10),n.NdJ("click",function(){const e=r.CHM(t).$implicit,i=n.oxw(2);return r.KtG(i.changeLevel(e.name,"WARN"))}),n._uU(22,"\n                WARN\n              "),n.qZA(),n._uU(23,"\n              "),n.TgZ(24,"button",10),n.NdJ("click",function(){const e=r.CHM(t).$implicit,i=n.oxw(2);return r.KtG(i.changeLevel(e.name,"ERROR"))}),n._uU(25,"\n                ERROR\n              "),n.qZA(),n._uU(26,"\n              "),n.TgZ(27,"button",10),n.NdJ("click",function(){const e=r.CHM(t).$implicit,i=n.oxw(2);return r.KtG(i.changeLevel(e.name,"OFF"))}),n._uU(28,"\n                OFF\n              "),n.qZA(),n._uU(29,"\n            "),n.qZA(),n._uU(30,"\n          "),n.qZA(),n._uU(31,"\n        ")}if(2&l){const t=g.$implicit;n.xp6(6),n.Oqu(n.Dn7(7,7,t.name,0,140)),n.xp6(6),n.Q6J("ngClass","TRACE"===t.level?"btn-primary":"btn-light"),n.xp6(3),n.Q6J("ngClass","DEBUG"===t.level?"btn-success":"btn-light"),n.xp6(3),n.Q6J("ngClass","INFO"===t.level?"btn-info":"btn-light"),n.xp6(3),n.Q6J("ngClass","WARN"===t.level?"btn-warning":"btn-light"),n.xp6(3),n.Q6J("ngClass","ERROR"===t.level?"btn-danger":"btn-light"),n.xp6(3),n.Q6J("ngClass","OFF"===t.level?"btn-secondary":"btn-light")}}function v(l,g){if(1&l){const t=n.EpF();n._uU(0,"\n  "),n.TgZ(1,"div",0),n._uU(2,"\n    "),n.TgZ(3,"h2",1),n._uU(4,"Logs"),n.qZA(),n._uU(5,"\n    "),n.TgZ(6,"p",2),n._uU(7),n.qZA(),n._uU(8,"\n    "),n.TgZ(9,"span",3),n._uU(10,"Filter"),n.qZA(),n._uU(11,"\n    "),n.TgZ(12,"input",4),n.Uc_("ngModelChange",function(e){r.CHM(t);const i=n.oxw();return n.nJJ(i.filter,e)||(i.filter=e),r.KtG(e)}),n.NdJ("ngModelChange",function(){r.CHM(t);const e=n.oxw();return r.KtG(e.filterAndSort())}),n.qZA(),n._uU(13,"\n    "),n.TgZ(14,"table",5),n._uU(15,"\n      "),n.TgZ(16,"thead"),n._uU(17,"\n        "),n.TgZ(18,"tr",6),n.Uc_("predicateChange",function(e){r.CHM(t);const i=n.oxw();return n.nJJ(i.orderProp,e)||(i.orderProp=e),r.KtG(e)})("ascendingChange",function(e){r.CHM(t);const i=n.oxw();return n.nJJ(i.ascending,e)||(i.ascending=e),r.KtG(e)}),n.NdJ("sortChange",function(){r.CHM(t);const e=n.oxw();return r.KtG(e.filterAndSort())}),n._uU(19,"\n          "),n.TgZ(20,"th",7)(21,"span",3),n._uU(22,"Name"),n.qZA(),n._uU(23," "),n._UZ(24,"fa-icon",8),n.qZA(),n._uU(25,"\n          "),n.TgZ(26,"th",9)(27,"span",3),n._uU(28,"Level"),n.qZA(),n._uU(29," "),n._UZ(30,"fa-icon",8),n.qZA(),n._uU(31,"\n        "),n.qZA(),n._uU(32,"\n      "),n.qZA(),n._uU(33,"\n      "),n.TgZ(34,"tbody"),n._uU(35,"\n        "),n.SjG(36,x,32,11,null,null,n.x6l),n.qZA(),n._uU(38,"\n    "),n.qZA(),n._uU(39,"\n  "),n.qZA(),n._uU(40,"\n")}if(2&l){const t=n.oxw();n.xp6(3),n.Q6J("translate","logs.title"),n.xp6(3),n.Q6J("translate","logs.nbloggers")("translateParams",n.VKq(10,Z,t.loggers.length)),n.xp6(),n.hij("There are ",t.loggers.length," loggers."),n.xp6(2),n.Q6J("translate","logs.filter"),n.xp6(3),n.E3D("ngModel",t.filter),n.xp6(6),n.E3D("predicate",t.orderProp)("ascending",t.ascending),n.xp6(3),n.Q6J("translate","logs.table.name"),n.xp6(6),n.Q6J("translate","logs.table.level"),n.xp6(9),n.wJu(t.filteredAndOrderedLoggers)}}const A=[{path:"",component:(()=>{class l{logsService;loggers;filteredAndOrderedLoggers;filter="";orderProp="name";ascending=!0;constructor(t){this.logsService=t}ngOnInit(){this.findAndExtractLoggers()}changeLevel(t,o){this.logsService.changeLevel(t,o).subscribe(()=>this.findAndExtractLoggers())}filterAndSort(){this.filteredAndOrderedLoggers=this.loggers.filter(t=>!this.filter||t.name.toLowerCase().includes(this.filter.toLowerCase())).sort((t,o)=>t[this.orderProp]<o[this.orderProp]?this.ascending?-1:1:t[this.orderProp]>o[this.orderProp]?this.ascending?1:-1:"level"===this.orderProp?t.name<o.name?-1:1:0)}findAndExtractLoggers(){this.logsService.findAll().subscribe(t=>{this.loggers=Object.entries(t.loggers).map(([o,e])=>new d(o,e.effectiveLevel)),this.filterAndSort()})}static \u0275fac=function(o){return new(o||l)(n.Y36(U))};static \u0275cmp=n.Xpm({type:l,selectors:[["jhi-logs"]],decls:1,vars:1,consts:[[1,"table-responsive"],["id","logs-page-heading","data-cy","logsPageHeading",3,"translate"],[3,"translate","translateParams"],[3,"translate"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["aria-describedby","logs-page-heading",1,"table","table-sm","table-striped","table-bordered"],["jhiSort","",3,"predicateChange","ascendingChange","sortChange","predicate","ascending"],["jhiSortBy","name","scope","col"],["icon","sort"],["jhiSortBy","level","scope","col"],[1,"btn","btn-sm",3,"click","ngClass"]],template:function(o,e){1&o&&n.oZN(0,v,41,12),2&o&&n.um2(e.loggers?0:-1)},dependencies:[h.Pi,a.u5,a.Fj,a.JJ,a.On,m.b,p.T,u.BN,_.mk,_.OU],encapsulation:2})}return l})(),data:{pageTitle:"logs.title"}}]}}]);