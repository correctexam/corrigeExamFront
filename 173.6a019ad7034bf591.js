(self.webpackChunkgrade_scope_istic=self.webpackChunkgrade_scope_istic||[]).push([[173],{82384:(Q,Ae,R)=>{"use strict";R.d(Ae,{z4:()=>Mn});var C=R(15861),G=R(7331),z=R(64687),Z=function(){return Z=Object.assign||function(a){for(var s,c=1,v=arguments.length;c<v;c++)for(var x in s=arguments[c])Object.prototype.hasOwnProperty.call(s,x)&&(a[x]=s[x]);return a},Z.apply(this,arguments)};function ce(U,a,s,c){return new(s||(s=Promise))(function(x,E){function de(se){try{k(c.next(se))}catch(Ee){E(Ee)}}function me(se){try{k(c.throw(se))}catch(Ee){E(Ee)}}function k(se){se.done?x(se.value):function v(x){return x instanceof s?x:new s(function(E){E(x)})}(se.value).then(de,me)}k((c=c.apply(U,a||[])).next())})}function ge(U,a){var c,v,x,E,s={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return E={next:de(0),throw:de(1),return:de(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function de(k){return function(se){return function me(k){if(c)throw new TypeError("Generator is already executing.");for(;s;)try{if(c=1,v&&(x=2&k[0]?v.return:k[0]?v.throw||((x=v.return)&&x.call(v),0):v.next)&&!(x=x.call(v,k[1])).done)return x;switch(v=0,x&&(k=[2&k[0],x.value]),k[0]){case 0:case 1:x=k;break;case 4:return s.label++,{value:k[1],done:!1};case 5:s.label++,v=k[1],k=[0];continue;case 7:k=s.ops.pop(),s.trys.pop();continue;default:if(!(x=(x=s.trys).length>0&&x[x.length-1])&&(6===k[0]||2===k[0])){s=0;continue}if(3===k[0]&&(!x||k[1]>x[0]&&k[1]<x[3])){s.label=k[1];break}if(6===k[0]&&s.label<x[1]){s.label=x[1],x=k;break}if(x&&s.label<x[2]){s.label=x[2],s.ops.push(k);break}x[2]&&s.ops.pop(),s.trys.pop();continue}k=a.call(U,s)}catch(se){k=[6,se],v=0}finally{c=x=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([k,se])}}}function et(U){return[U.schema.primKey].concat(U.schema.indexes).map(function(s){return s.src}).join(",")}function $e(U,a){return new Promise(function(s,c){var v=new FileReader;v.onabort=function(x){return c(new Error("file read aborted"))},v.onerror=function(x){return c(x.target.error)},v.onload=function(x){return s(x.target.result)},"binary"===a?v.readAsArrayBuffer(U):v.readAsText(U)})}function at(U,a){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var s=new FileReaderSync;return"binary"===a?s.readAsArrayBuffer(U):s.readAsText(U)}var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(U,a){return U(a={exports:{}},a.exports),a.exports}for(var Et=Oe(function(U,a){U.exports=function(){function s(D){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(D)}function c(D,L,M,q,X,Ke,Le){try{var ze=D[Ke](Le),we=ze.value}catch(Tt){return void M(Tt)}ze.done?L(we):Promise.resolve(we).then(q,X)}function v(D){return function(){var L=this,M=arguments;return new Promise(function(q,X){var Ke=D.apply(L,M);function Le(we){c(Ke,q,X,Le,ze,"next",we)}function ze(we){c(Ke,q,X,Le,ze,"throw",we)}Le(void 0)})}}function x(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}function E(D,L){for(var M=0;M<L.length;M++){var q=L[M];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}function me(D,L,M){return L in D?Object.defineProperty(D,L,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[L]=M,D}function k(D,L){var M=Object.keys(D);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(D);L&&(q=q.filter(function(X){return Object.getOwnPropertyDescriptor(D,X).enumerable})),M.push.apply(M,q)}return M}function se(D){for(var L=1;L<arguments.length;L++){var M=null!=arguments[L]?arguments[L]:{};L%2?k(Object(M),!0).forEach(function(q){me(D,q,M[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(M)):k(Object(M)).forEach(function(q){Object.defineProperty(D,q,Object.getOwnPropertyDescriptor(M,q))})}return D}function Ee(D,L){return function Ce(D){if(Array.isArray(D))return D}(D)||function ct(D,L){if(Symbol.iterator in Object(D)||"[object Arguments]"===Object.prototype.toString.call(D)){var M=[],q=!0,X=!1,Ke=void 0;try{for(var ze,Le=D[Symbol.iterator]();!(q=(ze=Le.next()).done)&&(M.push(ze.value),!L||M.length!==L);q=!0);}catch(we){X=!0,Ke=we}finally{try{!q&&null!=Le.return&&Le.return()}finally{if(X)throw Ke}}return M}}(D,L)||function Nt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function At(D){return function _t(D){if(Array.isArray(D)){for(var L=0,M=new Array(D.length);L<D.length;L++)M[L]=D[L];return M}}(D)||function Ne(D){if(Symbol.iterator in Object(D)||"[object Arguments]"===Object.prototype.toString.call(D))return Array.from(D)}(D)||function Dt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var pe=function D(L){x(this,D),this.p=new Promise(L)};pe.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(pe.prototype[Symbol.toStringTag]="TypesonPromise"),pe.prototype.then=function(D,L){var M=this;return new pe(function(q,X){M.p.then(function(Ke){q(D?D(Ke):Ke)}).catch(function(Ke){return L?L(Ke):Promise.reject(Ke)}).then(q,X)})},pe.prototype.catch=function(D){return this.then(null,D)},pe.resolve=function(D){return new pe(function(L){L(D)})},pe.reject=function(D){return new pe(function(L,M){M(D)})},["all","race"].forEach(function(D){pe[D]=function(L){return new pe(function(M,q){Promise[D](L.map(function(X){return X&&X.constructor&&"TypesonPromise"===X.constructor.__typeson__type__?X.p:X})).then(M,q)})}});var Pe={}.toString,pt={}.hasOwnProperty,He=Object.getPrototypeOf,ue=pt.toString;function B(D,L){return We(D)&&"function"==typeof D.then&&(!L||"function"==typeof D.catch)}function p(D){return Pe.call(D).slice(8,-1)}function Y(D,L){if(!D||"object"!==s(D))return!1;var M=He(D);if(!M)return null===L;var q=pt.call(M,"constructor")&&M.constructor;return"function"!=typeof q?null===L:L===q||null!==L&&ue.call(q)===ue.call(L)||"function"==typeof L&&"string"==typeof q.__typeson__type__&&q.__typeson__type__===L.__typeson__type__}function w(D){return!(!D||"Object"!==p(D))&&(!He(D)||Y(D,Object))}function We(D){return D&&"object"===s(D)}function ht(D){return D.replace(/~/g,"~0").replace(/\./g,"~1")}function Pt(D){return D.replace(/~1/g,".").replace(/~0/g,"~")}function Ct(D,L){if(""===L)return D;var M=L.indexOf(".");if(M>-1){var q=D[Pt(L.slice(0,M))];return void 0===q?void 0:Ct(q,L.slice(M+1))}return D[Pt(L)]}function on(D,L,M){if(""===L)return M;var q=L.indexOf(".");return q>-1?on(D[Pt(L.slice(0,q))],L.slice(q+1),M):(D[Pt(L)]=M,D)}var lt=Object.keys,wt=Array.isArray,Xt={}.hasOwnProperty,an=["type","replaced","iterateIn","iterateUnsetNumeric"];function fe(D,L){if(""===D.keypath)return-1;var M=D.keypath.match(/\./g)||0,q=L.keypath.match(/\./g)||0;return M&&(M=M.length),q&&(q=q.length),M>q?-1:M<q?1:D.keypath<L.keypath?-1:D.keypath>L.keypath}var Be=function(){function D(L){x(this,D),this.options=L,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function de(D,L,M){return L&&E(D.prototype,L),M&&E(D,M),D}(D,[{key:"stringify",value:function(M,q,X,Ke){Ke=se({},this.options,{},Ke,{stringification:!0});var Le=this.encapsulate(M,null,Ke);return wt(Le)?JSON.stringify(Le[0],q,X):Le.then(function(ze){return JSON.stringify(ze,q,X)})}},{key:"stringifySync",value:function(M,q,X,Ke){return this.stringify(M,q,X,se({throwOnBadSyncType:!0},Ke,{sync:!0}))}},{key:"stringifyAsync",value:function(M,q,X,Ke){return this.stringify(M,q,X,se({throwOnBadSyncType:!0},Ke,{sync:!1}))}},{key:"parse",value:function(M,q,X){return X=se({},this.options,{},X,{parse:!0}),this.revive(JSON.parse(M,q),X)}},{key:"parseSync",value:function(M,q,X){return this.parse(M,q,se({throwOnBadSyncType:!0},X,{sync:!0}))}},{key:"parseAsync",value:function(M,q,X){return this.parse(M,q,se({throwOnBadSyncType:!0},X,{sync:!1}))}},{key:"specialTypeNames",value:function(M,q){var X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return X.returnTypeNames=!0,this.encapsulate(M,q,X)}},{key:"rootTypeName",value:function(M,q){var X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return X.iterateNone=!0,this.encapsulate(M,q,X)}},{key:"encapsulate",value:function(M,q,X){var Le=(X=se({sync:!0},this.options,{},X)).sync,ze=this,we={},Tt=[],en=[],Mt=[],gn=!("cyclic"in X)||X.cyclic,vt=X.encapsulateObserver,qt=mt("",M,gn,q||{},Mt);function Zt(he){var f=Object.values(we);if(X.iterateNone)return f.length?f[0]:D.getJSONType(he);if(f.length){if(X.returnTypeNames)return At(new Set(f));he&&w(he)&&!Xt.call(he,"$types")?he.$types=we:he={$:he,$types:{$:we}}}else We(he)&&Xt.call(he,"$types")&&(he={$:he,$types:!0});return!X.returnTypeNames&&he}function jt(he,f){return it.apply(this,arguments)}function it(){return it=v(z.mark(function he(f,o){var l;return z.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,Promise.all(o.map(function(te){return te[1].p}));case 2:return l=T.sent,T.next=5,Promise.all(l.map(function(){var te=v(z.mark(function re(ve){var $,_e,Me,yt,nt,gt,Re,ye,ie;return z.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if($=[],_e=o.splice(0,1),Me=Ee(_e,1),yt=Ee(Me[0],7),gt=yt[4],Re=yt[5],ye=mt(nt=yt[0],ve,yt[2],yt[3],$,!0,yt[6]),ie=Y(ye,pe),!nt||!ie){Ie.next=11;break}return Ie.next=8,ye.p;case 8:return gt[Re]=Ie.sent,Ie.abrupt("return",jt(f,$));case 11:return nt?gt[Re]=ye:f=ie?ye.p:ye,Ie.abrupt("return",jt(f,$));case 13:case"end":return Ie.stop()}},re)}));return function(re){return te.apply(this,arguments)}}()));case 5:return T.abrupt("return",f);case 6:case"end":return T.stop()}},he)})),it.apply(this,arguments)}function ot(he,f,o){Object.assign(he,f);var l=an.map(function(h){var T=he[h];return delete he[h],T});o(),an.forEach(function(h,T){he[h]=l[T]})}function mt(he,f,o,l,h,T,te){var re,ve={},$=s(f),_e=vt?function(ie){var ee=te||l.type||D.getJSONType(f);vt(Object.assign(ie||ve,{keypath:he,value:f,cyclic:o,stateObj:l,promisesData:h,resolvingTypesonPromise:T,awaitingTypesonPromise:Y(f,pe)},{type:ee}))}:null;if(["string","boolean","number","undefined"].includes($))return void 0===f||"number"===$&&(isNaN(f)||f===-1/0||f===1/0)?(re=l.replaced?f:kt(he,f,l,h,!1,T,_e))!==f&&(ve={replaced:re}):re=f,_e&&_e(),re;if(null===f)return _e&&_e(),f;if(o&&!l.iterateIn&&!l.iterateUnsetNumeric&&f&&"object"===s(f)){var Me=Tt.indexOf(f);if(!(Me<0))return we[he]="#",_e&&_e({cyclicKeypath:en[Me]}),"#"+en[Me];!0===o&&(Tt.push(f),en.push(he))}var Xe,qe=w(f),yt=wt(f),nt=(qe||yt)&&(!ze.plainObjectReplacers.length||l.replaced)||l.iterateIn?f:kt(he,f,l,h,qe||yt,null,_e);if(nt!==f?(re=nt,ve={replaced:nt}):""===he&&Y(f,pe)?(h.push([he,f,o,l,void 0,void 0,l.type]),re=f):yt&&"object"!==l.iterateIn||"array"===l.iterateIn?(Xe=new Array(f.length),ve={clone:Xe}):(["function","symbol"].includes(s(f))||"toJSON"in f||Y(f,pe)||Y(f,Promise)||Y(f,ArrayBuffer))&&!qe&&"object"!==l.iterateIn?re=f:(Xe={},l.addLength&&(Xe.length=f.length),ve={clone:Xe}),_e&&_e(),X.iterateNone)return Xe||re;if(!Xe)return re;if(l.iterateIn){var xt=function(ee){var xe={ownKeys:Xt.call(f,ee)};ot(l,xe,function(){var Ie=he+(he?".":"")+ht(ee),Qe=mt(Ie,f[ee],!!o,l,h,T);Y(Qe,pe)?h.push([Ie,Qe,!!o,l,Xe,ee,l.type]):void 0!==Qe&&(Xe[ee]=Qe)})};for(var gt in f)xt(gt);_e&&_e({endIterateIn:!0,end:!0})}else lt(f).forEach(function(ie){var ee=he+(he?".":"")+ht(ie);ot(l,{ownKeys:!0},function(){var Ie=mt(ee,f[ie],!!o,l,h,T);Y(Ie,pe)?h.push([ee,Ie,!!o,l,Xe,ie,l.type]):void 0!==Ie&&(Xe[ie]=Ie)})}),_e&&_e({endIterateOwn:!0,end:!0});if(l.iterateUnsetNumeric){for(var Re=f.length,Ft=function(ee){if(!(ee in f)){var xe=he+(he?".":"")+ee;ot(l,{ownKeys:!1},function(){var Qe=mt(xe,void 0,!!o,l,h,T);Y(Qe,pe)?h.push([xe,Qe,!!o,l,Xe,ee,l.type]):void 0!==Qe&&(Xe[ee]=Qe)})}},ye=0;ye<Re;ye++)Ft(ye);_e&&_e({endIterateUnsetNumeric:!0,end:!0})}return Xe}function kt(he,f,o,l,h,T,te){for(var re=h?ze.plainObjectReplacers:ze.nonplainObjectReplacers,ve=re.length;ve--;){var $=re[ve];if($.test(f,o)){var _e=$.type;if(ze.revivers[_e]){var Me=we[he];we[he]=Me?[_e].concat(Me):_e}return Object.assign(o,{type:_e,replaced:!0}),!Le&&$.replaceAsync||$.replace?(te&&te({replacing:!0}),mt(he,$[Le||!$.replaceAsync?"replace":"replaceAsync"](f,o),gn&&"readonly",o,l,T,_e)):(te&&te({typeDetected:!0}),mt(he,f,gn&&"readonly",o,l,T,_e))}}return f}return Mt.length?Le&&X.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(jt(qt,Mt)).then(Zt):!Le&&X.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():X.stringification&&Le?[Zt(qt)]:Le?Zt(qt):Promise.resolve(Zt(qt))}},{key:"encapsulateSync",value:function(M,q,X){return this.encapsulate(M,q,se({throwOnBadSyncType:!0},X,{sync:!0}))}},{key:"encapsulateAsync",value:function(M,q,X){return this.encapsulate(M,q,se({throwOnBadSyncType:!0},X,{sync:!1}))}},{key:"revive",value:function(M,q){var X=M&&M.$types;if(!X)return M;if(!0===X)return M.$;var Le=(q=se({sync:!0},this.options,{},q)).sync,ze=[],we={},Tt=!0;X.$&&w(X.$)&&(M=M.$,X=X.$,Tt=!1);var en=this;function Mt(it,ot){var he=Ee(en.revivers[it]||[],1)[0];if(!he)throw new Error("Unregistered type: "+it);return Le&&!("revive"in he)?ot:he[Le&&he.revive?"revive":!Le&&he.reviveAsync?"reviveAsync":"revive"](ot,we)}var fn=[];function qt(it){return Y(it,un)?void 0:it}var jt,Zt=function gn(){var it=[];if(Object.entries(X).forEach(function(ot){var mt=Ee(ot,2),kt=mt[0],he=mt[1];"#"!==he&&[].concat(he).forEach(function(f){Ee(en.revivers[f]||[null,{}],2)[1].plain&&(it.push({keypath:kt,type:f}),delete X[kt])})}),it.length)return it.sort(fe).reduce(function ot(mt,kt){var he=kt.keypath,f=kt.type;if(B(mt))return mt.then(function(h){return ot(h,{keypath:he,type:f})});var o=Ct(M,he);if(Y(o=Mt(f,o),pe))return o.then(function(h){var T=on(M,he,h);T===h&&(M=T)});var l=on(M,he,o);l===o&&(M=l)},void 0)}();return Y(Zt,pe)?jt=Zt.then(function(){return M}):(jt=function vt(it,ot,mt,kt,he){if(!Tt||"$types"!==it){var f=X[it],o=wt(ot);if(o||w(ot)){var l=o?new Array(ot.length):{};for(lt(ot).forEach(function(Me){var qe=vt(it+(it?".":"")+ht(Me),ot[Me],mt||l,l,Me),yt=function(Xe){return Y(Xe,un)?l[Me]=void 0:void 0!==Xe&&(l[Me]=Xe),Xe};Y(qe,pe)?fn.push(qe.then(function(nt){return yt(nt)})):yt(qe)}),ot=l;ze.length;){var h=Ee(ze[0],4),re=h[2],ve=h[3],$=Ct(h[0],h[1]);if(void 0===$)break;re[ve]=$,ze.splice(0,1)}}if(!f)return ot;if("#"===f){var _e=Ct(mt,ot.slice(1));return void 0===_e&&ze.push([mt,ot.slice(1),kt,he]),_e}return[].concat(f).reduce(function Me(qe,yt){return Y(qe,pe)?qe.then(function(nt){return Me(nt,yt)}):Mt(yt,qe)},ot)}}("",M,null),fn.length&&(jt=pe.resolve(jt).then(function(it){return pe.all([it].concat(fn))}).then(function(it){return Ee(it,1)[0]}))),B(jt)?Le&&q.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Y(jt,pe)?jt.p.then(qt):jt:!Le&&q.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():Le?qt(jt):Promise.resolve(qt(jt))}},{key:"reviveSync",value:function(M,q){return this.revive(M,se({throwOnBadSyncType:!0},q,{sync:!0}))}},{key:"reviveAsync",value:function(M,q){return this.revive(M,se({throwOnBadSyncType:!0},q,{sync:!1}))}},{key:"register",value:function(M,q){return q=q||{},[].concat(M).forEach(function X(Ke){var Le=this;if(wt(Ke))return Ke.map(function(ze){return X.call(Le,ze)});Ke&&lt(Ke).forEach(function(ze){if("#"===ze)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(D.JSON_TYPES.includes(ze))throw new TypeError("Plain JSON object types are reserved as type names");var we=Ke[ze],Tt=we&&we.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,en=Tt.filter(function(mt){return mt.type===ze});if(en.length&&(Tt.splice(Tt.indexOf(en[0]),1),delete this.revivers[ze],delete this.types[ze]),"function"==typeof we){var Mt=we;we={test:function(kt){return kt&&kt.constructor===Mt},replace:function(kt){return se({},kt)},revive:function(kt){return Object.assign(Object.create(Mt.prototype),kt)}}}else if(wt(we)){var fn=Ee(we,3);we={test:fn[0],replace:fn[1],revive:fn[2]}}if(we&&we.test){var jt={type:ze,test:we.test.bind(we)};we.replace&&(jt.replace=we.replace.bind(we)),we.replaceAsync&&(jt.replaceAsync=we.replaceAsync.bind(we));var it="number"==typeof q.fallback?q.fallback:q.fallback?0:1/0;if(we.testPlainObjects?this.plainObjectReplacers.splice(it,0,jt):this.nonplainObjectReplacers.splice(it,0,jt),we.revive||we.reviveAsync){var ot={};we.revive&&(ot.revive=we.revive.bind(we)),we.reviveAsync&&(ot.reviveAsync=we.reviveAsync.bind(we)),this.revivers[ze]=[ot,{plain:we.testPlainObjects}]}this.types[ze]=we}},this)},this),this}}]),D}(),un=function D(){x(this,D)};return un.__typeson__type__="TypesonUndefined",Be.Undefined=un,Be.Promise=pe,Be.isThenable=B,Be.toStringTag=p,Be.hasConstructorOf=Y,Be.isObject=We,Be.isPlainObject=w,Be.isUserObject=function rt(D){if(!D||"Object"!==p(D))return!1;var L=He(D);return!L||Y(D,Object)||rt(L)},Be.escapeKeyPathComponent=ht,Be.unescapeKeyPathComponent=Pt,Be.getByKeyPath=Ct,Be.getJSONType=function Ht(D){return null===D?"null":Array.isArray(D)?"array":s(D)},Be.JSON_TYPES=["null","boolean","number","string","array","object"],Be}()}),Se=Oe(function(U,a){U.exports=function(){function s(f){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(f)}function v(f,o){for(var l=0;l<o.length;l++){var h=o[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}function x(f,o,l){return o in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function E(f,o){var l=Object.keys(f);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(f);o&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(f,T).enumerable})),l.push.apply(l,h)}return l}function de(f){return function(l){if(Array.isArray(l))return me(l)}(f)||function(l){if(typeof Symbol<"u"&&Symbol.iterator in Object(l))return Array.from(l)}(f)||function(l,h){if(l){if("string"==typeof l)return me(l,h);var T=Object.prototype.toString.call(l).slice(8,-1);if("Object"===T&&l.constructor&&(T=l.constructor.name),"Map"===T||"Set"===T)return Array.from(l);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return me(l,h)}}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(f,o){(null==o||o>f.length)&&(o=f.length);for(var l=0,h=new Array(o);l<o;l++)h[l]=f[l];return h}function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(f)}function se(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function Ee(f,o){for(var l=0;l<o.length;l++){var h=o[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}function At(f,o,l){return o in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function _t(f,o){var l=Object.keys(f);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(f);o&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(f,T).enumerable})),l.push.apply(l,h)}return l}function Ce(f){for(var o=1;o<arguments.length;o++){var l=null!=arguments[o]?arguments[o]:{};o%2?_t(Object(l),!0).forEach(function(h){At(f,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(l)):_t(Object(l)).forEach(function(h){Object.defineProperty(f,h,Object.getOwnPropertyDescriptor(l,h))})}return f}function Ne(f,o){return function(h){if(Array.isArray(h))return h}(f)||function(h,T){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(h)){var te=[],re=!0,ve=!1,$=void 0;try{for(var _e,Me=h[Symbol.iterator]();!(re=(_e=Me.next()).done)&&(te.push(_e.value),!T||te.length!==T);re=!0);}catch(qe){ve=!0,$=qe}finally{try{re||null==Me.return||Me.return()}finally{if(ve)throw $}}return te}}(f,o)||Dt(f,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(f,o){if(f){if("string"==typeof f)return Nt(f,o);var l=Object.prototype.toString.call(f).slice(8,-1);return"Object"===l&&f.constructor&&(l=f.constructor.name),"Map"===l||"Set"===l?Array.from(f):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Nt(f,o):void 0}}function Nt(f,o){(null==o||o>f.length)&&(o=f.length);for(var l=0,h=new Array(o);l<o;l++)h[l]=f[l];return h}var pe=function f(o){se(this,f),this.p=new Promise(o)};pe.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(pe.prototype[Symbol.toStringTag]="TypesonPromise"),pe.prototype.then=function(f,o){var l=this;return new pe(function(h,T){l.p.then(function(te){h(f?f(te):te)}).catch(function(te){return o?o(te):Promise.reject(te)}).then(h,T)})},pe.prototype.catch=function(f){return this.then(null,f)},pe.resolve=function(f){return new pe(function(o){o(f)})},pe.reject=function(f){return new pe(function(o,l){l(f)})},["all","race"].forEach(function(f){pe[f]=function(o){return new pe(function(l,h){Promise[f](o.map(function(T){return T&&T.constructor&&"TypesonPromise"===T.constructor.__typeson__type__?T.p:T})).then(l,h)})}});var Rt={}.toString,Pe={}.hasOwnProperty,pt=Object.getPrototypeOf,He=Pe.toString;function ue(f,o){return w(f)&&"function"==typeof f.then&&(!o||"function"==typeof f.catch)}function B(f){return Rt.call(f).slice(8,-1)}function p(f,o){if(!f||"object"!==k(f))return!1;var l=pt(f);if(!l)return null===o;var h=Pe.call(l,"constructor")&&l.constructor;return"function"!=typeof h?null===o:o===h||null!==o&&He.call(h)===He.call(o)||"function"==typeof o&&"string"==typeof h.__typeson__type__&&h.__typeson__type__===o.__typeson__type__}function Y(f){return!(!f||"Object"!==B(f))&&(!pt(f)||p(f,Object))}function w(f){return f&&"object"===k(f)}function rt(f){return f.replace(/~/g,"~0").replace(/\./g,"~1")}function We(f){return f.replace(/~1/g,".").replace(/~0/g,"~")}function ht(f,o){if(""===o)return f;var l=o.indexOf(".");if(l>-1){var h=f[We(o.slice(0,l))];return void 0===h?void 0:ht(h,o.slice(l+1))}return f[We(o)]}function Pt(f,o,l){if(""===o)return l;var h=o.indexOf(".");return h>-1?Pt(f[We(o.slice(0,h))],o.slice(h+1),l):(f[We(o)]=l,f)}function Ct(f,o,l){return l?o?o(f):f:(f&&f.then||(f=Promise.resolve(f)),o?f.then(o):f)}var on=Object.keys,Ht=Array.isArray,lt={}.hasOwnProperty,wt=["type","replaced","iterateIn","iterateUnsetNumeric"];function Xt(f){return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];try{return Promise.resolve(f.apply(this,o))}catch(h){return Promise.reject(h)}}}function an(f,o){if(""===f.keypath)return-1;var l=f.keypath.match(/\./g)||0,h=o.keypath.match(/\./g)||0;return l&&(l=l.length),h&&(h=h.length),l>h?-1:l<h?1:f.keypath<o.keypath?-1:f.keypath>o.keypath}var fe=function(){function f(o){se(this,f),this.options=o,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return l=f,h=[{key:"stringify",value:function(l,h,T,te){te=Ce(Ce(Ce({},this.options),te),{},{stringification:!0});var re=this.encapsulate(l,null,te);return Ht(re)?JSON.stringify(re[0],h,T):re.then(function(ve){return JSON.stringify(ve,h,T)})}},{key:"stringifySync",value:function(l,h,T,te){return this.stringify(l,h,T,Ce(Ce({throwOnBadSyncType:!0},te),{},{sync:!0}))}},{key:"stringifyAsync",value:function(l,h,T,te){return this.stringify(l,h,T,Ce(Ce({throwOnBadSyncType:!0},te),{},{sync:!1}))}},{key:"parse",value:function(l,h,T){return T=Ce(Ce(Ce({},this.options),T),{},{parse:!0}),this.revive(JSON.parse(l,h),T)}},{key:"parseSync",value:function(l,h,T){return this.parse(l,h,Ce(Ce({throwOnBadSyncType:!0},T),{},{sync:!0}))}},{key:"parseAsync",value:function(l,h,T){return this.parse(l,h,Ce(Ce({throwOnBadSyncType:!0},T),{},{sync:!1}))}},{key:"specialTypeNames",value:function(l,h){var T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return T.returnTypeNames=!0,this.encapsulate(l,h,T)}},{key:"rootTypeName",value:function(l,h){var T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return T.iterateNone=!0,this.encapsulate(l,h,T)}},{key:"encapsulate",value:function(l,h,T){var te=Xt(function(ye,ie){return Ct(Promise.all(ie.map(function(ee){return ee[1].p})),function(ee){return Ct(Promise.all(ee.map(Xt(function(xe){var Rn,nn,Ie=!1,Qe=[],St=Ne(ie.splice(0,1),1),Ot=Ne(St[0],7),zt=Ot[0],dn=Ot[4],Fe=Ot[5],$t=Re(zt,xe,Ot[2],Ot[3],Qe,!0,Ot[6]),tn=p($t,pe);return Rn=function(pn){return Ie?pn:(zt?dn[Fe]=$t:ye=tn?$t.p:$t,te(ye,Qe))},(nn=function(){if(zt&&tn)return Ct($t.p,function(pn){return dn[Fe]=pn,Ie=!0,te(ye,Qe)})}())&&nn.then?nn.then(Rn):Rn(nn)}))),function(){return ye})})}),re=(T=Ce(Ce({sync:!0},this.options),T)).sync,ve=this,$={},_e=[],Me=[],qe=[],yt=!("cyclic"in T)||T.cyclic,nt=T.encapsulateObserver,Xe=Re("",l,yt,h||{},qe);function xt(ye){var ie=Object.values($);if(T.iterateNone)return ie.length?ie[0]:f.getJSONType(ye);if(ie.length){if(T.returnTypeNames)return function ct(f){return function(l){if(Array.isArray(l))return Nt(l)}(f)||function(l){if(typeof Symbol<"u"&&Symbol.iterator in Object(l))return Array.from(l)}(f)||Dt(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(ie));ye&&Y(ye)&&!lt.call(ye,"$types")?ye.$types=$:ye={$:ye,$types:{$}}}else w(ye)&&lt.call(ye,"$types")&&(ye={$:ye,$types:!0});return!T.returnTypeNames&&ye}function gt(ye,ie,ee){Object.assign(ye,ie);var xe=wt.map(function(Ie){var Qe=ye[Ie];return delete ye[Ie],Qe});ee(),wt.forEach(function(Ie,Qe){ye[Ie]=xe[Qe]})}function Re(ye,ie,ee,xe,Ie,Qe,St){var Ot,zt={},Vt=k(ie),bt=nt?function(xn){var Jt=St||xe.type||f.getJSONType(ie);nt(Object.assign(xn||zt,{keypath:ye,value:ie,cyclic:ee,stateObj:xe,promisesData:Ie,resolvingTypesonPromise:Qe,awaitingTypesonPromise:p(ie,pe)},{type:Jt}))}:null;if(["string","boolean","number","undefined"].includes(Vt))return void 0===ie||Number.isNaN(ie)||ie===Number.NEGATIVE_INFINITY||ie===Number.POSITIVE_INFINITY?(Ot=xe.replaced?ie:Ft(ye,ie,xe,Ie,!1,Qe,bt))!==ie&&(zt={replaced:Ot}):Ot=ie,bt&&bt(),Ot;if(null===ie)return bt&&bt(),ie;if(ee&&!xe.iterateIn&&!xe.iterateUnsetNumeric&&ie&&"object"===k(ie)){var dn=_e.indexOf(ie);if(!(dn<0))return $[ye]="#",bt&&bt({cyclicKeypath:Me[dn]}),"#"+Me[dn];!0===ee&&(_e.push(ie),Me.push(ye))}var Fe,Bt=Y(ie),$t=Ht(ie),tn=(Bt||$t)&&(!ve.plainObjectReplacers.length||xe.replaced)||xe.iterateIn?ie:Ft(ye,ie,xe,Ie,Bt||$t,null,bt);if(tn!==ie?(Ot=tn,zt={replaced:tn}):""===ye&&p(ie,pe)?(Ie.push([ye,ie,ee,xe,void 0,void 0,xe.type]),Ot=ie):$t&&"object"!==xe.iterateIn||"array"===xe.iterateIn?(Fe=new Array(ie.length),zt={clone:Fe}):(["function","symbol"].includes(k(ie))||"toJSON"in ie||p(ie,pe)||p(ie,Promise)||p(ie,ArrayBuffer))&&!Bt&&"object"!==xe.iterateIn?Ot=ie:(Fe={},xe.addLength&&(Fe.length=ie.length),zt={clone:Fe}),bt&&bt(),T.iterateNone)return Fe||Ot;if(!Fe)return Ot;if(xe.iterateIn){var pn=function(Jt){var hn={ownKeys:lt.call(ie,Jt)};gt(xe,hn,function(){var An=ye+(ye?".":"")+rt(Jt),Cn=Re(An,ie[Jt],!!ee,xe,Ie,Qe);p(Cn,pe)?Ie.push([An,Cn,!!ee,xe,Fe,Jt,xe.type]):void 0!==Cn&&(Fe[Jt]=Cn)})};for(var wn in ie)pn(wn);bt&&bt({endIterateIn:!0,end:!0})}else on(ie).forEach(function(xn){var Jt=ye+(ye?".":"")+rt(xn);gt(xe,{ownKeys:!0},function(){var hn=Re(Jt,ie[xn],!!ee,xe,Ie,Qe);p(hn,pe)?Ie.push([Jt,hn,!!ee,xe,Fe,xn,xe.type]):void 0!==hn&&(Fe[xn]=hn)})}),bt&&bt({endIterateOwn:!0,end:!0});if(xe.iterateUnsetNumeric){for(var Rn=ie.length,nn=function(Jt){if(!(Jt in ie)){var hn=ye+(ye?".":"")+Jt;gt(xe,{ownKeys:!1},function(){var An=Re(hn,void 0,!!ee,xe,Ie,Qe);p(An,pe)?Ie.push([hn,An,!!ee,xe,Fe,Jt,xe.type]):void 0!==An&&(Fe[Jt]=An)})}},kn=0;kn<Rn;kn++)nn(kn);bt&&bt({endIterateUnsetNumeric:!0,end:!0})}return Fe}function Ft(ye,ie,ee,xe,Ie,Qe,St){for(var Ot=Ie?ve.plainObjectReplacers:ve.nonplainObjectReplacers,zt=Ot.length;zt--;){var Vt=Ot[zt];if(Vt.test(ie,ee)){var bt=Vt.type;if(ve.revivers[bt]){var dn=$[ye];$[ye]=dn?[bt].concat(dn):bt}return Object.assign(ee,{type:bt,replaced:!0}),!re&&Vt.replaceAsync||Vt.replace?(St&&St({replacing:!0}),Re(ye,Vt[re||!Vt.replaceAsync?"replace":"replaceAsync"](ie,ee),yt&&"readonly",ee,xe,Qe,bt)):(St&&St({typeDetected:!0}),Re(ye,ie,yt&&"readonly",ee,xe,Qe,bt))}}return ie}return qe.length?re&&T.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(te(Xe,qe)).then(xt):!re&&T.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():T.stringification&&re?[xt(Xe)]:re?xt(Xe):Promise.resolve(xt(Xe))}},{key:"encapsulateSync",value:function(l,h,T){return this.encapsulate(l,h,Ce(Ce({throwOnBadSyncType:!0},T),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(l,h,T){return this.encapsulate(l,h,Ce(Ce({throwOnBadSyncType:!0},T),{},{sync:!1}))}},{key:"revive",value:function(l,h){var T=l&&l.$types;if(!T)return l;if(!0===T)return l.$;var te=(h=Ce(Ce({sync:!0},this.options),h)).sync,re=[],ve={},$=!0;T.$&&Y(T.$)&&(l=l.$,T=T.$,$=!1);var _e=this;function Me(xt,gt){var Re=Ne(_e.revivers[xt]||[],1)[0];if(!Re)throw new Error("Unregistered type: "+xt);return te&&!("revive"in Re)?gt:Re[te&&Re.revive?"revive":!te&&Re.reviveAsync?"reviveAsync":"revive"](gt,ve)}var qe=[];function yt(xt){return p(xt,Be)?void 0:xt}var nt,Xe=function(){var gt=[];if(Object.entries(T).forEach(function(Re){var Ft=Ne(Re,2),ye=Ft[0],ie=Ft[1];"#"!==ie&&[].concat(ie).forEach(function(ee){Ne(_e.revivers[ee]||[null,{}],2)[1].plain&&(gt.push({keypath:ye,type:ee}),delete T[ye])})}),gt.length)return gt.sort(an).reduce(function Re(Ft,ye){var ie=ye.keypath,ee=ye.type;if(ue(Ft))return Ft.then(function(Qe){return Re(Qe,{keypath:ie,type:ee})});var xe=ht(l,ie);if(p(xe=Me(ee,xe),pe))return xe.then(function(Qe){var St=Pt(l,ie,Qe);St===Qe&&(l=St)});var Ie=Pt(l,ie,xe);Ie===xe&&(l=Ie)},void 0)}();return p(Xe,pe)?nt=Xe.then(function(){return l}):(nt=function xt(gt,Re,Ft,ye,ie){if(!$||"$types"!==gt){var ee=T[gt],xe=Ht(Re);if(xe||Y(Re)){var Ie=xe?new Array(Re.length):{};for(on(Re).forEach(function(Fe){var Bt=xt(gt+(gt?".":"")+rt(Fe),Re[Fe],Ft||Ie,Ie,Fe),$t=function(pn){return p(pn,Be)?Ie[Fe]=void 0:void 0!==pn&&(Ie[Fe]=pn),pn};p(Bt,pe)?qe.push(Bt.then(function(tn){return $t(tn)})):$t(Bt)}),Re=Ie;re.length;){var Qe=Ne(re[0],4),zt=Qe[2],Vt=Qe[3],bt=ht(Qe[0],Qe[1]);if(void 0===bt)break;zt[Vt]=bt,re.splice(0,1)}}if(!ee)return Re;if("#"===ee){var dn=ht(Ft,Re.slice(1));return void 0===dn&&re.push([Ft,Re.slice(1),ye,ie]),dn}return[].concat(ee).reduce(function Fe(Bt,$t){return p(Bt,pe)?Bt.then(function(tn){return Fe(tn,$t)}):Me($t,Bt)},Re)}}("",l,null),qe.length&&(nt=pe.resolve(nt).then(function(xt){return pe.all([xt].concat(qe))}).then(function(xt){return Ne(xt,1)[0]}))),ue(nt)?te&&h.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():p(nt,pe)?nt.p.then(yt):nt:!te&&h.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():te?yt(nt):Promise.resolve(yt(nt))}},{key:"reviveSync",value:function(l,h){return this.revive(l,Ce(Ce({throwOnBadSyncType:!0},h),{},{sync:!0}))}},{key:"reviveAsync",value:function(l,h){return this.revive(l,Ce(Ce({throwOnBadSyncType:!0},h),{},{sync:!1}))}},{key:"register",value:function(l,h){return h=h||{},[].concat(l).forEach(function T(te){var re=this;if(Ht(te))return te.map(function(ve){return T.call(re,ve)});te&&on(te).forEach(function(ve){if("#"===ve)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(f.JSON_TYPES.includes(ve))throw new TypeError("Plain JSON object types are reserved as type names");var $=te[ve],_e=$&&$.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,Me=_e.filter(function(gt){return gt.type===ve});if(Me.length&&(_e.splice(_e.indexOf(Me[0]),1),delete this.revivers[ve],delete this.types[ve]),"function"==typeof $){var qe=$;$={test:function(Re){return Re&&Re.constructor===qe},replace:function(Re){return Ce({},Re)},revive:function(Re){return Object.assign(Object.create(qe.prototype),Re)}}}else if(Ht($)){var yt=Ne($,3);$={test:yt[0],replace:yt[1],revive:yt[2]}}if($&&$.test){var nt={type:ve,test:$.test.bind($)};$.replace&&(nt.replace=$.replace.bind($)),$.replaceAsync&&(nt.replaceAsync=$.replaceAsync.bind($));var Xe="number"==typeof h.fallback?h.fallback:h.fallback?0:Number.POSITIVE_INFINITY;if($.testPlainObjects?this.plainObjectReplacers.splice(Xe,0,nt):this.nonplainObjectReplacers.splice(Xe,0,nt),$.revive||$.reviveAsync){var xt={};$.revive&&(xt.revive=$.revive.bind($)),$.reviveAsync&&(xt.reviveAsync=$.reviveAsync.bind($)),this.revivers[ve]=[xt,{plain:$.testPlainObjects}]}this.types[ve]=$}},this)},this),this}}],h&&Ee(l.prototype,h),f;var l,h}(),Be=function f(){se(this,f)};Be.__typeson__type__="TypesonUndefined",fe.Undefined=Be,fe.Promise=pe,fe.isThenable=ue,fe.toStringTag=B,fe.hasConstructorOf=p,fe.isObject=w,fe.isPlainObject=Y,fe.isUserObject=function f(o){if(!o||"Object"!==B(o))return!1;var l=pt(o);return!l||p(o,Object)||f(l)},fe.escapeKeyPathComponent=rt,fe.unescapeKeyPathComponent=We,fe.getByKeyPath=ht,fe.getJSONType=function(o){return null===o?"null":Array.isArray(o)?"array":k(o)},fe.JSON_TYPES=["null","boolean","number","string","array","object"];for(var un={userObject:{test:function(o,l){return fe.isUserObject(o)},replace:function(o){return function(h){for(var T=1;T<arguments.length;T++){var te=null!=arguments[T]?arguments[T]:{};T%2?E(Object(te),!0).forEach(function(re){x(h,re,te[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(te)):E(Object(te)).forEach(function(re){Object.defineProperty(h,re,Object.getOwnPropertyDescriptor(te,re))})}return h}({},o)},revive:function(o){return o}}},D=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(o,l){return!!Array.isArray(o)&&(Object.keys(o).some(function(h){return String(Number.parseInt(h))!==h})&&(l.iterateIn="object",l.addLength=!0),!0)},replace:function(o,l){return l.iterateUnsetNumeric=!0,o},revive:function(o){if(Array.isArray(o))return o;var l=[];return Object.keys(o).forEach(function(h){l[h]=o[h]}),l}}},{sparseUndefined:{test:function(o,l){return void 0===o&&!1===l.ownKeys},replace:function(o){return 0},revive:function(o){}}}],L={undef:{test:function(o,l){return void 0===o&&(l.ownKeys||!("ownKeys"in l))},replace:function(o){return 0},revive:function(o){return new fe.Undefined}}},M={StringObject:{test:function(o){return"String"===fe.toStringTag(o)&&"object"===s(o)},replace:function(o){return String(o)},revive:function(o){return new String(o)}},BooleanObject:{test:function(o){return"Boolean"===fe.toStringTag(o)&&"object"===s(o)},replace:function(o){return!!o},revive:function(o){return new Boolean(o)}},NumberObject:{test:function(o){return"Number"===fe.toStringTag(o)&&"object"===s(o)},replace:function(o){return Number(o)},revive:function(o){return new Number(o)}}},q=[{nan:{test:function(o){return Number.isNaN(o)},replace:function(o){return"NaN"},revive:function(o){return Number.NaN}}},{infinity:{test:function(o){return o===Number.POSITIVE_INFINITY},replace:function(o){return"Infinity"},revive:function(o){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(o){return o===Number.NEGATIVE_INFINITY},replace:function(o){return"-Infinity"},revive:function(o){return Number.NEGATIVE_INFINITY}}}],X={date:{test:function(o){return"Date"===fe.toStringTag(o)},replace:function(o){var l=o.getTime();return Number.isNaN(l)?"NaN":l},revive:function(o){return"NaN"===o?new Date(Number.NaN):new Date(o)}}},Ke={regexp:{test:function(o){return"RegExp"===fe.toStringTag(o)},replace:function(o){return{source:o.source,flags:(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":"")}},revive:function(o){return new RegExp(o.source,o.flags)}}},Le={map:{test:function(o){return"Map"===fe.toStringTag(o)},replace:function(o){return de(o.entries())},revive:function(o){return new Map(o)}}},ze={set:{test:function(o){return"Set"===fe.toStringTag(o)},replace:function(o){return de(o.values())},revive:function(o){return new Set(o)}}},we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tt=new Uint8Array(256),en=0;en<64;en++)Tt[we.charCodeAt(en)]=en;var Mt=function(o,l,h){null==h&&(h=o.byteLength);for(var T=new Uint8Array(o,l||0,h),te=T.length,re="",ve=0;ve<te;ve+=3)re+=we[T[ve]>>2],re+=we[(3&T[ve])<<4|T[ve+1]>>4],re+=we[(15&T[ve+1])<<2|T[ve+2]>>6],re+=we[63&T[ve+2]];return te%3==2?re=re.slice(0,-1)+"=":te%3==1&&(re=re.slice(0,-2)+"=="),re},gn=function(o){var l,h,T,te,re=o.length,ve=.75*o.length,$=0;"="===o[o.length-1]&&(ve--,"="===o[o.length-2]&&ve--);for(var _e=new ArrayBuffer(ve),Me=new Uint8Array(_e),qe=0;qe<re;qe+=4)l=Tt[o.charCodeAt(qe)],h=Tt[o.charCodeAt(qe+1)],T=Tt[o.charCodeAt(qe+2)],te=Tt[o.charCodeAt(qe+3)],Me[$++]=l<<2|h>>4,Me[$++]=(15&h)<<4|T>>2,Me[$++]=(3&T)<<6|63&te;return _e},fn={arraybuffer:{test:function(o){return"ArrayBuffer"===fe.toStringTag(o)},replace:function(o,l){l.buffers||(l.buffers=[]);var h=l.buffers.indexOf(o);return h>-1?{index:h}:(l.buffers.push(o),Mt(o))},revive:function(o,l){if(l.buffers||(l.buffers=[]),"object"===s(o))return l.buffers[o.index];var h=gn(o);return l.buffers.push(h),h}}},vt=typeof self>"u"?Ze:self,qt={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(f){var o=f,l=vt[o];l&&(qt[f.toLowerCase()]={test:function(T){return fe.toStringTag(T)===o},replace:function(T,te){var re=T.buffer,ve=T.byteOffset,$=T.length;te.buffers||(te.buffers=[]);var _e=te.buffers.indexOf(re);return _e>-1?{index:_e,byteOffset:ve,length:$}:(te.buffers.push(re),{encoded:Mt(re),byteOffset:ve,length:$})},revive:function(T,te){te.buffers||(te.buffers=[]);var re,ve=T.byteOffset,$=T.length;return"index"in T?re=te.buffers[T.index]:(re=gn(T.encoded),te.buffers.push(re)),new l(re,ve,$)}})});var Zt={dataview:{test:function(o){return"DataView"===fe.toStringTag(o)},replace:function(o,l){var h=o.buffer,T=o.byteOffset,te=o.byteLength;l.buffers||(l.buffers=[]);var re=l.buffers.indexOf(h);return re>-1?{index:re,byteOffset:T,byteLength:te}:(l.buffers.push(h),{encoded:Mt(h),byteOffset:T,byteLength:te})},revive:function(o,l){l.buffers||(l.buffers=[]);var h,T=o.byteOffset,te=o.byteLength;return"index"in o?h=l.buffers[o.index]:(h=gn(o.encoded),l.buffers.push(h)),new DataView(h,T,te)}}},jt={IntlCollator:{test:function(o){return fe.hasConstructorOf(o,Intl.Collator)},replace:function(o){return o.resolvedOptions()},revive:function(o){return new Intl.Collator(o.locale,o)}},IntlDateTimeFormat:{test:function(o){return fe.hasConstructorOf(o,Intl.DateTimeFormat)},replace:function(o){return o.resolvedOptions()},revive:function(o){return new Intl.DateTimeFormat(o.locale,o)}},IntlNumberFormat:{test:function(o){return fe.hasConstructorOf(o,Intl.NumberFormat)},replace:function(o){return o.resolvedOptions()},revive:function(o){return new Intl.NumberFormat(o.locale,o)}}};function it(f){for(var o=new Uint8Array(f.length),l=0;l<f.length;l++)o[l]=f.charCodeAt(l);return o.buffer}var ot={file:{test:function(o){return"File"===fe.toStringTag(o)},replace:function(o){var l=new XMLHttpRequest;if(l.overrideMimeType("text/plain; charset=x-user-defined"),l.open("GET",URL.createObjectURL(o),!1),l.send(),200!==l.status&&0!==l.status)throw new Error("Bad File access: "+l.status);return{type:o.type,stringContents:l.responseText,name:o.name,lastModified:o.lastModified}},revive:function(o){var l=o.name,h=o.type,te=o.lastModified;return new File([it(o.stringContents)],l,{type:h,lastModified:te})},replaceAsync:function(o){return new fe.Promise(function(l,h){var T=new FileReader;T.addEventListener("load",function(){l({type:o.type,stringContents:T.result,name:o.name,lastModified:o.lastModified})}),T.addEventListener("error",function(){h(T.error)}),T.readAsBinaryString(o)})}}},mt={bigint:{test:function(o){return"bigint"==typeof o},replace:function(o){return String(o)},revive:function(o){return BigInt(o)}}},kt={bigintObject:{test:function(o){return"object"===s(o)&&fe.hasConstructorOf(o,BigInt)},replace:function(o){return String(o)},revive:function(o){return new Object(BigInt(o))}}},he={cryptokey:{test:function(o){return"CryptoKey"===fe.toStringTag(o)&&o.extractable},replaceAsync:function(o){return new fe.Promise(function(l,h){crypto.subtle.exportKey("jwk",o).catch(function(T){h(T)}).then(function(T){l({jwk:T,algorithm:o.algorithm,usages:o.usages})})})},revive:function(o){return crypto.subtle.importKey("jwk",o.jwk,o.algorithm,!0,o.usages)}}};return[un,L,D,M,q,X,Ke,{imagedata:{test:function(o){return"ImageData"===fe.toStringTag(o)},replace:function(o){return{array:de(o.data),width:o.width,height:o.height}},revive:function(o){return new ImageData(new Uint8ClampedArray(o.array),o.width,o.height)}}},{imagebitmap:{test:function(o){return"ImageBitmap"===fe.toStringTag(o)||o&&o.dataset&&"ImageBitmap"===o.dataset.toStringTag},replace:function(o){var l=document.createElement("canvas");return l.getContext("2d").drawImage(o,0,0),l.toDataURL()},revive:function(o){var l=document.createElement("canvas"),h=l.getContext("2d"),T=document.createElement("img");return T.addEventListener("load",function(){h.drawImage(T,0,0)}),T.src=o,l},reviveAsync:function(o){var l=document.createElement("canvas"),h=l.getContext("2d"),T=document.createElement("img");return T.addEventListener("load",function(){h.drawImage(T,0,0)}),T.src=o,createImageBitmap(l)}}},ot,{file:ot.file,filelist:{test:function(o){return"FileList"===fe.toStringTag(o)},replace:function(o){for(var l=[],h=0;h<o.length;h++)l[h]=o.item(h);return l},revive:function(o){return new(function(){function l(){(function c(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")})(this,l),this._files=arguments[0],this.length=this._files.length}return T=l,te=[{key:"item",value:function(T){return this._files[T]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}],te&&v(T.prototype,te),l;var T,te}())(o)}}},{blob:{test:function(o){return"Blob"===fe.toStringTag(o)},replace:function(o){var l=new XMLHttpRequest;if(l.overrideMimeType("text/plain; charset=x-user-defined"),l.open("GET",URL.createObjectURL(o),!1),l.send(),200!==l.status&&0!==l.status)throw new Error("Bad Blob access: "+l.status);return{type:o.type,stringContents:l.responseText}},revive:function(o){var l=o.type;return new Blob([it(o.stringContents)],{type:l})},replaceAsync:function(o){return new fe.Promise(function(l,h){var T=new FileReader;T.addEventListener("load",function(){l({type:o.type,stringContents:T.result})}),T.addEventListener("error",function(){h(T.error)}),T.readAsBinaryString(o)})}}}].concat("function"==typeof Map?Le:[],"function"==typeof Set?ze:[],"function"==typeof ArrayBuffer?fn:[],"function"==typeof Uint8Array?qt:[],"function"==typeof DataView?Zt:[],typeof Intl<"u"?jt:[],typeof crypto<"u"?he:[],typeof BigInt<"u"?[mt,kt]:[])}()}),Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te=new Uint8Array(256),Ue=0;Ue<64;Ue++)Te[Ge.codePointAt(Ue)]=Ue;var Ye=function(a,s,c){null==c&&(c=a.byteLength);for(var v=new Uint8Array(a,s||0,c),x=v.length,E="",de=0;de<x;de+=3)E+=Ge[v[de]>>2],E+=Ge[(3&v[de])<<4|v[de+1]>>4],E+=Ge[(15&v[de+1])<<2|v[de+2]>>6],E+=Ge[63&v[de+2]];return x%3==2?E=E.slice(0,-1)+"=":x%3==1&&(E=E.slice(0,-2)+"=="),E},dt=function(a){var x,E,de,me,s=a.length,c=.75*a.length,v=0;"="===a[a.length-1]&&(c--,"="===a[a.length-2]&&c--);for(var k=new ArrayBuffer(c),se=new Uint8Array(k),Ee=0;Ee<s;Ee+=4)x=Te[a.codePointAt(Ee)],E=Te[a.codePointAt(Ee+1)],de=Te[a.codePointAt(Ee+2)],me=Te[a.codePointAt(Ee+3)],se[v++]=x<<2|E>>4,se[v++]=(15&E)<<4|de>>2,se[v++]=(3&de)<<6|63&me;return k},ut=typeof self>"u"?global:self,st={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(U){var a=U,s=ut[a];s&&(st[U.toLowerCase()+"2"]={test:function(c){return Et.toStringTag(c)===a},replace:function(c){return{buffer:c.buffer,byteOffset:c.byteOffset,length:c.length}},revive:function(c){return new s(c.buffer,c.byteOffset,c.length)}})});var be={arraybuffer:{test:function(U){return"ArrayBuffer"===Et.toStringTag(U)},replace:function(U){return Ye(U,0,U.byteLength)},revive:function(U){return dt(U)}}},tt=(new Et).register(Se),rn="FileReaderSync"in self,It=[],Je=0;tt.register([be,st,{blob2:{test:function(U){return"Blob"===Et.toStringTag(U)},replace:function(U){if(U.isClosed)throw new Error("The Blob is closed");if(rn){var a=at(U,"binary"),s=Ye(a,0,a.byteLength);return{type:U.type,data:s}}It.push(U);var c={type:U.type,data:{start:Je,end:Je+U.size}};return Je+=U.size,c},finalize:function(U,a){U.data=Ye(a,0,a.byteLength)},revive:function(U){var a=U.type;return new Blob([dt(U.data)],{type:a})}}}]),tt.mustFinalize=function(){return It.length>0},tt.finalize=function(U){return ce(void 0,void 0,void 0,function(){var a,s,c,v,x,E,de,k,se,Ee,At;return ge(this,function(_t){switch(_t.label){case 0:return[4,$e(new Blob(It),"binary")];case 1:if(a=_t.sent(),U)for(s=0,c=U;s<c.length;s++)if((v=c[s]).$types)for(de in(E=(x=v.$types).$)&&(x=x.$),x)(k=tt.types[x[de]])&&k.finalize&&(se=G.ZP.getByKeyPath(v,E?"$."+de:de),k.finalize(se,a.slice(null===(Ee=se.data)||void 0===Ee?void 0:Ee.start,null===(At=se.data)||void 0===At?void 0:At.end)));return It=[],Je=0,[2]}})})};var En_Stream=function(){},Yt=Oe(function(U,a){!function(s){var c="object"==typeof process&&process.env?process.env:self;s.parser=function(B){return new _t(B)},s.CParser=_t,s.CStream=Ne,s.createStream=function Ce(B){return new Ne(B)},s.MAX_BUFFER_LENGTH=10485760,s.DEBUG="debug"===c.CDEBUG,s.INFO="debug"===c.CDEBUG||"info"===c.CDEBUG,s.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var de,v={textNode:void 0,numberNode:""},x=s.EVENTS.filter(function(B){return"error"!==B&&"end"!==B}),E=0;for(var me in s.STATE={BEGIN:E++,VALUE:E++,OPEN_OBJECT:E++,CLOSE_OBJECT:E++,OPEN_ARRAY:E++,CLOSE_ARRAY:E++,TEXT_ESCAPE:E++,STRING:E++,BACKSLASH:E++,END:E++,OPEN_KEY:E++,CLOSE_KEY:E++,TRUE:E++,TRUE2:E++,TRUE3:E++,FALSE:E++,FALSE2:E++,FALSE3:E++,FALSE4:E++,NULL:E++,NULL2:E++,NULL3:E++,NUMBER_DECIMAL_POINT:E++,NUMBER_DIGIT:E++},s.STATE)s.STATE[s.STATE[me]]=me;E=s.STATE;function Ee(B){for(var p in v)B[p]=v[p]}Object.create||(Object.create=function(B){function p(){this.__proto__=B}return p.prototype=B,new p}),Object.getPrototypeOf||(Object.getPrototypeOf=function(B){return B.__proto__}),Object.keys||(Object.keys=function(B){var p=[];for(var Y in B)B.hasOwnProperty(Y)&&p.push(Y);return p});var At=/[\\"\n]/g;function _t(B){if(!(this instanceof _t))return new _t(B);var p=this;Ee(p),p.bufferCheckPosition=s.MAX_BUFFER_LENGTH,p.q=p.c=p.p="",p.opt=B||{},p.closed=p.closedRoot=p.sawRoot=!1,p.tag=p.error=null,p.state=E.BEGIN,p.stack=new Array,p.position=p.column=0,p.line=1,p.slashed=!1,p.unicodeI=0,p.unicodeS=null,p.depth=0,ct(p,"onready")}_t.prototype={end:function(){pt(this)},write:function ue(B){var p=this;if(this.error)throw this.error;if(p.closed)return Pe(p,"Cannot write after close. Assign an onready handler.");if(null===B)return pt(p);var Y=0,w=B.charCodeAt(0),rt=p.p;for(s.DEBUG&&console.log("write -> ["+B+"]");w&&(rt=w,p.c=w=B.charCodeAt(Y++),rt!==w?p.p=rt:rt=p.p,w);)switch(s.DEBUG&&console.log(Y,w,s.STATE[p.state]),p.position++,10===w?(p.line++,p.column=0):p.column++,p.state){case E.BEGIN:123===w?p.state=E.OPEN_OBJECT:91===w?p.state=E.OPEN_ARRAY:He(w)||Pe(p,"Non-whitespace before {[.");continue;case E.OPEN_KEY:case E.OPEN_OBJECT:if(He(w))continue;if(p.state===E.OPEN_KEY)p.stack.push(E.CLOSE_KEY);else{if(125===w){ct(p,"onopenobject"),this.depth++,ct(p,"oncloseobject"),this.depth--,p.state=p.stack.pop()||E.VALUE;continue}p.stack.push(E.CLOSE_OBJECT)}34===w?p.state=E.STRING:Pe(p,'Malformed object key should start with "');continue;case E.CLOSE_KEY:case E.CLOSE_OBJECT:if(He(w))continue;58===w?(p.state===E.CLOSE_OBJECT?(p.stack.push(E.CLOSE_OBJECT),Nt(p,"onopenobject"),this.depth++):Nt(p,"onkey"),p.state=E.VALUE):125===w?(Dt(p,"oncloseobject"),this.depth--,p.state=p.stack.pop()||E.VALUE):44===w?(p.state===E.CLOSE_OBJECT&&p.stack.push(E.CLOSE_OBJECT),Nt(p),p.state=E.OPEN_KEY):Pe(p,"Bad object");continue;case E.OPEN_ARRAY:case E.VALUE:if(He(w))continue;if(p.state===E.OPEN_ARRAY){if(ct(p,"onopenarray"),this.depth++,p.state=E.VALUE,93===w){ct(p,"onclosearray"),this.depth--,p.state=p.stack.pop()||E.VALUE;continue}p.stack.push(E.CLOSE_ARRAY)}34===w?p.state=E.STRING:123===w?p.state=E.OPEN_OBJECT:91===w?p.state=E.OPEN_ARRAY:116===w?p.state=E.TRUE:102===w?p.state=E.FALSE:110===w?p.state=E.NULL:45===w?p.numberNode+="-":48<=w&&w<=57?(p.numberNode+=String.fromCharCode(w),p.state=E.NUMBER_DIGIT):Pe(p,"Bad value");continue;case E.CLOSE_ARRAY:if(44===w)p.stack.push(E.CLOSE_ARRAY),Nt(p,"onvalue"),p.state=E.VALUE;else if(93===w)Dt(p,"onclosearray"),this.depth--,p.state=p.stack.pop()||E.VALUE;else{if(He(w))continue;Pe(p,"Bad array")}continue;case E.STRING:void 0===p.textNode&&(p.textNode="");var We=Y-1,ht=p.slashed,Pt=p.unicodeI;e:for(;;){for(s.DEBUG&&console.log(Y,w,s.STATE[p.state],ht);Pt>0;)if(p.unicodeS+=String.fromCharCode(w),w=B.charCodeAt(Y++),p.position++,4===Pt?(p.textNode+=String.fromCharCode(parseInt(p.unicodeS,16)),Pt=0,We=Y-1):Pt++,!w)break e;if(34===w&&!ht){p.state=p.stack.pop()||E.VALUE,p.textNode+=B.substring(We,Y-1),p.position+=Y-1-We;break}if(92===w&&!ht&&(ht=!0,p.textNode+=B.substring(We,Y-1),p.position+=Y-1-We,w=B.charCodeAt(Y++),p.position++,!w))break;if(ht){if(ht=!1,110===w?p.textNode+="\n":114===w?p.textNode+="\r":116===w?p.textNode+="\t":102===w?p.textNode+="\f":98===w?p.textNode+="\b":117===w?(Pt=1,p.unicodeS=""):p.textNode+=String.fromCharCode(w),w=B.charCodeAt(Y++),p.position++,We=Y-1,w)continue;break}At.lastIndex=Y;var Ct=At.exec(B);if(null===Ct){p.textNode+=B.substring(We,(Y=B.length+1)-1),p.position+=Y-1-We;break}if(Y=Ct.index+1,!(w=B.charCodeAt(Ct.index))){p.textNode+=B.substring(We,Y-1),p.position+=Y-1-We;break}}p.slashed=ht,p.unicodeI=Pt;continue;case E.TRUE:114===w?p.state=E.TRUE2:Pe(p,"Invalid true started with t"+w);continue;case E.TRUE2:117===w?p.state=E.TRUE3:Pe(p,"Invalid true started with tr"+w);continue;case E.TRUE3:101===w?(ct(p,"onvalue",!0),p.state=p.stack.pop()||E.VALUE):Pe(p,"Invalid true started with tru"+w);continue;case E.FALSE:97===w?p.state=E.FALSE2:Pe(p,"Invalid false started with f"+w);continue;case E.FALSE2:108===w?p.state=E.FALSE3:Pe(p,"Invalid false started with fa"+w);continue;case E.FALSE3:115===w?p.state=E.FALSE4:Pe(p,"Invalid false started with fal"+w);continue;case E.FALSE4:101===w?(ct(p,"onvalue",!1),p.state=p.stack.pop()||E.VALUE):Pe(p,"Invalid false started with fals"+w);continue;case E.NULL:117===w?p.state=E.NULL2:Pe(p,"Invalid null started with n"+w);continue;case E.NULL2:108===w?p.state=E.NULL3:Pe(p,"Invalid null started with nu"+w);continue;case E.NULL3:108===w?(ct(p,"onvalue",null),p.state=p.stack.pop()||E.VALUE):Pe(p,"Invalid null started with nul"+w);continue;case E.NUMBER_DECIMAL_POINT:46===w?(p.numberNode+=".",p.state=E.NUMBER_DIGIT):Pe(p,"Leading zero not followed by .");continue;case E.NUMBER_DIGIT:48<=w&&w<=57?p.numberNode+=String.fromCharCode(w):46===w?(-1!==p.numberNode.indexOf(".")&&Pe(p,"Invalid number has two dots"),p.numberNode+="."):101===w||69===w?((-1!==p.numberNode.indexOf("e")||-1!==p.numberNode.indexOf("E"))&&Pe(p,"Invalid number has two exponential"),p.numberNode+="e"):43===w||45===w?(101===rt||69===rt||Pe(p,"Invalid symbol in number"),p.numberNode+=String.fromCharCode(w)):(pe(p),Y--,p.state=p.stack.pop()||E.VALUE);continue;default:Pe(p,"Unknown state: "+p.state)}return p.position>=p.bufferCheckPosition&&function se(B){var p=Math.max(s.MAX_BUFFER_LENGTH,10),Y=0;for(var w in v){var rt=void 0===B[w]?0:B[w].length;rt>p&&("text"===w?closeText(B):Pe(B,"Max buffer length exceeded: "+w)),Y=Math.max(Y,rt)}B.bufferCheckPosition=s.MAX_BUFFER_LENGTH-Y+B.position}(p),p},resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{de=En_Stream}catch{de=function(){}}function Ne(B){if(!(this instanceof Ne))return new Ne(B);this._parser=new _t(B),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var p=this;de.apply(p),this._parser.onend=function(){p.emit("end")},this._parser.onerror=function(Y){p.emit("error",Y),p._parser.error=null},x.forEach(function(Y){Object.defineProperty(p,"on"+Y,{get:function(){return p._parser["on"+Y]},set:function(w){if(!w)return p.removeAllListeners(Y),p._parser["on"+Y]=w,w;p.on(Y,w)},enumerable:!0,configurable:!1})})}function ct(B,p,Y){s.INFO&&console.log("-- emit",p,Y),B[p]&&B[p](Y)}function Dt(B,p,Y){Nt(B),ct(B,p,Y)}function Nt(B,p){B.textNode=function Rt(B,p){return void 0===p||(B.trim&&(p=p.trim()),B.normalize&&(p=p.replace(/\s+/g," "))),p}(B.opt,B.textNode),void 0!==B.textNode&&ct(B,p||"onvalue",B.textNode),B.textNode=void 0}function pe(B){B.numberNode&&ct(B,"onvalue",parseFloat(B.numberNode)),B.numberNode=""}function Pe(B,p){return Nt(B),p+="\nLine: "+B.line+"\nColumn: "+B.column+"\nChar: "+B.c,p=new Error(p),B.error=p,ct(B,"onerror",p),B}function pt(B){return(B.state!==E.VALUE||0!==B.depth)&&Pe(B,"Unexpected end"),Nt(B),B.c="",B.closed=!0,ct(B,"onend"),_t.call(B,B.opt),B}function He(B){return 13===B||10===B||32===B||9===B}(Ne.prototype=Object.create(de.prototype,{constructor:{value:Ne}})).write=function(B){B=new Buffer(B);for(var p=0;p<B.length;p++){var Y=B[p];if(this.bytes_remaining>0){for(var w=0;w<this.bytes_remaining;w++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+w]=B[w];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,p=p+w-1,this._parser.write(this.string),this.emit("data",this.string)}else if(0===this.bytes_remaining&&Y>=128){if(Y>=194&&Y<=223&&(this.bytes_in_sequence=2),Y>=224&&Y<=239&&(this.bytes_in_sequence=3),Y>=240&&Y<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+p>B.length){for(var rt=0;rt<=B.length-1-p;rt++)this.temp_buffs[this.bytes_in_sequence][rt]=B[p+rt];return this.bytes_remaining=p+this.bytes_in_sequence-B.length,!0}this.string=B.slice(p,p+this.bytes_in_sequence).toString(),p=p+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string)}else{for(var We=p;We<B.length&&!(B[We]>=128);We++);this.string=B.slice(p,We).toString(),this._parser.write(this.string),this.emit("data",this.string),p=We-1}}},Ne.prototype.end=function(B){return B&&B.length&&this._parser.write(B.toString()),this._parser.end(),!0},Ne.prototype.on=function(B,p){var Y=this;return!Y._parser["on"+B]&&-1!==x.indexOf(B)&&(Y._parser["on"+B]=function(){var w=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);w.splice(0,0,B),Y.emit.apply(Y,w)}),de.prototype.on.call(Y,B,p)},Ne.prototype.destroy=function(){Ee(this._parser),this.emit("close")}}(a)});function Pn(U,a,s){return ce(this,void 0,void 0,function(){function c(){return ce(this,void 0,void 0,function(){var Ne,ct,Dt;return ge(this,function(Rt){switch(Rt.label){case 0:Ne=function(Pe){var pt,He,ue,B,p,Y,w,rt,We,ht,Pt,Ct,on;return ge(this,function(Ht){switch(Ht.label){case 0:if(k.includes(Pe.tableName))return[2,"continue"];if(!Pe.rows)return[2,"break"];if(!Pe.rows.incomplete&&0===Pe.rows.length)return[2,"continue"];if(se&&G.ZP.ignoreTransaction(function(){return se(Ee)}),He=U.table(pt=Pe.tableName),ue=me.tables.filter(function(lt){return lt.name===pt})[0].schema,!He){if(s.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(Pe.tableName," is missing in installed database"))}if(!s.acceptChangedPrimaryKey&&ue.split(",")[0]!=He.schema.primKey.src)throw new Error("Primary key differs for table ".concat(Pe.tableName,". "));for(B=Pe.rows,p=[],Y=0;Y<B.length&&!(w=B[Y]).incomplete;Y++)p.push(tt.revive(w));return We=s.transform,ht=(rt=s.filter)?p.filter(Pe.inbound?function(lt){return rt(pt,lt)}:function(lt){return rt(pt,lt[1],lt[0])}):p,We&&(ht=ht.map(Pe.inbound?function(lt){return We(pt,lt).value}:function(lt){var an=We(pt,lt[1],lt[0]);return[an.key,an.value]})),Pt=Pe.inbound?[void 0,ht]:[ht.map(function(lt){return lt[0]}),p.map(function(lt){return lt[1]})],Ct=Pt[0],on=Pt[1],s.overwriteValues?[4,He.bulkPut(on,Ct)]:[3,2];case 1:return Ht.sent(),[3,4];case 2:return[4,He.bulkAdd(on,Ct)];case 3:Ht.sent(),Ht.label=4;case 4:return Ee.completedRows+=p.length,p.incomplete||(Ee.completedTables+=1),B.splice(0,p.length),[2]}})},ct=0,Dt=me.data,Rt.label=1;case 1:return ct<Dt.length?[5,Ne(Dt[ct])]:[3,4];case 2:if("break"===Rt.sent())return[3,4];Rt.label=3;case 3:return ct++,[3,1];case 4:for(;me.data.length>0&&me.data[0].rows&&!me.data[0].rows.incomplete;)me.data.splice(0,1);return x.done()||x.eof()?[3,8]:de?(x.pullSync(v),[3,7]):[3,5];case 5:return[4,G.ZP.waitFor(x.pullAsync(v))];case 6:Rt.sent(),Rt.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var v,x,de,me,k,se,Ee,At,_t,Ce;return ge(this,function(Ne){switch(Ne.label){case 0:return[4,bn(a,v=(s=s||{}).chunkSizeBytes||1048576)];case 1:if(x=Ne.sent(),de="FileReaderSync"in self,me=x.result.data,k=s.skipTables?s.skipTables:[],!s.acceptNameDiff&&U.name!==me.databaseName)throw new Error("Name differs. Current database name is ".concat(U.name," but export is ").concat(me.databaseName));if(!s.acceptVersionDiff&&U.verno!==me.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(U.verno," but export is ").concat(me.databaseVersion));if(se=s.progressCallback,Ee={done:!1,completedRows:0,completedTables:0,totalRows:me.tables.reduce(function(ct,Dt){return ct+Dt.rowCount},0),totalTables:me.tables.length},se&&G.ZP.ignoreTransaction(function(){return se(Ee)}),!s.clearTablesBeforeImport)return[3,5];At=0,_t=U.tables,Ne.label=2;case 2:return At<_t.length?k.includes((Ce=_t[At]).name)?[3,4]:[4,Ce.clear()]:[3,5];case 3:Ne.sent(),Ne.label=4;case 4:return At++,[3,2];case 5:return s.noTransaction?[4,c()]:[3,7];case 6:return Ne.sent(),[3,9];case 7:return[4,U.transaction("rw",U.tables,c)];case 8:Ne.sent(),Ne.label=9;case 9:return Ee.done=!0,se&&G.ZP.ignoreTransaction(function(){return se(Ee)}),[2]}})})}function bn(U,a){return ce(this,void 0,void 0,function(){var s,c;return ge(this,function(v){switch(v.label){case 0:s="slice"in U?function mn(U){var a=0,s=function Kt(U){var c,x,E,a=Yt.parser(),s=0,v=[],de=!1,me=!1;return a.onopenobject=function(k){var se={incomplete:!0};c||(c=se),x&&(v.push([E,x,me]),U&&(me?x.push(se):x[E]=se)),x=se,E=k,me=!1,++s},a.onkey=function(k){return E=k},a.onvalue=function(k){return me?x.push(k):x[E]=k},a.oncloseobject=function(){var k;if(delete x.incomplete,E=null,0===--s)de=!0;else{var se=x;k=v.pop(),E=k[0],x=k[1],me=k[2],U||(me?x.push(se):x[E]=se)}},a.onopenarray=function(){var k=[];k.incomplete=!0,c||(c=k),x&&(v.push([E,x,me]),U&&(me?x.push(k):x[E]=k)),x=k,me=!0,E=null,++s},a.onclosearray=function(){var k;if(delete x.incomplete,E=null,0===--s)de=!0;else{var se=x;k=v.pop(),E=k[0],x=k[1],me=k[2],U||(me?x.push(se):x[E]=se)}},{write:function(k){return a.write(k),c},done:function(){return de}}}(!0),c={pullAsync:function(v){return ce(this,void 0,void 0,function(){var x,E,de;return ge(this,function(me){switch(me.label){case 0:return x=U.slice(a,a+v),a+=v,[4,$e(x,"text")];case 1:return E=me.sent(),de=s.write(E),c.result=de||{},[2,de]}})})},pullSync:function(v){var x=U.slice(a,a+v);a+=v;var E=at(x,"text"),de=s.write(E);return c.result=de||{},de},done:function(){return s.done()},eof:function(){return a>=U.size},result:{}};return c}(U):U,v.label=1;case 1:return s.eof()?[3,3]:[4,s.pullAsync(a)];case 2:return v.sent(),s.result.data&&s.result.data.data?[3,3]:[3,1];case 3:if(!(c=s.result)||"dexie"!=c.formatName)throw new Error("Given file is not a dexie export");if(c.formatVersion>1)throw new Error("Format version ".concat(c.formatVersion," not supported"));if(!c.data)throw new Error("No data in export file");if(!c.data.databaseName)throw new Error("Missing databaseName in export file");if(!c.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!c.data.tables)throw new Error("Missing tables in export file");return[2,s]}})})}function Ln(){return(Ln=(0,C.Z)(function*(U){const a=U.map(v=>"correctExam"+v),c=(yield G.ZP.getDatabaseNames()).filter(v=>v.startsWith("correctExam")&&!a.includes(v));for(let v=0;v<c.length;v++)try{yield G.ZP.delete(c[v]),console.log("remove old database",c[v])}catch(x){console.error("unable to remove old database",c[v],x)}})).apply(this,arguments)}G.ZP.prototype.export=function(U){return function On(U,a){return ce(this,void 0,void 0,function(){function s(){return ce(this,void 0,void 0,function(){var Ee,At,_t,Ce,Ne,ct,Dt,Nt,pe;return ge(this,function(Pe){switch(Pe.label){case 0:return[4,Promise.all(v.map(function(pt){return pt.count()}))];case 1:(Ee=Pe.sent()).forEach(function(pt,He){return E[He].rowCount=pt}),se.totalRows=Ee.reduce(function(pt,He){return pt+He}),At=JSON.stringify(me,void 0,de?2:void 0),_t=At.lastIndexOf("]"),Ce=At.substring(0,_t),x.push(Ce),Ne=a.filter,ct=a.transform,Dt=function(pt){var He,ue,B,p,w,rt,We,ht,Pt,Ct;return ge(this,function(Ht){switch(Ht.label){case 0:He=U.table(pt),B=!!(ue=He.schema.primKey).keyPath,p=a.numRowsPerChunk||2e3,w=JSON.stringify(B?{tableName:He.name,inbound:!0,rows:[]}:{tableName:He.name,inbound:!1,rows:[]},void 0,de?2:void 0),de&&(w=w.split("\n").join("\n    ")),rt=w.lastIndexOf("]"),x.push(w.substring(0,rt)),We=null,ht=0,Pt=!0,Ct=function(){var lt,wt,Xt,an,fe,Be,un,D,L;return ge(this,function(M){switch(M.label){case 0:return k&&G.ZP.ignoreTransaction(function(){return k(se)}),[4,(lt=null==We?He.limit(p):He.where(":id").above(We).limit(p)).toArray()];case 1:return 0===(wt=M.sent()).length?[2,"break"]:(null!=We&&ht>0&&(x.push(","),de&&x.push("\n      ")),Pt=wt.length===p,B?(Xt=Ne?wt.filter(function(q){return Ne(pt,q)}):wt,an=ct?Xt.map(function(q){return ct(pt,q).value}):Xt,fe=an.map(function(q){return tt.encapsulate(q)}),tt.mustFinalize()?[4,G.ZP.waitFor(tt.finalize(fe))]:[3,3]):[3,4]);case 2:M.sent(),M.label=3;case 3:return L=JSON.stringify(fe,void 0,de?2:void 0),de&&(L=L.split("\n").join("\n      ")),x.push(new Blob([L.substring(1,L.length-1)])),ht=an.length,We=wt.length>0?G.ZP.getByKeyPath(wt[wt.length-1],ue.keyPath):null,[3,8];case 4:return[4,lt.primaryKeys()];case 5:return Be=M.sent(),un=Be.map(function(q,X){return[q,wt[X]]}),Ne&&(un=un.filter(function(q){return Ne(pt,q[1],q[0])})),ct&&(un=un.map(function(q){var Le=ct(pt,q[1],q[0]);return[Le.key,Le.value]})),D=un.map(function(q){return tt.encapsulate(q)}),tt.mustFinalize()?[4,G.ZP.waitFor(tt.finalize(D))]:[3,7];case 6:M.sent(),M.label=7;case 7:L=JSON.stringify(D,void 0,de?2:void 0),de&&(L=L.split("\n").join("\n      ")),x.push(new Blob([L.substring(1,L.length-1)])),ht=un.length,We=Be.length>0?Be[Be.length-1]:null,M.label=8;case 8:return se.completedRows+=wt.length,[2]}})},Ht.label=1;case 1:return Pt?[5,Ct()]:[3,3];case 2:return"break"===Ht.sent()?[3,3]:[3,1];case 3:return x.push(w.substr(rt)),se.completedTables+=1,se.completedTables<se.totalTables&&x.push(","),[2]}})},Nt=0,pe=E,Pe.label=2;case 2:return Nt<pe.length?[5,Dt(pe[Nt].name)]:[3,5];case 3:Pe.sent(),Pe.label=4;case 4:return Nt++,[3,2];case 5:return x.push(At.substr(_t)),se.done=!0,k&&G.ZP.ignoreTransaction(function(){return k(se)}),[2]}})})}var c,v,x,E,de,me,k,se;return ge(this,function(Ee){switch(Ee.label){case 0:c=(a=a||{}).skipTables?a.skipTables:[],v=U.tables.filter(function(At){return!c.includes(At.name)}),x=[],E=v.map(function(At){return{name:At.name,schema:et(At),rowCount:0}}),de=a.prettyJson,me={formatName:"dexie",formatVersion:1,data:{databaseName:U.name,databaseVersion:U.verno,tables:E,data:[]}},k=a.progressCallback,se={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:E.length},Ee.label=1;case 1:return Ee.trys.push([1,,6,7]),a.noTransaction?[4,s()]:[3,3];case 2:return Ee.sent(),[3,5];case 3:return[4,U.transaction("r",U.tables,s)];case 4:Ee.sent(),Ee.label=5;case 5:return[3,7];case 6:return tt.finalize(),[7];case 7:return[2,new Blob(x,{type:"text/json"})]}})})}(this,U)},G.ZP.prototype.import=function(U,a){return Pn(this,U,a)},G.ZP.import=function(U,a){return function vn(U,a){return ce(this,void 0,void 0,function(){var c,v,x;return ge(this,function(E){switch(E.label){case 0:return[4,bn(U,(a=a||{}).chunkSizeBytes||1048576)];case 1:return c=E.sent(),v=c.result.data,(x=new G.ZP(void 0!==a.name?a.name:v.databaseName)).version(v.databaseVersion).stores(function ke(U){for(var a={},s=0,c=U.tables;s<c.length;s++){var v=c[s];a[v.name]=v.schema}return a}(v)),[4,Pn(x,c,void 0!==a.name?Z(Z({},a),{acceptNameDiff:!0}):a)];case 2:return E.sent(),[2,x]}})})}(U,a)};class W extends G.ZP{examId;exams;templates;alignImages;nonAlignImages;constructor(a){super("correctExam"+a),this.examId=a,this.version(3).stores({exams:"++id",templates:"++id, examId, [examId+pageNumber]",alignImages:"++id, examId,[examId+pageNumber]",nonAlignImages:"++id, examId,[examId+pageNumber]"})}resetDatabase(){var a=this;return(0,C.Z)(function*(){yield a.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{a.exams.clear(),a.templates.clear(),a.alignImages.clear(),a.nonAlignImages.clear()})})()}removeElementForExam(){var a=this;return(0,C.Z)(function*(){return a.delete()})()}removePageAlignForExam(){var a=this;return(0,C.Z)(function*(){yield a.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{a.exams.delete(a.examId),a.alignImages.where("examId").equals(a.examId).toArray().then(s=>a.alignImages.bulkDelete(s.map(c=>c.id)))})})()}removeElementForExamForPages(a,s){var c=this;return(0,C.Z)(function*(){yield c.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{c.alignImages.where(["examId","pageNumber"]).between([c.examId,a],[c.examId,s],!0,!0).toArray().then(v=>c.alignImages.bulkDelete(v.map(x=>x.id))),c.nonAlignImages.where(["examId","pageNumber"]).between([c.examId,a],[c.examId,s],!0,!0).toArray().then(v=>c.nonAlignImages.bulkDelete(v.map(x=>x.id)))})})()}removePageAlignForExamForPage(a){var s=this;return(0,C.Z)(function*(){yield s.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{s.alignImages.where({examId:s.examId,pageNumber:a}).delete()})})()}removePageNonAlignForExamForPage(a){var s=this;return(0,C.Z)(function*(){yield s.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{s.nonAlignImages.where({examId:s.examId,pageNumber:a}).delete()})})()}removePageAlignForExamForPages(a,s){var c=this;return(0,C.Z)(function*(){yield c.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{c.alignImages.where(["examId","pageNumber"]).between([c.examId,a],[c.examId,s],!0,!0).toArray().then(v=>c.alignImages.bulkDelete(v.map(x=>x.id)))})})()}removePageNonAlignForExamForPages(a,s){var c=this;return(0,C.Z)(function*(){yield c.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{c.nonAlignImages.where(["examId","pageNumber"]).between([c.examId,a],[c.examId,s],!0,!0).toArray().then(v=>c.nonAlignImages.bulkDelete(v.map(x=>x.id)))})})()}removeExam(){var a=this;return(0,C.Z)(function*(){yield a.transaction("rw","exams",()=>{a.exams.delete(a.examId)})})()}addAligneImage(a){var s=this;return(0,C.Z)(function*(){yield s.alignImages.put(a)})()}addNonAligneImage(a){var s=this;return(0,C.Z)(function*(){yield s.nonAlignImages.put(a)})()}addNonAligneImages(a){var s=this;return(0,C.Z)(function*(){yield s.nonAlignImages.bulkAdd(a)})()}export(a){return super.export(a)}import(a,s){return super.import(a,s)}countPageTemplate(){var a=this;return(0,C.Z)(function*(){return yield a.templates.where("examId").equals(a.examId).count()})()}countAlignImage(){var a=this;return(0,C.Z)(function*(){return yield a.alignImages.where("examId").equals(a.examId).count()})()}countNonAlignImage(){var a=this;return(0,C.Z)(function*(){return yield a.nonAlignImages.where("examId").equals(a.examId).count()})()}getFirstNonAlignImage(a){var s=this;return(0,C.Z)(function*(){return yield s.nonAlignImages.where({examId:s.examId,pageNumber:a}).first()})()}getFirstAlignImage(a){var s=this;return(0,C.Z)(function*(){return yield s.alignImages.where({examId:s.examId,pageNumber:a}).first()})()}getFirstTemplate(a){var s=this;return(0,C.Z)(function*(){return yield s.templates.where({examId:s.examId,pageNumber:a}).first()})()}getAllTemplate(){var a=this;return(0,C.Z)(function*(){return yield a.templates.where({examId:a.examId}).sortBy("pageNumber")})()}getNonAlignImageBetweenAndSortByPageNumber(a,s){var c=this;return(0,C.Z)(function*(){return yield c.nonAlignImages.where(["examId","pageNumber"]).between([c.examId,a],[c.examId,s],!0,!0).sortBy("pageNumber")})()}getAlignImageBetweenAndSortByPageNumber(a,s){var c=this;return(0,C.Z)(function*(){return yield c.alignImages.where(["examId","pageNumber"]).between([c.examId,a],[c.examId,s],!0,!0).sortBy("pageNumber")})()}getNonAlignImagesForPageNumbers(a){var s=this;return(0,C.Z)(function*(){return yield s.nonAlignImages.where(["examId","pageNumber"]).anyOf(a.map(c=>[s.examId,c])).sortBy("pageNumber")})()}getAlignImagesForPageNumbers(a){var s=this;return(0,C.Z)(function*(){return yield s.alignImages.where(["examId","pageNumber"]).anyOf(a.map(c=>[s.examId,c])).sortBy("pageNumber")})()}getNonAlignSortByPageNumber(){var a=this;return(0,C.Z)(function*(){return yield a.nonAlignImages.where({examId:a.examId}).sortBy("pageNumber")})()}moveNonAlignPages(a,s){var c=this;return(0,C.Z)(function*(){a!==s&&(yield c.nonAlignImages.where({examId:c.examId,pageNumber:a}).modify(v=>{v.pageNumber=-1e3}),a<s?yield c.nonAlignImages.where(["examId","pageNumber"]).between([c.examId,a],[c.examId,s],!1,!0).modify(v=>{v.pageNumber=v.pageNumber-1}):yield c.nonAlignImages.where(["examId","pageNumber"]).between([c.examId,s],[c.examId,a],!0,!1).modify(v=>{v.pageNumber=v.pageNumber+1}),yield c.nonAlignImages.where({examId:c.examId,pageNumber:-1e3}).modify(v=>{v.pageNumber=s}))})()}moveAlignPages(a,s){var c=this;return(0,C.Z)(function*(){a!==s&&(yield c.alignImages.where({examId:c.examId,pageNumber:a}).modify(v=>{v.pageNumber=-1e3}),a<s?yield c.alignImages.where(["examId","pageNumber"]).between([c.examId,a],[c.examId,s],!1,!0).modify(v=>{v.pageNumber=v.pageNumber-1}):yield c.alignImages.where(["examId","pageNumber"]).between([c.examId,s],[c.examId,a],!0,!1).modify(v=>{v.pageNumber=v.pageNumber+1}),yield c.alignImages.where({examId:c.examId,pageNumber:-1e3}).modify(v=>{v.pageNumber=s}))})()}compareNumbers(a,s){return a-s}removePageAlignForExamForPagesAndReorder(a){var s=this;return(0,C.Z)(function*(){const c=yield s.alignImages.where("examId").equals(s.examId).count();yield s.transaction("rw","exams","templates","alignImages","nonAlignImages",(0,C.Z)(function*(){const x=yield s.alignImages.where(["examId","pageNumber"]).anyOf(a.map(E=>[s.examId,E])).toArray();yield s.alignImages.bulkDelete(x.map(E=>E.id)),console.error("delete all image")})),console.error("start of moving");const v=a.sort(s.compareNumbers);for(let x=0;x<a.length;x++){let E=c,de=!0;x<v.length-1&&(E=v[x+1],de=!1);const me=v[x];me!==E&&(yield s.alignImages.where(["examId","pageNumber"]).between([s.examId,me],[s.examId,E],!1,de).modify(k=>{k.pageNumber=k.pageNumber-(x+1)}))}})()}removePageNonAlignForExamForPagesAndReorder(a){var s=this;return(0,C.Z)(function*(){const c=yield s.nonAlignImages.where("examId").equals(s.examId).count();yield s.transaction("rw","exams","templates","alignImages","nonAlignImages",(0,C.Z)(function*(){const x=yield s.nonAlignImages.where(["examId","pageNumber"]).anyOf(a.map(E=>[s.examId,E])).toArray();yield s.nonAlignImages.bulkDelete(x.map(E=>E.id))}));const v=a.sort(s.compareNumbers);for(let x=0;x<a.length;x++){let E=c,de=!0;x<v.length-1&&(E=v[x+1],de=!1);const me=v[x];me!==E&&(yield s.nonAlignImages.where(["examId","pageNumber"]).between([s.examId,me],[s.examId,E],!1,de).modify(k=>{k.pageNumber=k.pageNumber-(x+1)}))}})()}moveTemplatePages(a,s){var c=this;return(0,C.Z)(function*(){a!==s&&(yield c.templates.where({examId:c.examId,pageNumber:a}).modify(v=>{v.pageNumber=-1e3}),a<s?yield c.templates.where(["examId","pageNumber"]).between([c.examId,a],[c.examId,s],!1,!0).modify(v=>{v.pageNumber=v.pageNumber-1}):yield c.templates.where(["examId","pageNumber"]).between([c.examId,s],[c.examId,a],!0,!1).modify(v=>{v.pageNumber=v.pageNumber+1}),yield c.templates.where({examId:c.examId,pageNumber:-1e3}).modify(v=>{v.pageNumber=s}))})()}removePageTemplateForExamForPage(a){var s=this;return(0,C.Z)(function*(){yield s.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{s.templates.where({examId:s.examId,pageNumber:a}).delete()})})()}getAlignSortByPageNumber(){var a=this;return(0,C.Z)(function*(){return yield a.alignImages.where({examId:a.examId}).sortBy("pageNumber")})()}addExam(a){var s=this;return(0,C.Z)(function*(){return yield s.exams.add({id:s.examId,creationDate:a?a.getTime():(new Date).getTime()})})()}getExamTimestamp(){var a=this;return(0,C.Z)(function*(){return(yield a.exams.where({id:a.examId}).first())?.creationDate??0})()}addTemplate(a){var s=this;return(0,C.Z)(function*(){return yield s.templates.add({examId:s.examId,pageNumber:a.pageNumber,value:a.value})})()}countNonAlignWithPageNumber(a){var s=this;return(0,C.Z)(function*(){return yield s.nonAlignImages.where({examId:s.examId,pageNumber:a}).count()})()}countAlignWithPageNumber(a){var s=this;return(0,C.Z)(function*(){return yield s.alignImages.where({examId:s.examId,pageNumber:a}).count()})()}}class Mn{dbs=new Map;cleanOutDatedCached(a){return function Un(U){return Ln.apply(this,arguments)}(a)}resetDatabase(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.resetDatabase()})()}removeExam(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.removeExam()})()}removeElementForExam(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),s.dbs.delete(a),c.removeElementForExam()})()}removeElementForExamForPages(a,s,c){var v=this;return(0,C.Z)(function*(){let x=v.dbs.get(a);return void 0===x&&(x=new W(a),v.dbs.set(a,x)),x.removeElementForExamForPages(s,c)})()}removePageAlignForExam(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.removePageAlignForExam()})()}removePageAlignForExamForPage(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.removePageAlignForExamForPage(s)})()}removePageNonAlignForExamForPage(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.removePageNonAlignForExamForPage(s)})()}removePageAlignForExamForPages(a,s,c){var v=this;return(0,C.Z)(function*(){let x=v.dbs.get(a);return void 0===x&&(x=new W(a),v.dbs.set(a,x)),x.removePageAlignForExamForPages(s,c)})()}removePageNonAlignForExamForPages(a,s,c){var v=this;return(0,C.Z)(function*(){let x=v.dbs.get(a);return void 0===x&&(x=new W(a),v.dbs.set(a,x)),x.removePageNonAlignForExamForPages(s,c)})()}addAligneImage(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a.examId);return void 0===c&&(c=new W(a.examId),s.dbs.set(a.examId,c)),c.addAligneImage(a)})()}addNonAligneImage(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a.examId);return void 0===c&&(c=new W(a.examId),s.dbs.set(a.examId,c)),c.addNonAligneImage(a)})()}addNonAligneImages(a){var s=this;return(0,C.Z)(function*(){if(a.length>0){let c=s.dbs.get(a[0].examId);return void 0===c&&(c=new W(a[0].examId),s.dbs.set(a[0].examId,c)),c.addNonAligneImages(a)}})()}export(a,s){let c=this.dbs.get(a);return void 0===c&&(c=new W(a),this.dbs.set(a,c)),c.export(s)}import(a,s,c){let v=this.dbs.get(a);return void 0===v&&(v=new W(a),this.dbs.set(a,v)),v.import(s,c)}countPageTemplate(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.countPageTemplate()})()}countAlignImage(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.countAlignImage()})()}countNonAlignImage(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.countNonAlignImage()})()}getFirstNonAlignImage(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.getFirstNonAlignImage(s)})()}getFirstAlignImage(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.getFirstAlignImage(s)})()}getFirstTemplate(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.getFirstTemplate(s)})()}getAllTemplate(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.getAllTemplate()})()}getNonAlignImageBetweenAndSortByPageNumber(a,s,c){var v=this;return(0,C.Z)(function*(){let x=v.dbs.get(a);return void 0===x&&(x=new W(a),v.dbs.set(a,x)),x.getNonAlignImageBetweenAndSortByPageNumber(s,c)})()}getAlignImageBetweenAndSortByPageNumber(a,s,c){var v=this;return(0,C.Z)(function*(){let x=v.dbs.get(a);return void 0===x&&(x=new W(a),v.dbs.set(a,x)),x.getAlignImageBetweenAndSortByPageNumber(s,c)})()}getNonAlignImagesForPageNumbers(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.getNonAlignImagesForPageNumbers(s)})()}getAlignImagesForPageNumbers(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.getAlignImagesForPageNumbers(s)})()}getNonAlignSortByPageNumber(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.getNonAlignSortByPageNumber()})()}getAlignSortByPageNumber(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.getAlignSortByPageNumber()})()}addExam(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.addExam(s)})()}getExamTimestamp(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a);return void 0===c&&(c=new W(a),s.dbs.set(a,c)),c.getExamTimestamp()})()}addTemplate(a){var s=this;return(0,C.Z)(function*(){let c=s.dbs.get(a.examId);return void 0===c&&(c=new W(a.examId),s.dbs.set(a.examId,c)),c.addTemplate(a)})()}countNonAlignWithPageNumber(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.countNonAlignWithPageNumber(s)})()}countAlignWithPageNumber(a,s){var c=this;return(0,C.Z)(function*(){let v=c.dbs.get(a);return void 0===v&&(v=new W(a),c.dbs.set(a,v)),v.countAlignWithPageNumber(s)})()}moveNonAlignPages(a,s,c){var v=this;return(0,C.Z)(function*(){let x=v.dbs.get(a);return void 0===x&&(x=new W(a),v.dbs.set(a,x)),x.moveNonAlignPages(s,c)})()}moveAlignPages(a,s,c){var v=this;return(0,C.Z)(function*(){let x=v.dbs.get(a);return void 0===x&&(x=new W(a),v.dbs.set(a,x)),x.moveAlignPages(s,c)})()}removePageAlignForExamForPagesAndReorder(a,s){let c=this.dbs.get(a);return void 0===c&&(c=new W(a),this.dbs.set(a,c)),c.removePageAlignForExamForPagesAndReorder(s)}removePageNonAlignForExamForPagesAndReorder(a,s){let c=this.dbs.get(a);return void 0===c&&(c=new W(a),this.dbs.set(a,c)),c.removePageNonAlignForExamForPagesAndReorder(s)}moveTemplatePages(a,s,c){let v=this.dbs.get(a);return void 0===v&&(v=new W(a),this.dbs.set(a,v)),v.moveTemplatePages(s,c)}removePageTemplateForExamForPage(a,s){let c=this.dbs.get(a);return void 0===c&&(c=new W(a),this.dbs.set(a,c)),c.removePageTemplateForExamForPage(s)}}new Mn},93667:function(Q){Q.exports=function(){"use strict";var Ae=function(e,t){return(Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(e,t)},R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function C(e,t,n){if(n||2===arguments.length)for(var r,i=0,u=t.length;i<u;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var G=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,z=Object.keys,Z=Array.isArray;function ce(e,t){return"object"!=typeof t||z(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||G.Promise||(G.Promise=Promise);var ge=Object.getPrototypeOf,et={}.hasOwnProperty;function ke(e,t){return et.call(e,t)}function $e(e,t){"function"==typeof t&&(t=t(ge(e))),(typeof Reflect>"u"?z:Reflect.ownKeys)(t).forEach(function(n){Ze(e,n,t[n])})}var at=Object.defineProperty;function Ze(e,t,n,r){at(e,t,ce(n&&ke(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Oe(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ze(e.prototype,"constructor",e),{extend:$e.bind(null,e.prototype)}}}}var Et=Object.getOwnPropertyDescriptor,Se=[].slice;function Ge(e,t,n){return Se.call(e,t,n)}function Te(e,t){return t(e)}function Ue(e){if(!e)throw new Error("Assertion Failed")}function Ye(e){G.setImmediate?setImmediate(e):setTimeout(e,0)}function dt(e,t){if("string"==typeof t&&ke(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var u=dt(e,t[r]);n.push(u)}return n}var d=t.indexOf(".");if(-1!==d){var y=e[t.substr(0,d)];return null==y?void 0:dt(y,t.substr(d+1))}}function ut(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){Ue("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)ut(e,t[r],n[r])}else{var u,d,y=t.indexOf(".");-1!==y?(u=t.substr(0,y),""===(d=t.substr(y+1))?void 0===n?Z(e)&&!isNaN(parseInt(u))?e.splice(u,1):delete e[u]:e[u]=n:ut(y=(y=e[u])&&ke(e,u)?y:e[u]={},d,n)):void 0===n?Z(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function st(e){var t,n={};for(t in e)ke(e,t)&&(n[t]=e[t]);return n}var be=[].concat;function tt(e){return be.apply([],e)}var Ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(tt([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return G[e]}),rn=new Set(Ce.map(function(e){return G[e]})),It=null;function Je(e){return It=new WeakMap,e=function t(n){if(!n||"object"!=typeof n)return n;var r=It.get(n);if(r)return r;if(Z(n)){It.set(n,r=[]);for(var i=0,u=n.length;i<u;++i)r.push(t(n[i]))}else if(rn.has(n.constructor))r=n;else{var d,y=ge(n);for(d in r=y===Object.prototype?{}:Object.create(y),It.set(n,r),n)ke(n,d)&&(r[d]=t(n[d]))}return r}(e),It=null,e}var Qt={}.toString;function On(e){return Qt.call(e).slice(8,-1)}var Tn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",En="symbol"==typeof Tn?function(e){var t;return null!=e&&(t=e[Tn])&&t.apply(e)}:function(){return null};function Yt(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var mn={};function Kt(e){var t,n,r,i;if(1===arguments.length){if(Z(e))return e.slice();if(this===mn&&"string"==typeof e)return[e];if(i=En(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Wt=typeof Symbol<"u"?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},_n=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(_t=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),vn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Lt(e,t){this.name=e,this.message=t}function Pn(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join("\n")}function bn(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Pn(e,t)}function Nn(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=Pn(e,this.failures)}Oe(Lt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Oe(bn).from(Lt),Oe(Nn).from(Lt);var Un=_n.reduce(function(e,t){return e[t]=t+"Error",e},{}),Ln=Lt,W=_n.reduce(function(e,t){var n=t+"Error";function r(i,u){this.name=n,i?"string"==typeof i?(this.message="".concat(i).concat(u?"\n "+u:""),this.inner=u||null):"object"==typeof i&&(this.message="".concat(i.name," ").concat(i.message),this.inner=i):(this.message=vn[t]||n,this.inner=null)}return Oe(r).from(Ln),e[t]=r,e},{});W.Syntax=SyntaxError,W.Type=TypeError,W.Range=RangeError;var Mn=_t.reduce(function(e,t){return e[t+"Error"]=W[t],e},{}),qn=_n.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=W[t]),e},{});function U(){}function a(e){return e}function s(e,t){return null==e||e===a?t:function(n){return t(e(n))}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function v(e,t){return e===U?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var u=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?c(r,this.onsuccess):r),i&&(this.onerror=this.onerror?c(i,this.onerror):i),void 0!==u?u:n}}function x(e,t){return e===U?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?c(n,this.onsuccess):n),r&&(this.onerror=this.onerror?c(r,this.onerror):r)}}function E(e,t){return e===U?t:function(n){var r=e.apply(this,arguments);ce(n,r);var i=this.onsuccess,u=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?c(i,this.onsuccess):i),u&&(this.onerror=this.onerror?c(u,this.onerror):u),void 0===r?void 0===n?void 0:n:ce(r,n)}}function de(e,t){return e===U?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function me(e,t){return e===U?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,u=new Array(i);i--;)u[i]=arguments[i];return n.then(function(){return t.apply(r,u)})}return t.apply(this,arguments)}}qn.ModifyError=bn,qn.DexieError=Lt,qn.BulkError=Nn;var k=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function se(e){k=e}var _t,Ee={},Ne=(_n=(_n=(Ce=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,ge(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ge(t),e]}())[1])&&_n.then,(_t=Ce[0])&&_t.constructor),ct=!!(Ce=Ce[2]),Dt=function(e,t){B.push([e,t]),pe&&(queueMicrotask(Ht),pe=!1)},Nt=!0,pe=!0,Rt=[],Pe=[],pt=a,He={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:U,pgp:!1,env:{},finalize:U},ue=He,B=[],p=0,Y=[];function w(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=ue;if("function"!=typeof e){if(e!==Ee)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&ht(this,this._value))}this._state=null,this._value=null,++t.ref,function n(r,i){try{i(function(u){if(null===r._state){if(u===r)throw new TypeError("A promise cannot be resolved with itself.");var d=r._lib&&lt();u&&"function"==typeof u.then?n(r,function(y,g){u instanceof w?u._then(y,g):u.then(y,g)}):(r._state=!0,r._value=u,Pt(r)),d&&wt()}},ht.bind(null,r))}catch(u){ht(r,u)}}(this,e)}var rt={get:function(){var e=ue,t=M;function n(r,i){var u=this,d=!e.global&&(e!==ue||t!==M),y=d&&!Le(),g=new w(function(_,O){Ct(u,new We(gn(r,e,d,y),gn(i,e,d,y),_,O,e))});return this._consoleTask&&(g._consoleTask=this._consoleTask),g}return n.prototype=Ee,n},set:function(e){Ze(this,"then",e&&e.prototype===Ee?rt:{get:function(){return e},set:rt.set})}};function We(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function ht(e,t){var n,r;Pe.push(t),null===e._state&&(n=e._lib&&lt(),t=pt(t),e._state=!1,e._value=t,r=e,Rt.some(function(i){return i._value===r._value})||Rt.push(r),Pt(e),n&&wt())}function Pt(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ct(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===p&&(++p,Dt(function(){0==--p&&Xt()},[]))}function Ct(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++p,Dt(on,[n,e,t])}else e._listeners.push(t)}function on(e,t,n){try{var r,i=t._value;!t._state&&Pe.length&&(Pe=[]),r=k&&t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||-1!==Pe.indexOf(i)||function(u){for(var d=Rt.length;d;)if(Rt[--d]._value===u._value)return Rt.splice(d,1)}(t),n.resolve(r)}catch(u){n.reject(u)}finally{0==--p&&Xt(),--n.psd.ref||n.psd.finalize()}}function Ht(){Mt(He,function(){lt()&&wt()})}function lt(){var e=Nt;return pe=Nt=!1,e}function wt(){var e,t,n;do{for(;0<B.length;)for(e=B,B=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<B.length);pe=Nt=!0}function Xt(){var e=Rt;Rt=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=Y.slice(0),n=t.length;n;)t[--n]()}function an(e){return new w(Ee,!1,e)}function fe(e,t){var n=ue;return function(){var r=lt(),i=ue;try{return Tt(n,!0),e.apply(this,arguments)}catch(u){t&&t(u)}finally{Tt(i,!1),r&&wt()}}}$e(w.prototype,{then:rt,_then:function(e,t){Ct(this,new We(null,null,e,t,ue))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return this.then(null,"function"==typeof t?function(r){return(r instanceof t?n:an)(r)}:function(r){return(r&&r.name===t?n:an)(r)})},finally:function(e){return this.then(function(t){return w.resolve(e()).then(function(){return t})},function(t){return w.resolve(e()).then(function(){return an(t)})})},timeout:function(e,t){var n=this;return e<1/0?new w(function(r,i){var u=setTimeout(function(){return i(new W.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,u))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ze(w.prototype,Symbol.toStringTag,"Dexie.Promise"),He.env=en(),$e(w,{all:function(){var e=Kt.apply(null,arguments).map(ze);return new w(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(function(i,u){return w.resolve(i).then(function(d){e[u]=d,--r||t(e)},n)})})},resolve:function(e){return e instanceof w?e:e&&"function"==typeof e.then?new w(function(t,n){e.then(t,n)}):new w(Ee,!0,e)},reject:an,race:function(){var e=Kt.apply(null,arguments).map(ze);return new w(function(t,n){e.map(function(r){return w.resolve(r).then(t,n)})})},PSD:{get:function(){return ue},set:function(e){return ue=e}},totalEchoes:{get:function(){return M}},newPSD:X,usePSD:Mt,scheduler:{get:function(){return Dt},set:function(e){Dt=e}},rejectionMapper:{get:function(){return pt},set:function(e){pt=e}},follow:function(e,t){return new w(function(n,r){return X(function(i,u){var d=ue;d.unhandleds=[],d.onunhandled=u,d.finalize=c(function(){var y,g=this;y=function(){0===g.unhandleds.length?i():u(g.unhandleds[0])},Y.push(function _(){y(),Y.splice(Y.indexOf(_),1)}),++p,Dt(function(){0==--p&&Xt()},[])},d.finalize),e()},t,n,r)})}}),Ne&&(Ne.allSettled&&Ze(w,"allSettled",function(){var e=Kt.apply(null,arguments).map(ze);return new w(function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach(function(i,u){return w.resolve(i).then(function(d){return r[u]={status:"fulfilled",value:d}},function(d){return r[u]={status:"rejected",reason:d}}).then(function(){return--n||t(r)})})})}),Ne.any&&typeof AggregateError<"u"&&Ze(w,"any",function(){var e=Kt.apply(null,arguments).map(ze);return new w(function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(u,d){return w.resolve(u).then(function(y){return t(y)},function(y){i[d]=y,--r||n(new AggregateError(i))})})})}),Ne.withResolvers&&(w.withResolvers=Ne.withResolvers));var Be={awaits:0,echoes:0,id:0},un=0,D=[],L=0,M=0,q=0;function X(e,t,n,r){var i=ue,u=Object.create(i);return u.parent=i,u.ref=0,u.global=!1,u.id=++q,u.env=ct?{Promise:w,PromiseProp:{value:w,configurable:!0,writable:!0},all:w.all,race:w.race,allSettled:w.allSettled,any:w.any,resolve:w.resolve,reject:w.reject}:{},t&&ce(u,t),++i.ref,u.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Mt(u,e,n,r),0===u.ref&&u.finalize(),r}function Ke(){return Be.id||(Be.id=++un),++Be.awaits,Be.echoes+=100,Be.id}function Le(){return!!Be.awaits&&(0==--Be.awaits&&(Be.id=0),Be.echoes=100*Be.awaits,!0)}function ze(e){return Be.echoes&&e&&e.constructor===Ne?(Ke(),e.then(function(t){return Le(),t},function(t){return Le(),vt(t)})):e}function we(){var e=D[D.length-1];D.pop(),Tt(e,!1)}function Tt(e,t){var n,r=ue;(t?!Be.echoes||L++&&e===ue:!L||--L&&e===ue)||queueMicrotask(t?function(i){++M,Be.echoes&&0!=--Be.echoes||(Be.echoes=Be.awaits=Be.id=0),D.push(ue),Tt(i,!0)}.bind(null,e):we),e!==ue&&(ue=e,r===He&&(He.env=en()),ct&&(n=He.env.Promise,t=e.env,(r.global||e.global)&&(Object.defineProperty(G,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function en(){var e=G.Promise;return ct?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(G,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Mt(e,t,n,r,i){var u=ue;try{return Tt(e,!0),t(n,r,i)}finally{Tt(u,!1)}}function gn(e,t,n,r){return"function"!=typeof e?e:function(){var i=ue;n&&Ke(),Tt(t,!0);try{return e.apply(this,arguments)}finally{Tt(i,!1),r&&queueMicrotask(Le)}}}function fn(e){Promise===Ne&&0===Be.echoes?0===L?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+_n).indexOf("[native code]")&&(Ke=Le=U);var vt=w.reject,Zt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",jt="String expected.",it=[],ot="__dbnames",mt="readonly",kt="readwrite";function he(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var f={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function o(e){return"string"!=typeof e||/\./.test(e)?function(t){return t}:function(t){return void 0===t[e]&&e in t&&delete(t=Je(t))[e],t}}function l(){throw W.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function h(e,t){try{var n=T(e),r=T(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(i,u){for(var d=i.length,y=u.length,g=d<y?d:y,_=0;_<g;++_)if(i[_]!==u[_])return i[_]<u[_]?-1:1;return d===y?0:d<y?-1:1}(te(e),te(t));case"Array":return function(i,u){for(var d=i.length,y=u.length,g=d<y?d:y,_=0;_<g;++_){var O=h(i[_],u[_]);if(0!==O)return O}return d===y?0:d<y?-1:1}(e,t)}}catch{}return NaN}function T(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=On(e))?"binary":e}function te(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function re(e,t,n){var r=e.schema.yProps;return r?(t&&0<n.numFailures&&(t=t.filter(function(i,u){return!n.failures[u]})),Promise.all(r.map(function(i){return i=i.updatesTable,t?e.db.table(i).where("k").anyOf(t).delete():e.db.table(i).clear()})).then(function(){return n})):n}var ve=($.prototype._trans=function(e,t,n){var r=this._tx||ue.trans,i=this.name,u=k&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function d(_,O,m){if(!m.schema[i])throw new W.NotFound("Table "+i+" not part of transaction");return t(m.idbtrans,m)}var y=lt();try{var g=r&&r.db._novip===this.db._novip?r===ue.trans?r._promise(e,d,n):X(function(){return r._promise(e,d,n)},{trans:r,transless:ue.transless||ue}):function _(O,m,I,b){if(O.idbdb&&(O._state.openComplete||ue.letThrough||O._vip)){var A=O._createTransaction(m,I,O._dbSchema);try{A.create(),O._state.PR1398_maxLoop=3}catch(S){return S.name===Un.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return _(O,m,I,b)})):vt(S)}return A._promise(m,function(S,P){return X(function(){return ue.trans=A,b(S,P,A)})}).then(function(S){if("readwrite"===m)try{A.idbtrans.commit()}catch{}return"readonly"===m?S:A._completion.then(function(){return S})})}if(O._state.openComplete)return vt(new W.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return vt(new W.DatabaseClosed);O.open().catch(U)}return O._state.dbReadyPromise.then(function(){return _(O,m,I,b)})}(this.db,e,[this.name],d);return u&&(g._consoleTask=u,g=g.catch(function(_){return console.trace(_),vt(_)})),g}finally{y&&wt()}},$.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?vt(new W.Type("Invalid argument to Table.get()")):this._trans("readonly",function(r){return n.core.get({trans:r,key:e}).then(function(i){return n.hook.reading.fire(i)})}).then(t)},$.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(Z(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=z(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(y){if(y.compound&&t.every(function(_){return 0<=y.keyPath.indexOf(_)})){for(var g=0;g<t.length;++g)if(-1===t.indexOf(y.keyPath[g]))return!1;return!0}return!1}).sort(function(y,g){return y.keyPath.length-g.keyPath.length})[0];if(n&&"\uffff"!==this.db._maxKey){var u=n.keyPath.slice(0,t.length);return this.where(u).equals(u.map(function(g){return e[g]}))}!n&&k&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var r=this.schema.idxByName;function i(y,g){return 0===h(y,g)}u=(d=t.reduce(function(m,g){var _=m[0],O=m[1],I=(m=r[g],e[g]);return[_||m,_||!m?he(O,m&&m.multi?function(b){return b=dt(b,g),Z(b)&&b.some(function(A){return i(I,A)})}:function(b){return i(I,dt(b,g))}):O]},[null,null]))[0];var d=d[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(d):n?this.filter(d):this.where(t).equals("")},$.prototype.filter=function(e){return this.toCollection().and(e)},$.prototype.count=function(e){return this.toCollection().count(e)},$.prototype.offset=function(e){return this.toCollection().offset(e)},$.prototype.limit=function(e){return this.toCollection().limit(e)},$.prototype.each=function(e){return this.toCollection().each(e)},$.prototype.toArray=function(e){return this.toCollection().toArray(e)},$.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},$.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,Z(e)?"[".concat(e.join("+"),"]"):e))},$.prototype.reverse=function(){return this.toCollection().reverse()},$.prototype.mapToClass=function(e){var t,n=this.db,r=this.name;function i(){return null!==t&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof l&&(function(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function O(){this.constructor=g}Ae(g,_),g.prototype=null===_?Object.create(_):(O.prototype=_.prototype,new O)}(i,t=e),Object.defineProperty(i.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),i.prototype.table=function(){return r},e=i);for(var u=new Set,d=e.prototype;d;d=ge(d))Object.getOwnPropertyNames(d).forEach(function(g){return u.add(g)});function y(g){if(!g)return g;var _,O=Object.create(e.prototype);for(_ in g)if(!u.has(_))try{O[_]=g[_]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),e},$.prototype.defineClass=function(){return this.mapToClass(function(e){ce(this,e)})},$.prototype.add=function(e,t){var n=this,r=this.schema.primKey,u=r.keyPath,d=e;return u&&r.auto&&(d=o(u)(e)),this._trans("readwrite",function(y){return n.core.mutate({trans:y,type:"add",keys:null!=t?[t]:null,values:[d]})}).then(function(y){return y.numFailures?w.reject(y.failures[0]):y.lastResult}).then(function(y){if(u)try{ut(e,u,y)}catch{}return y})},$.prototype.update=function(e,t){return"object"!=typeof e||Z(e)?this.where(":id").equals(e).modify(t):void 0===(e=dt(e,this.schema.primKey.keyPath))?vt(new W.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},$.prototype.put=function(e,t){var n=this,r=this.schema.primKey,u=r.keyPath,d=e;return u&&r.auto&&(d=o(u)(e)),this._trans("readwrite",function(y){return n.core.mutate({trans:y,type:"put",values:[d],keys:null!=t?[t]:null})}).then(function(y){return y.numFailures?w.reject(y.failures[0]):y.lastResult}).then(function(y){if(u)try{ut(e,u,y)}catch{}return y})},$.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]}).then(function(r){return re(t,[e],r)}).then(function(r){return r.numFailures?w.reject(r.failures[0]):void 0})})},$.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:f}).then(function(n){return re(e,null,n)})}).then(function(t){return t.numFailures?w.reject(t.failures[0]):void 0})},$.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(r){return r.map(function(i){return t.hook.reading.fire(i)})})})},$.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,u=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(d){var y=(_=r.schema.primKey).auto;if((_=_.keyPath)&&i)throw new W.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var g=e.length,_=_&&y?e.map(o(_)):e;return r.core.mutate({trans:d,type:"add",keys:i,values:_,wantResults:u}).then(function(A){var m=A.numFailures,I=A.results,b=A.lastResult;if(A=A.failures,0===m)return u?I:b;throw new Nn("".concat(r.name,".bulkAdd(): ").concat(m," of ").concat(g," operations failed"),A)})})},$.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,u=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(d){var y=(_=r.schema.primKey).auto;if((_=_.keyPath)&&i)throw new W.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var g=e.length,_=_&&y?e.map(o(_)):e;return r.core.mutate({trans:d,type:"put",keys:i,values:_,wantResults:u}).then(function(A){var m=A.numFailures,I=A.results,b=A.lastResult;if(A=A.failures,0===m)return u?I:b;throw new Nn("".concat(r.name,".bulkPut(): ").concat(m," of ").concat(g," operations failed"),A)})})},$.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map(function(d){return d.key}),i=e.map(function(d){return d.changes}),u=[];return this._trans("readwrite",function(d){return n.getMany({trans:d,keys:r,cache:"clone"}).then(function(y){var g=[],_=[];e.forEach(function(m,I){var b=m.key,A=m.changes,S=y[I];if(S){for(var P=0,N=Object.keys(A);P<N.length;P++){var j=N[P],K=A[j];if(j===t.schema.primKey.keyPath){if(0!==h(K,b))throw new W.Constraint("Cannot update primary key in bulkUpdate()")}else ut(S,j,K)}u.push(I),g.push(b),_.push(S)}});var O=g.length;return n.mutate({trans:d,type:"put",keys:g,values:_,updates:{keys:r,changeSpecs:i}}).then(function(m){var I=m.numFailures,b=m.failures;if(0===I)return O;for(var A=0,S=Object.keys(b);A<S.length;A++){var P,N=S[A],j=u[Number(N)];null!=j&&(P=b[N],delete b[N],b[j]=P)}throw new Nn("".concat(t.name,".bulkUpdate(): ").concat(I," of ").concat(O," operations failed"),b)})})})},$.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:e}).then(function(i){return re(t,e,i)})}).then(function(d){var i=d.numFailures,u=d.lastResult;if(d=d.failures,0===i)return u;throw new Nn("".concat(t.name,".bulkDelete(): ").concat(i," of ").concat(n," operations failed"),d)})},$);function $(){}function _e(e){function t(d,y){if(y){for(var g=arguments.length,_=new Array(g-1);--g;)_[g-1]=arguments[g];return n[d].subscribe.apply(null,_),e}if("string"==typeof d)return n[d]}var n={};t.addEventType=u;for(var r=1,i=arguments.length;r<i;++r)u(arguments[r]);return t;function u(d,y,g){if("object"!=typeof d){var _;y=y||de;var O={subscribers:[],fire:g=g||U,subscribe:function(m){-1===O.subscribers.indexOf(m)&&(O.subscribers.push(m),O.fire=y(O.fire,m))},unsubscribe:function(m){O.subscribers=O.subscribers.filter(function(I){return I!==m}),O.fire=O.subscribers.reduce(y,g)}};return n[d]=t[d]=O}z(_=d).forEach(function(m){var I=_[m];if(Z(I))u(m,_[m][0],_[m][1]);else{if("asap"!==I)throw new W.InvalidArgument("Invalid event config");var b=u(m,a,function(){for(var A=arguments.length,S=new Array(A);A--;)S[A]=arguments[A];b.subscribers.forEach(function(P){Ye(function(){P.apply(null,S)})})})}})}}function Me(e,t){return Oe(t).from({prototype:e}),t}function qe(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function yt(e,t){e.filter=he(e.filter,t)}function nt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return he(r(),t())}:t,e.justLimit=n&&!r}function Xe(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new W.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function xt(e,t,n){var r=Xe(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function gt(e,t,n,r){var i=e.replayFilter?he(e.filter,e.replayFilter()):e.filter;if(e.or){var u={},d=function(y,g,_){var O,m;i&&!i(g,_,function(I){return g.stop(I)},function(I){return g.fail(I)})||("[object ArrayBuffer]"==(m=""+(O=g.primaryKey))&&(m=""+new Uint8Array(O)),ke(u,m)||(u[m]=!0,t(y,g,_)))};return Promise.all([e.or._iterate(d,n),Re(xt(e,r,n),e.algorithm,d,!e.keysOnly&&e.valueMapper)])}return Re(xt(e,r,n),he(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Re(e,t,n,r){var i=fe(r?function(u,d,y){return n(r(u),d,y)}:n);return e.then(function(u){if(u)return u.start(function(){var d=function(){return u.continue()};t&&!t(u,function(y){return d=y},function(y){u.stop(y),d=U},function(y){u.fail(y),d=U})||i(u.value,u,function(y){return d=y}),d()})})}var Ft=(ye.prototype.execute=function(e){var t=this["@@propmod"];if(void 0!==t.add){var n=t.add;if(Z(n))return C(C([],Z(e)?e:[],!0),n,!0).sort();if("number"==typeof n)return(Number(e)||0)+n;if("bigint"==typeof n)try{return BigInt(e)+n}catch{return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(void 0!==t.remove){var r=t.remove;if(Z(r))return Z(e)?e.filter(function(i){return!r.includes(i)}).sort():[];if("number"==typeof r)return Number(e)-r;if("bigint"==typeof r)try{return BigInt(e)-r}catch{return BigInt(0)-r}throw new TypeError("Invalid subtrahend ".concat(r))}return(n=null===(n=t.replacePrefix)||void 0===n?void 0:n[0])&&"string"==typeof e&&e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e},ye);function ye(e){this["@@propmod"]=e}var ie=(ee.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,vt.bind(null,n.error)):n.table._trans("readonly",e).then(t)},ee.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,vt.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},ee.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=he(t.algorithm,e)},ee.prototype._iterate=function(e,t){return gt(this._ctx,e,t,this._ctx.table.core)},ee.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&ce(n,e),t._ctx=n,t},ee.prototype.raw=function(){return this._ctx.valueMapper=null,this},ee.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return gt(t,e,n,t.table.core)})},ee.prototype.count=function(e){var t=this;return this._read(function(n){var r=t._ctx,i=r.table.core;if(qe(r,!0))return i.count({trans:n,query:{index:Xe(r,i.schema),range:r.range}}).then(function(d){return Math.min(d,r.limit)});var u=0;return gt(r,function(){return++u,!1},n,i).then(function(){return u})}).then(e)},ee.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function u(g,_){return _?u(g[n[_]],_-1):g[r]}var d="next"===this._ctx.dir?1:-1;function y(g,_){return h(u(g,i),u(_,i))*d}return this.toArray(function(g){return g.sort(y)}).then(t)},ee.prototype.toArray=function(e){var t=this;return this._read(function(n){var r=t._ctx;if("next"===r.dir&&qe(r,!0)&&0<r.limit){var i=r.valueMapper,u=Xe(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:u,range:r.range}}).then(function(y){return y=y.result,i?y.map(i):y})}var d=[];return gt(r,function(y){return d.push(y)},n,r.table.core).then(function(){return d})},e)},ee.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,qe(t)?nt(t,function(){var n=e;return function(r,i){return 0===n||(1===n?--n:i(function(){r.advance(n),n=0}),!1)}}):nt(t,function(){var n=e;return function(){return--n<0}})),this},ee.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),nt(this._ctx,function(){var t=e;return function(n,r,i){return--t<=0&&r(i),0<=t}},!0),this},ee.prototype.until=function(e,t){return yt(this._ctx,function(n,r,i){return!e(n.value)||(r(i),t)}),this},ee.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},ee.prototype.last=function(e){return this.reverse().first(e)},ee.prototype.filter=function(e){var t;return yt(this._ctx,function(n){return e(n.value)}),(t=this._ctx).isMatch=he(t.isMatch,e),this},ee.prototype.and=function(e){return this.filter(e)},ee.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},ee.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ee.prototype.desc=function(){return this.reverse()},ee.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,r){e(r.key,r)})},ee.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},ee.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,r){e(r.primaryKey,r)})},ee.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(r,i){n.push(i.key)}).then(function(){return n}).then(e)},ee.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&qe(t,!0)&&0<t.limit)return this._read(function(r){var i=Xe(t,t.table.core.schema);return t.table.core.query({trans:r,values:!1,limit:t.limit,query:{index:i,range:t.range}})}).then(function(r){return r.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(r,i){n.push(i.primaryKey)}).then(function(){return n}).then(e)},ee.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},ee.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},ee.prototype.lastKey=function(e){return this.reverse().firstKey(e)},ee.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return yt(this._ctx,function(i){var r=i.primaryKey.toString();return i=ke(t,r),t[r]=!0,!i}),this},ee.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(r){var i,u,d;d="function"==typeof e?e:(i=z(e),u=i.length,function(N){for(var j=!1,K=0;K<u;++K){var F=i[K],V=e[F],ne=dt(N,F);V instanceof Ft?(ut(N,F,V.execute(ne)),j=!0):ne!==V&&(ut(N,F,V),j=!0)}return j});var m,y=n.table.core,g=(m=y.schema.primaryKey).outbound,_=m.extractKey,O=200;function I(N,F){var K=F.failures;A+=N-(F=F.numFailures);for(var V=0,ne=z(K);V<ne.length;V++)b.push(K[ne[V]])}(m=t.db._options.modifyChunkSize)&&(O="object"==typeof m?m[y.name]||m["*"]||200:m);var b=[],A=0,S=[],P=e===xe;return t.clone().primaryKeys().then(function(N){var K=qe(n)&&n.limit===1/0&&("function"!=typeof e||P)&&{index:n.index,range:n.range};return function j(F){var V=Math.min(O,N.length-F),ne=N.slice(F,F+V);return(P?Promise.resolve([]):y.getMany({trans:r,keys:ne,cache:"immutable"})).then(function(J){var H=[],ae=[],oe=g?[]:null,le=P?ne:[];if(!P)for(var Ve=0;Ve<V;++Ve){var ft=J[Ve],De={value:Je(ft),primKey:N[F+Ve]};!1!==d.call(De,De.value,De)&&(null==De.value?le.push(N[F+Ve]):g||0===h(_(ft),_(De.value))?(ae.push(De.value),g&&oe.push(N[F+Ve])):(le.push(N[F+Ve]),H.push(De.value)))}return Promise.resolve(0<H.length&&y.mutate({trans:r,type:"add",values:H}).then(function(Ut){for(var je in Ut.failures)le.splice(parseInt(je),1);I(H.length,Ut)})).then(function(){return(0<ae.length||K&&"object"==typeof e)&&y.mutate({trans:r,type:"put",keys:oe,values:ae,criteria:K,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<F}).then(function(Ut){return I(ae.length,Ut)})}).then(function(){return(0<le.length||K&&P)&&y.mutate({trans:r,type:"delete",keys:le,criteria:K,isAdditionalChunk:0<F}).then(function(Ut){return re(n.table,le,Ut)}).then(function(Ut){return I(le.length,Ut)})}).then(function(){return N.length>F+V&&j(F+O)})})}(0).then(function(){if(0<b.length)throw new bn("Error modifying one or more objects",b,A,S);return N.length})})})},ee.prototype.delete=function(){var e=this._ctx,t=e.range;return!qe(e)||e.table.schema.yProps||!e.isPrimKey&&3!==t.type?this.modify(xe):this._write(function(n){var i=t;return e.table.core.count({trans:n,query:{index:e.table.core.schema.primaryKey,range:i}}).then(function(u){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(function(g){var y=g.failures;if(g=g.numFailures)throw new bn("Could not delete some values",Object.keys(y).map(function(_){return y[_]}),u-g);return u-g})})})},ee);function ee(){}var xe=function(e,t){return t.value=null};function Ie(e,t){return e<t?-1:e===t?0:1}function Qe(e,t){return t<e?-1:e===t?0:1}function St(e,t,n){return(e=e instanceof dn?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function Ot(e){return new e.Collection(e,function(){return bt("")}).limit(0)}function zt(e,t,n,r){var i,u,d,y,g,_,O,m=n.length;if(!n.every(function(A){return"string"==typeof A}))return St(e,jt);function I(A){i="next"===A?function(P){return P.toUpperCase()}:function(P){return P.toLowerCase()},u="next"===A?function(P){return P.toLowerCase()}:function(P){return P.toUpperCase()},d="next"===A?Ie:Qe;var S=n.map(function(P){return{lower:u(P),upper:i(P)}}).sort(function(P,N){return d(P.lower,N.lower)});y=S.map(function(P){return P.upper}),g=S.map(function(P){return P.lower}),O="next"===(_=A)?"":r}I("next"),(e=new e.Collection(e,function(){return Vt(y[0],g[m-1]+r)}))._ondirectionchange=function(A){I(A)};var b=0;return e._addAlgorithm(function(A,S,P){var N=A.key;if("string"!=typeof N)return!1;var j=u(N);if(t(j,g,b))return!0;for(var K=null,F=b;F<m;++F){var V=function(ne,J,H,ae,oe,le){for(var Ve=Math.min(ne.length,ae.length),ft=-1,De=0;De<Ve;++De){var Ut=J[De];if(Ut!==ae[De])return oe(ne[De],H[De])<0?ne.substr(0,De)+H[De]+H.substr(De+1):oe(ne[De],ae[De])<0?ne.substr(0,De)+ae[De]+H.substr(De+1):0<=ft?ne.substr(0,ft)+J[ft]+H.substr(ft+1):null;oe(ne[De],Ut)<0&&(ft=De)}return Ve<ae.length&&"next"===le?ne+H.substr(ne.length):Ve<ne.length&&"prev"===le?ne.substr(0,H.length):ft<0?null:ne.substr(0,ft)+ae[ft]+H.substr(ft+1)}(N,j,y[F],g[F],d,_);null===V&&null===K?b=F+1:(null===K||0<d(K,V))&&(K=V)}return S(null!==K?function(){A.continue(K+O)}:P),!1}),e}function Vt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function bt(e){return{type:1,lower:e,upper:e}}var dn=(Object.defineProperty(Fe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Fe.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Ot(this):new this.Collection(this,function(){return Vt(e,t,!n,!r)})}catch{return St(this,Zt)}},Fe.prototype.equals=function(e){return null==e?St(this,Zt):new this.Collection(this,function(){return bt(e)})},Fe.prototype.above=function(e){return null==e?St(this,Zt):new this.Collection(this,function(){return Vt(e,void 0,!0)})},Fe.prototype.aboveOrEqual=function(e){return null==e?St(this,Zt):new this.Collection(this,function(){return Vt(e,void 0,!1)})},Fe.prototype.below=function(e){return null==e?St(this,Zt):new this.Collection(this,function(){return Vt(void 0,e,!1,!0)})},Fe.prototype.belowOrEqual=function(e){return null==e?St(this,Zt):new this.Collection(this,function(){return Vt(void 0,e)})},Fe.prototype.startsWith=function(e){return"string"!=typeof e?St(this,jt):this.between(e,e+"\uffff",!0,!0)},Fe.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):zt(this,function(t,n){return 0===t.indexOf(n[0])},[e],"\uffff")},Fe.prototype.equalsIgnoreCase=function(e){return zt(this,function(t,n){return t===n[0]},[e],"")},Fe.prototype.anyOfIgnoreCase=function(){var e=Kt.apply(mn,arguments);return 0===e.length?Ot(this):zt(this,function(t,n){return-1!==n.indexOf(t)},e,"")},Fe.prototype.startsWithAnyOfIgnoreCase=function(){var e=Kt.apply(mn,arguments);return 0===e.length?Ot(this):zt(this,function(t,n){return n.some(function(r){return 0===t.indexOf(r)})},e,"\uffff")},Fe.prototype.anyOf=function(){var e=this,t=Kt.apply(mn,arguments),n=this._cmp;try{t.sort(n)}catch{return St(this,Zt)}if(0===t.length)return Ot(this);var r=new this.Collection(this,function(){return Vt(t[0],t[t.length-1])});r._ondirectionchange=function(u){t.sort(n="next"===u?e._ascending:e._descending)};var i=0;return r._addAlgorithm(function(u,d,y){for(var g=u.key;0<n(g,t[i]);)if(++i===t.length)return d(y),!1;return 0===n(g,t[i])||(d(function(){u.continue(t[i])}),!1)}),r},Fe.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Fe.prototype.noneOf=function(){var e=Kt.apply(mn,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch{return St(this,Zt)}var t=e.reduce(function(n,r){return n?n.concat([[n[n.length-1][1],r]]):[[-1/0,r]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Fe.prototype.inAnyRange=function(N,t){var n=this,r=this._cmp,i=this._ascending,u=this._descending,d=this._min,y=this._max;if(0===N.length)return Ot(this);if(!N.every(function(j){return void 0!==j[0]&&void 0!==j[1]&&i(j[0],j[1])<=0}))return St(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",W.InvalidArgument);var O,g=!t||!1!==t.includeLowers,_=t&&!0===t.includeUppers,m=i;function I(j,K){return m(j[0],K[0])}try{(O=N.reduce(function(j,K){for(var F=0,V=j.length;F<V;++F){var ne=j[F];if(r(K[0],ne[1])<0&&0<r(K[1],ne[0])){ne[0]=d(ne[0],K[0]),ne[1]=y(ne[1],K[1]);break}}return F===V&&j.push(K),j},[])).sort(I)}catch{return St(this,Zt)}var b=0,A=_?function(j){return 0<i(j,O[b][1])}:function(j){return 0<=i(j,O[b][1])},S=g?function(j){return 0<u(j,O[b][0])}:function(j){return 0<=u(j,O[b][0])},P=A;return(N=new this.Collection(this,function(){return Vt(O[0][0],O[O.length-1][1],!g,!_)}))._ondirectionchange=function(j){m="next"===j?(P=A,i):(P=S,u),O.sort(I)},N._addAlgorithm(function(j,K,F){for(var V,ne=j.key;P(ne);)if(++b===O.length)return K(F),!1;return!A(V=ne)&&!S(V)||(0===n._cmp(ne,O[b][1])||0===n._cmp(ne,O[b][0])||K(function(){j.continue(m===i?O[b][0]:O[b][1])}),!1)}),N},Fe.prototype.startsWithAnyOf=function(){var e=Kt.apply(mn,arguments);return e.every(function(t){return"string"==typeof t})?0===e.length?Ot(this):this.inAnyRange(e.map(function(t){return[t,t+"\uffff"]})):St(this,"startsWithAnyOf() only works with strings")},Fe);function Fe(){}function Bt(e){return fe(function(t){return $t(t),e(t.target.error),!1})}function $t(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var tn="storagemutated",pn="x-storagemutated-1",wn=_e(null,tn),Rn=(nn.prototype._lock=function(){return Ue(!ue.global),++this._reculock,1!==this._reculock||ue.global||(ue.lockOwnerFor=this),this},nn.prototype._unlock=function(){if(Ue(!ue.global),0==--this._reculock)for(ue.global||(ue.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Mt(e[1],e[0])}catch{}}return this},nn.prototype._locked=function(){return this._reculock&&ue.lockOwnerFor!==this},nn.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(Ue(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new W.DatabaseClosed(r);case"MissingAPIError":throw new W.MissingAPI(r.message,r);default:throw new W.OpenFailed(r)}if(!this.active)throw new W.TransactionInactive;return Ue(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=fe(function(i){$t(i),t._reject(e.error)}),e.onabort=fe(function(i){$t(i),t.active&&t._reject(new W.Abort(e.error)),t.active=!1,t.on("abort").fire(i)}),e.oncomplete=fe(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&wn.storagemutated.fire(e.mutatedParts)}),this},nn.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return vt(new W.ReadOnly("Transaction is readonly"));if(!this.active)return vt(new W.TransactionInactive);if(this._locked())return new w(function(u,d){r._blockedFuncs.push([function(){r._promise(e,t,n).then(u,d)},ue])});if(n)return X(function(){var u=new w(function(d,y){r._lock();var g=t(d,y,r);g&&g.then&&g.then(d,y)});return u.finally(function(){return r._unlock()}),u._lib=!0,u});var i=new w(function(u,d){var y=t(u,d,r);y&&y.then&&y.then(u,d)});return i._lib=!0,i},nn.prototype._root=function(){return this.parent?this.parent._root():this},nn.prototype.waitFor=function(e){var t,n=this._root(),r=w.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function u(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=u)}());var i=n._waitingFor;return new w(function(u,d){r.then(function(y){return n._waitingQueue.push(fe(u.bind(null,y)))},function(y){return n._waitingQueue.push(fe(d.bind(null,y)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},nn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new W.Abort))},nn.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(ke(t,e))return t[e];var n=this.schema[e];if(!n)throw new W.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},nn);function nn(){}function kn(e,t,n,r,i,u,d,y){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:u,src:(n&&!d?"&":"")+(r?"*":"")+(i?"++":"")+xn(t),type:y}}function xn(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Jt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(i){return[i.name,i]},n.reduce(function(i,u,d){return(d=r(u))&&(i[d[0]]=d[1]),i},{}))};var r}var hn=function(e){try{return e.only([[]]),hn=function(){return[[]]},[[]]}catch{return hn=function(){return"\uffff"},"\uffff"}};function An(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(n){return n[t]}:function(n){return dt(n,t)}:function(n){return dt(n,e)};var t}function Cn(e){return[].slice.call(e)}var Rr=0;function Zn(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Fr(e,t,g){function r(P){if(3===P.type)return null;if(4===P.type)throw new Error("Cannot convert never type to IDBKeyRange");var b=P.lower,A=P.upper,S=P.lowerOpen;return P=P.upperOpen,void 0===b?void 0===A?null:t.upperBound(A,!!P):void 0===A?t.lowerBound(b,!!S):t.bound(b,A,!!S,!!P)}var u,d,y,_=(d=g,y=Cn((u=e).objectStoreNames),O={schema:{name:u.name,tables:y.map(function(I){return d.objectStore(I)}).map(function(I){var b=I.keyPath,P=I.autoIncrement,A=Z(b),S={};return P={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==b,compound:A,keyPath:b,autoIncrement:P,unique:!0,extractKey:An(b)},indexes:Cn(I.indexNames).map(function(N){return I.index(N)}).map(function(F){var K=F.unique,V=F.multiEntry;return V={name:F.name,compound:Z(F=F.keyPath),keyPath:F,unique:K,multiEntry:V,extractKey:An(F)},S[Zn(F)]=V}),getIndexByKeyPath:function(N){return S[Zn(N)]}},S[":id"]=P.primaryKey,null!=b&&(S[Zn(b)]=P.primaryKey),P})},hasGetAll:0<y.length&&"getAll"in d.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,O=(g=O.schema).tables.map(function i(I){var b,A=I.name;return{name:A,schema:I,mutate:function(S){var P=S.trans,N=S.type,j=S.keys,K=S.values,F=S.range;return new Promise(function(V,ne){V=fe(V);var J=P.objectStore(A),H=null==J.keyPath,ae="put"===N||"add"===N;if(!ae&&"delete"!==N&&"deleteRange"!==N)throw new Error("Invalid operation type: "+N);var oe,le=(j||K||{length:1}).length;if(j&&K&&j.length!==K.length)throw new Error("Given keys array must have same length as given values array.");if(0===le)return V({numFailures:0,failures:{},results:[],lastResult:void 0});function Ve(yn){++Ut,$t(yn)}var ft=[],De=[],Ut=0;if("deleteRange"===N){if(4===F.type)return V({numFailures:Ut,failures:De,results:[],lastResult:void 0});ft.push(oe=3===F.type?J.clear():J.delete(r(F)))}else{var je=(H=ae?H?[K,j]:[K,null]:[j,null])[0],cn=H[1];if(ae)for(var ln=0;ln<le;++ln)ft.push(oe=cn&&void 0!==cn[ln]?J[N](je[ln],cn[ln]):J[N](je[ln])),oe.onerror=Ve;else for(ln=0;ln<le;++ln)ft.push(oe=J[N](je[ln])),oe.onerror=Ve}function rr(yn){yn=yn.target.result,ft.forEach(function(Kn,_r){return null!=Kn.error&&(De[_r]=Kn.error)}),V({numFailures:Ut,failures:De,results:"delete"===N?j:ft.map(function(Kn){return Kn.result}),lastResult:yn})}oe.onerror=function(yn){Ve(yn),rr(yn)},oe.onsuccess=rr})},getMany:function(S){var P=S.trans,N=S.keys;return new Promise(function(j,K){j=fe(j);for(var F,V=P.objectStore(A),ne=N.length,J=new Array(ne),H=0,ae=0,oe=function(ft){J[(ft=ft.target)._pos]=ft.result,++ae===H&&j(J)},le=Bt(K),Ve=0;Ve<ne;++Ve)null!=N[Ve]&&((F=V.get(N[Ve]))._pos=Ve,F.onsuccess=oe,F.onerror=le,++H);0===H&&j(J)})},get:function(S){var P=S.trans,N=S.key;return new Promise(function(j,K){j=fe(j);var F=P.objectStore(A).get(N);F.onsuccess=function(V){return j(V.target.result)},F.onerror=Bt(K)})},query:(b=_,function(S){return new Promise(function(P,N){P=fe(P);var j,K,F,V=S.values,ne=S.limit,J=ne===1/0?void 0:ne,ae=(oe=S.query).index,oe=oe.range,H=(H=S.trans).objectStore(A);if(ae=ae.isPrimaryKey?H:H.index(ae.name),oe=r(oe),0===ne)return P({result:[]});b?((J=V?ae.getAll(oe,J):ae.getAllKeys(oe,J)).onsuccess=function(le){return P({result:le.target.result})},J.onerror=Bt(N)):(j=0,K=!V&&"openKeyCursor"in ae?ae.openKeyCursor(oe):ae.openCursor(oe),F=[],K.onsuccess=function(le){var Ve=K.result;return Ve?(F.push(V?Ve.value:Ve.primaryKey),++j===ne?P({result:F}):void Ve.continue()):P({result:F})},K.onerror=Bt(N))})}),openCursor:function(S){var P=S.trans,N=S.values,j=S.query,K=S.reverse,F=S.unique;return new Promise(function(V,ne){V=fe(V);var ae=j.index,J=j.range,H=P.objectStore(A),oe=(H=ae.isPrimaryKey?H:H.index(ae.name),ae=K?F?"prevunique":"prev":F?"nextunique":"next",!N&&"openKeyCursor"in H?H.openKeyCursor(r(J),ae):H.openCursor(r(J),ae));oe.onerror=Bt(ne),oe.onsuccess=fe(function(le){var Ve,ft,De,Ut,je=oe.result;je?(je.___id=++Rr,je.done=!1,Ve=je.continue.bind(je),ft=(ft=je.continuePrimaryKey)&&ft.bind(je),De=je.advance.bind(je),Ut=function(){throw new Error("Cursor not stopped")},je.trans=P,je.stop=je.continue=je.continuePrimaryKey=je.advance=function(){throw new Error("Cursor not started")},je.fail=fe(ne),je.next=function(){var cn=this,ln=1;return this.start(function(){return ln--?cn.continue():cn.stop()}).then(function(){return cn})},je.start=function(cn){function ln(){if(oe.result)try{cn()}catch(yn){je.fail(yn)}else je.done=!0,je.start=function(){throw new Error("Cursor behind last entry")},je.stop()}var rr=new Promise(function(yn,Kn){yn=fe(yn),oe.onerror=Bt(Kn),je.fail=Kn,je.stop=function(_r){je.stop=je.continue=je.continuePrimaryKey=je.advance=Ut,yn(_r)}});return oe.onsuccess=fe(function(yn){oe.onsuccess=ln,ln()}),je.continue=Ve,je.continuePrimaryKey=ft,je.advance=De,ln(),rr},V(je)):V(null)},ne)})},count:function(S){var P=S.query,N=S.trans,j=P.index,K=P.range;return new Promise(function(F,V){var ne=N.objectStore(A),J=j.isPrimaryKey?ne:ne.index(j.name);(J=(ne=r(K))?J.count(ne):J.count()).onsuccess=fe(function(H){return F(H.target.result)}),J.onerror=Bt(V)})}}}),m={};return O.forEach(function(I){return m[I.name]=I}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(I){if(!m[I])throw new Error("Table '".concat(I,"' not found"));return m[I]},MIN_KEY:-1/0,MAX_KEY:hn(t),schema:g}}function Gn(e,r){r=function Dr(e,t,n,r){return{dbcore:(r=Fr(t,n.IDBKeyRange,r),e.dbcore.reduce(function(u,d){return d=d.create,R(R({},u),d(u))},r))}}(e._middlewares,r.db,e._deps,r),e.core=r.dbcore,e.tables.forEach(function(i){var u=i.name;e.core.schema.tables.some(function(d){return d.name===u})&&(i.core=e.core.table(u),e[u]instanceof e.Table&&(e[u].core=i.core))})}function Yn(e,t,n,r){n.forEach(function(i){var u=r[i];t.forEach(function(d){var y=function g(_,O){return Et(_,O)||(_=ge(_))&&g(_,O)}(d,i);(!y||"value"in y&&void 0===y.value)&&(d===e.Transaction.prototype||d instanceof e.Transaction?Ze(d,i,{get:function(){return this.table(i)},set:function(g){at(this,i,{value:g,writable:!0,configurable:!0,enumerable:!0})}}):d[i]=new e.Table(i,u))})})}function ir(e,t){t.forEach(function(n){for(var r in n)n[r]instanceof e.Table&&delete n[r]})}function Ur(e,t){return e._cfg.version-t._cfg.version}function or(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],u=t[n];if(i){var d={name:n,def:u,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(u.primKey.keyPath||"")||i.primKey.auto!==u.primKey.auto)d.recreate=!0,r.change.push(d);else{var y=i.idxByName,g=u.idxByName,_=void 0;for(_ in y)g[_]||d.del.push(_);for(_ in g){var O=y[_],m=g[_];O?O.src!==m.src&&d.change.push(m):d.add.push(m)}(0<d.del.length||0<d.add.length||0<d.change.length)&&r.change.push(d)}}else r.add.push([n,u])}return r}function ar(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(u){return Wn(i,u)}),i}function xr(e,t){z(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(k&&console.debug("Dexie: Creating missing table",n),ar(t,n,e[n].primKey,e[n].indexes))})}function Wn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function zn(e,t,n){var r={};return Ge(t.objectStoreNames,0).forEach(function(i){for(var u=n.objectStore(i),d=kn(xn(_=u.keyPath),_||"",!0,!1,!!u.autoIncrement,_&&"string"!=typeof _,!0),y=[],g=0;g<u.indexNames.length;++g){var _=(O=u.index(u.indexNames[g])).keyPath,O=kn(O.name,_,!!O.unique,!!O.multiEntry,!1,_&&"string"!=typeof _,!1);y.push(O)}r[i]=Jt(i,d,y)}),r}function Jn(e,t,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var u=r[i],d=n.objectStore(u);e._hasGetAll="getAll"in d;for(var y=0;y<d.indexNames.length;++y){var g=d.indexNames[y],_=d.index(g).keyPath,O="string"==typeof _?_:"["+Ge(_).join("+")+"]";!t[u]||(_=t[u].idxByName[O])&&(_.name=g,delete t[u].idxByName[O],t[u].idxByName[g]=_)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&G.WorkerGlobalScope&&G instanceof G.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function Ar(e){return e.split(",").map(function(t,n){var r=null===(i=(u=t.split(":"))[1])||void 0===i?void 0:i.trim(),i=(t=u[0].trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(i)?i.match(/^\[(.*)\]$/)[1].split("+"):i;return kn(i,u||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Z(u),0===n,r)})}var qr=(Fn.prototype._createTableSchema=Jt,Fn.prototype._parseIndexSyntax=Ar,Fn.prototype._parseStoresSpec=function(e,t){var n=this;z(e).forEach(function(r){if(null!==e[r]){var i=n._parseIndexSyntax(e[r]),u=i.shift();if(!u)throw new W.Schema("Invalid schema for table "+r+": "+e[r]);if(u.unique=!0,u.multi)throw new W.Schema("Primary key cannot be multiEntry*");i.forEach(function(d){if(d.auto)throw new W.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new W.Schema("Index must have a name and cannot be an empty string")}),i=n._createTableSchema(r,u,i),t[r]=i}})},Fn.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?ce(this._cfg.storesSource,n):n;var r={},i={};return(n=t._versions).forEach(function(u){ce(r,u._cfg.storesSource),i=u._cfg.dbschema={},u._parseStoresSpec(r,i)}),t._dbSchema=i,ir(t,[t._allTables,t,t.Transaction.prototype]),Yn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],z(i),i),t._storeNames=z(i),this},Fn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=me(this._cfg.contentUpgrade||U,e),this},Fn);function Fn(){}function ur(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Sn(ot,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function sr(e){return e&&"function"==typeof e.databases}function cr(e){return X(function(){return ue.letThrough=!0,e()})}function lr(e){return!("from"in e)}var sn=function(e,t){if(!this){var n=new sn;return e&&"d"in e&&ce(n,e),n}ce(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function Vn(e,t,n){var r=h(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(lr(e))return ce(e,{from:t,to:n,d:1});var i=e.l;if(r=e.r,h(n,e.from)<0)return i?Vn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Er(e);if(0<h(t,e.to))return r?Vn(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Er(e);h(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<h(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,i&&!e.l&&$n(e,i),r&&n&&$n(e,r)}}function $n(e,t){lr(t)||function n(r,g){var u=g.from,d=g.to,y=g.l;g=g.r,Vn(r,u,d),y&&n(r,y),g&&n(r,g)}(e,t)}function Or(e,t){var n=Hn(t),r=n.next();if(r.done)return!1;for(var i=r.value,u=Hn(e),d=u.next(i.from),y=d.value;!r.done&&!d.done;){if(h(y.from,i.to)<=0&&0<=h(y.to,i.from))return!0;h(i.from,y.from)<0?i=(r=n.next(y.from)).value:y=(d=u.next(i.from)).value}return!1}function Hn(e){var t=lr(e)?null:{s:0,n:e};return{next:function(n){for(var r=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&h(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||h(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Er(e){var t,n,r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=1<r?"r":r<-1?"l":"";i&&(t="r"==i?"l":"r",n=R({},e),e.from=(r=e[i]).from,e.to=r.to,e[i]=r[i],n[i]=r[t],(e[t]=n).d=Pr(n)),e.d=Pr(e)}function Pr(n){var t=n.r;return n=n.l,(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}function Xn(e,t){return z(t).forEach(function(n){e[n]?$n(e[n],t[n]):e[n]=function r(i){var u,d,y={};for(u in i)ke(i,u)&&(y[u]=!(d=i[u])||"object"!=typeof d||rn.has(d.constructor)?d:r(d));return y}(t[n])}),e}function fr(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&Or(t[n],e[n])})}$e(sn.prototype,((_n={add:function(e){return $n(this,e),this},addKey:function(e){return Vn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return Vn(t,n,n)}),this},hasKey:function(e){var t=Hn(this).next(e).value;return t&&h(t.from,e)<=0&&0<=h(t.to,e)}})[Tn]=function(){return Hn(this)},_n));var jn={},dr={},pr=!1;function Qn(e){Xn(dr,e),pr||(pr=!0,setTimeout(function(){pr=!1,hr(dr,!(dr={}))},0))}function hr(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var r=0,i=Object.values(jn);r<i.length;r++)Sr(d=i[r],e,n,t);else for(var u in e){var d,y=/^idb\:\/\/(.*)\/(.*)\//.exec(u);y&&(u=y[1],y=y[2],(d=jn["idb://".concat(u,"/").concat(y)])&&Sr(d,e,n,t))}n.forEach(function(g){return g()})}function Sr(e,t,n,r){for(var i=[],u=0,d=Object.entries(e.queries.query);u<d.length;u++){for(var y=d[u],g=y[0],_=[],O=0,m=y[1];O<m.length;O++){var I=m[O];fr(t,I.obsSet)?I.subscribers.forEach(function(P){return n.add(P)}):r&&_.push(I)}r&&i.push([g,_])}if(r)for(var b=0,A=i;b<A.length;b++){var S=A[b];e.queries.query[g=S[0]]=_=S[1]}}function Zr(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?vt(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,i=Math.round(10*e.verno),u=!1;function d(){if(t.openCanceller!==r)throw new W.DatabaseClosed("db.open() was cancelled")}var g,_=t.dbReadyResolve,O=null,m=!1;return w.race([r,(typeof navigator>"u"?w.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function b(){return indexedDB.databases().finally(I)}g=setInterval(b,100),b()}).finally(function(){return clearInterval(g)}):Promise.resolve()).then(function y(){return new w(function(I,b){if(d(),!n)throw new W.MissingAPI;var A=e.name,S=t.autoSchema||!i?n.open(A):n.open(A,i);if(!S)throw new W.MissingAPI;S.onerror=Bt(b),S.onblocked=fe(e._fireOnBlocked),S.onupgradeneeded=fe(function(P){var N;O=S.transaction,t.autoSchema&&!e._options.allowEmptyDB?(S.onerror=$t,O.abort(),S.result.close(),(N=n.deleteDatabase(A)).onsuccess=N.onerror=fe(function(){b(new W.NoSuchDatabase("Database ".concat(A," doesnt exist")))})):(O.onerror=Bt(b),P=P.oldVersion>Math.pow(2,62)?0:P.oldVersion,m=P<1,e.idbdb=S.result,u&&function Mr(e,t){xr(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=zn(0,e.idbdb,t);Jn(e,e._dbSchema,t);for(var r=0,i=or(n,e._dbSchema).change;r<i.length;r++){var u=function(d){if(d.change.length||d.recreate)return console.warn("Unable to patch indexes of table ".concat(d.name," because it has changes on the type of index or primary key.")),{value:void 0};var y=t.objectStore(d.name);d.add.forEach(function(g){k&&console.debug("Dexie upgrade patch: Creating missing index ".concat(d.name,".").concat(g.src)),Wn(y,g)})}(i[r]);if("object"==typeof u)return u.value}}(e,O),function Lr(e,t,n,r){var i=e._dbSchema;n.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=Jt("$meta",Ar("")[0],[]),e._storeNames.push("$meta"));var u=e._createTransaction("readwrite",e._storeNames,i);u.create(n),u._completion.catch(r);var d=u._reject.bind(u),y=ue.transless||ue;X(function(){return ue.trans=u,ue.transless=y,0!==t?(Gn(e,n),_=t,((g=u).storeNames.includes("$meta")?g.table("$meta").get("version").then(function(O){return O??_}):w.resolve(_)).then(function(O){return I=O,b=u,S=[],O=(m=e)._versions,P=m._dbSchema=zn(0,m.idbdb,A=n),0!==(O=O.filter(function(N){return N._cfg.version>=I})).length?(O.forEach(function(N){S.push(function(){var j=P,K=N._cfg.dbschema;Jn(m,j,A),Jn(m,K,A),P=m._dbSchema=K;var F=or(j,K);F.add.forEach(function(ae){ar(A,ae[0],ae[1].primKey,ae[1].indexes)}),F.change.forEach(function(ae){if(ae.recreate)throw new W.Upgrade("Not yet support for changing primary key");var oe=A.objectStore(ae.name);ae.add.forEach(function(le){return Wn(oe,le)}),ae.change.forEach(function(le){oe.deleteIndex(le.name),Wn(oe,le)}),ae.del.forEach(function(le){return oe.deleteIndex(le)})});var V=N._cfg.contentUpgrade;if(V&&N._cfg.version>I){Gn(m,A),b._memoizedTables={};var ne=st(K);F.del.forEach(function(ae){ne[ae]=j[ae]}),ir(m,[m.Transaction.prototype]),Yn(m,[m.Transaction.prototype],z(ne),ne),b.schema=ne;var J,H=Wt(V);return H&&Ke(),F=w.follow(function(){var ae;(J=V(b))&&H&&(ae=Le.bind(null,null),J.then(ae,ae))}),J&&"function"==typeof J.then?w.resolve(J):F.then(function(){return J})}}),S.push(function(j){var K,F;K=N._cfg.dbschema,[].slice.call((F=j).db.objectStoreNames).forEach(function(ne){return null==K[ne]&&F.db.deleteObjectStore(ne)}),ir(m,[m.Transaction.prototype]),Yn(m,[m.Transaction.prototype],m._storeNames,m._dbSchema),b.schema=m._dbSchema}),S.push(function(j){m.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(m.idbdb.version/10)===N._cfg.version?(m.idbdb.deleteObjectStore("$meta"),delete m._dbSchema.$meta,m._storeNames=m._storeNames.filter(function(K){return"$meta"!==K})):j.objectStore("$meta").put(N._cfg.version,"version"))})}),function N(){return S.length?w.resolve(S.shift()(b.idbtrans)).then(N):w.resolve()}().then(function(){xr(P,A)})):w.resolve();var m,I,b,A,S,P}).catch(d)):(z(i).forEach(function(O){ar(n,O,i[O].primKey,i[O].indexes)}),Gn(e,n),void w.follow(function(){return e.on.populate.fire(u)}).catch(d));var g,_})}(e,P/10,O,b))},b),S.onsuccess=fe(function(){O=null;var P,N,j,K,F,V=e.idbdb=S.result,ne=Ge(V.objectStoreNames);if(0<ne.length)try{var J=V.transaction(1===(K=ne).length?K[0]:K,"readonly");if(t.autoSchema)j=J,(P=e).verno=(N=V).version/10,j=P._dbSchema=zn(0,N,j),P._storeNames=Ge(N.objectStoreNames,0),Yn(P,[P._allTables],z(j),j);else if(Jn(e,e._dbSchema,J),((F=or(zn(0,(F=e).idbdb,J),F._dbSchema)).add.length||F.change.some(function(H){return H.add.length||H.change.length}))&&!u)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),V.close(),i=V.version+1,u=!0,I(y());Gn(e,J)}catch{}it.push(e),V.onversionchange=fe(function(H){t.vcFired=!0,e.on("versionchange").fire(H)}),V.onclose=fe(function(H){e.on("close").fire(H)}),m&&(J=A,V=(F=e._deps).indexedDB,F=F.IDBKeyRange,sr(V)||J===ot||ur(V,F).put({name:J}).catch(U)),I()},b)}).catch(function(I){switch(I?.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),y();break;case"VersionError":if(0<i)return i=0,y()}return w.reject(I)})})]).then(function(){return d(),t.onReadyBeingFired=[],w.resolve(cr(function(){return e.on.ready.fire(e.vip)})).then(function I(){if(0<t.onReadyBeingFired.length){var b=t.onReadyBeingFired.reduce(me,U);return t.onReadyBeingFired=[],w.resolve(cr(function(){return b(e.vip)})).then(I)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(I){t.dbOpenError=I;try{O&&O.abort()}catch{}return r===t.openCanceller&&e._close(),vt(I)}).finally(function(){t.openComplete=!0,_()}).then(function(){var I;return m&&(I={},e.tables.forEach(function(b){b.schema.indexes.forEach(function(A){A.name&&(I["idb://".concat(e.name,"/").concat(b.name,"/").concat(A.name)]=new sn(-1/0,[[[]]]))}),I["idb://".concat(e.name,"/").concat(b.name,"/")]=I["idb://".concat(e.name,"/").concat(b.name,"/:dels")]=new sn(-1/0,[[[]]])}),wn(tn).fire(I),hr(I,!0)),e})}function yr(e){function t(u){return e.next(u)}var n=i(t),r=i(function(u){return e.throw(u)});function i(u){return function(g){var y=u(g);return g=y.value,y.done?g:g&&"function"==typeof g.then?g.then(n,r):Z(g)?Promise.all(g).then(n,r):n(g)}}return i(t)()}function er(e,t,n){for(var r=Z(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var Vr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return R(R({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},u=[];function d(m,I,b){var A=Zn(m),S=i[A]=i[A]||[],P=null==m?0:"string"==typeof m?1:m.length,N=0<I;return N=R(R({},b),{name:N?"".concat(A,"(virtual-from:").concat(b.name,")"):b.name,lowLevelIndex:b,isVirtual:N,keyTail:I,keyLength:P,extractKey:An(m),unique:!N&&b.unique}),S.push(N),N.isPrimaryKey||u.push(N),1<P&&d(2===P?m[0]:m.slice(0,P-1),I+1,b),S.sort(function(j,K){return j.keyTail-K.keyTail}),N}t=d(r.primaryKey.keyPath,0,r.primaryKey),i[":id"]=[t];for(var y=0,g=r.indexes;y<g.length;y++){var _=g[y];d(_.keyPath,0,_)}function O(m){var I,b=m.query.index;return b.isVirtual?R(R({},m),{query:{index:b.lowLevelIndex,range:(I=m.query.range,b=b.keyTail,{type:1===I.type?2:I.type,lower:er(I.lower,I.lowerOpen?e.MAX_KEY:e.MIN_KEY,b),lowerOpen:!0,upper:er(I.upper,I.upperOpen?e.MIN_KEY:e.MAX_KEY,b),upperOpen:!0})}}):m}return R(R({},n),{schema:R(R({},r),{primaryKey:t,indexes:u,getIndexByKeyPath:function(m){return(m=i[Zn(m)])&&m[0]}}),count:function(m){return n.count(O(m))},query:function(m){return n.query(O(m))},openCursor:function(m){var I=m.query.index,b=I.keyTail,S=I.keyLength;return I.isVirtual?n.openCursor(O(m)).then(function(N){return N&&function P(N){return Object.create(N,{continue:{value:function(j){null!=j?N.continue(er(j,m.reverse?e.MAX_KEY:e.MIN_KEY,b)):m.unique?N.continue(N.key.slice(0,S).concat(m.reverse?e.MIN_KEY:e.MAX_KEY,b)):N.continue()}},continuePrimaryKey:{value:function(j,K){N.continuePrimaryKey(er(j,e.MAX_KEY,b),K)}},primaryKey:{get:function(){return N.primaryKey}},key:{get:function(){var j=N.key;return 1===S?j[0]:j.slice(0,S)}},value:{get:function(){return N.value}}})}(N)}):n.openCursor(m)}})}})}};function mr(e,t,n,r){return n=n||{},r=r||"",z(e).forEach(function(i){var u,d,y;ke(t,i)?(d=t[i],"object"==typeof(u=e[i])&&"object"==typeof d&&u&&d?(y=On(u))!==On(d)?n[r+i]=t[i]:"Object"===y?mr(u,d,n,r+i+"."):u!==d&&(n[r+i]=t[i]):u!==d&&(n[r+i]=t[i])):n[r+i]=void 0}),z(t).forEach(function(i){ke(e,i)||(n[r+i]=t[i])}),n}function vr(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var $r={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return R(R({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey;return R(R({},n),{mutate:function(i){var u=ue.trans,d=u.table(t).hook,y=d.deleting,g=d.creating,_=d.updating;switch(i.type){case"add":if(g.fire===U)break;return u._promise("readwrite",function(){return O(i)},!0);case"put":if(g.fire===U&&_.fire===U)break;return u._promise("readwrite",function(){return O(i)},!0);case"delete":if(y.fire===U)break;return u._promise("readwrite",function(){return O(i)},!0);case"deleteRange":if(y.fire===U)break;return u._promise("readwrite",function(){return function m(I,b,A){return n.query({trans:I,values:!1,query:{index:r,range:b},limit:A}).then(function(S){var P=S.result;return O({type:"delete",keys:P,trans:I}).then(function(N){return 0<N.numFailures?Promise.reject(N.failures[0]):P.length<A?{failures:[],numFailures:0,lastResult:void 0}:m(I,R(R({},b),{lower:P[P.length-1],lowerOpen:!0}),A)})})}(i.trans,i.range,1e4)},!0)}return n.mutate(i);function O(m){var I,b,A,S=ue.trans,P=m.keys||vr(r,m);if(!P)throw new Error("Keys missing");return"delete"!==(m="add"===m.type||"put"===m.type?R(R({},m),{keys:P}):R({},m)).type&&(m.values=C([],m.values,!0)),m.keys&&(m.keys=C([],m.keys,!0)),I=n,A=P,("add"===(b=m).type?Promise.resolve([]):I.getMany({trans:b.trans,keys:A,cache:"immutable"})).then(function(N){var j=P.map(function(K,F){var V,ne,J,H=N[F],ae={onerror:null,onsuccess:null};return"delete"===m.type?y.fire.call(ae,K,H,S):"add"===m.type||void 0===H?(V=g.fire.call(ae,K,m.values[F],S),null==K&&null!=V&&(m.keys[F]=K=V,r.outbound||ut(m.values[F],r.keyPath,K))):(V=mr(H,m.values[F]),(ne=_.fire.call(ae,V,K,H,S))&&(J=m.values[F],Object.keys(ne).forEach(function(oe){ke(J,oe)?J[oe]=ne[oe]:ut(J,oe,ne[oe])}))),ae});return n.mutate(m).then(function(K){for(var F=K.failures,V=K.results,ne=K.numFailures,J=(K=K.lastResult,0);J<P.length;++J){var H=(V||P)[J],ae=j[J];null==H?ae.onerror&&ae.onerror(F[J]):ae.onsuccess&&ae.onsuccess("put"===m.type&&N[J]?m.values[J]:H)}return{failures:F,results:V,numFailures:ne,lastResult:K}}).catch(function(K){return j.forEach(function(F){return F.onerror&&F.onerror(K)}),Promise.reject(K)})})}}})}})}};function Tr(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,u=0;i<t.keys.length&&u<e.length;++i)0===h(t.keys[i],e[u])&&(r.push(n?Je(t.values[i]):t.values[i]),++u);return r.length===e.length?r:null}catch{return null}}var Gr={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return R(R({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=Tr(r.keys,r.trans._cache,"clone"===r.cache);return i?w.resolve(i):n.getMany(r).then(function(u){return r.trans._cache={keys:r.keys,values:"clone"===r.cache?Je(u):u},u})},mutate:function(r){return"add"!==r.type&&(r.trans._cache=null),n.mutate(r)}})}}}};function Ir(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function Nr(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Yr={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new sn(e.MIN_KEY,e.MAX_KEY);return R(R({},e),{transaction:function(r,i,u){if(ue.subscr&&"readonly"!==i)throw new W.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ue.querier));return e.transaction(r,i,u)},table:function(r){var i=e.table(r),u=i.schema,d=u.primaryKey,m=u.indexes,y=d.extractKey,g=d.outbound,_=d.autoIncrement&&m.filter(function(b){return b.compound&&b.keyPath.includes(d.keyPath)}),O=R(R({},i),{mutate:function(b){function A(oe){return oe="idb://".concat(t,"/").concat(r,"/").concat(oe),K[oe]||(K[oe]=new sn)}var S,P,N,j=b.trans,K=b.mutatedParts||(b.mutatedParts={}),F=A(""),V=A(":dels"),ne=b.type,J=(ae="deleteRange"===b.type?[b.range]:"delete"===b.type?[b.keys]:b.values.length<50?[vr(d,b).filter(function(oe){return oe}),b.values]:[])[0],H=ae[1],ae=b.trans._cache;return Z(J)?(F.addKeys(J),(ae="delete"===ne||J.length===H.length?Tr(J,ae):null)||V.addKeys(J),(ae||H)&&(S=A,P=ae,N=H,u.indexes.forEach(function(oe){var le=S(oe.name||"");function Ve(De){return null!=De?oe.extractKey(De):null}function ft(De){return oe.multiEntry&&Z(De)?De.forEach(function(Ut){return le.addKey(Ut)}):le.addKey(De)}(P||N).forEach(function(De,cn){var je=P&&Ve(P[cn]);0!==h(je,cn=N&&Ve(N[cn]))&&(null!=je&&ft(je),null!=cn&&ft(cn))})}))):J?(H={from:null!==(H=J.lower)&&void 0!==H?H:e.MIN_KEY,to:null!==(H=J.upper)&&void 0!==H?H:e.MAX_KEY},V.add(H),F.add(H)):(F.add(n),V.add(n),u.indexes.forEach(function(oe){return A(oe.name).add(n)})),i.mutate(b).then(function(oe){return!J||"add"!==b.type&&"put"!==b.type||(F.addKeys(oe.results),_&&_.forEach(function(le){for(var Ve=b.values.map(function(je){return le.extractKey(je)}),ft=le.keyPath.findIndex(function(je){return je===d.keyPath}),De=0,Ut=oe.results.length;De<Ut;++De)Ve[De][ft]=oe.results[De];A(le.name).addKeys(Ve)})),j.mutatedParts=Xn(j.mutatedParts||{},K),oe})}}),I={get:function(b){return[d,new sn(b.key)]},getMany:function(b){return[d,(new sn).addKeys(b.keys)]},count:m=function(A){var S;return[A=(S=A.query).index,new sn(null!==(A=(S=S.range).lower)&&void 0!==A?A:e.MIN_KEY,null!==(S=S.upper)&&void 0!==S?S:e.MAX_KEY)]},query:m,openCursor:m};return z(I).forEach(function(b){O[b]=function(A){var P=!!(S=ue.subscr),N=Ir(ue,i)&&Nr(b,A)?A.obsSet={}:S;if(P){var j=function(H){return H="idb://".concat(t,"/").concat(r,"/").concat(H),N[H]||(N[H]=new sn)},K=j(""),F=j(":dels"),S=(P=(S=I[b](A))[0],S[1]);if(("query"===b&&P.isPrimaryKey&&!A.values?F:j(P.name||"")).add(S),!P.isPrimaryKey){if("count"!==b){var V="query"===b&&g&&A.values&&i.query(R(R({},A),{values:!1}));return i[b].apply(this,arguments).then(function(H){if("query"===b){if(g&&A.values)return V.then(function(Ve){return K.addKeys(Ve=Ve.result),H});var ae=A.values?H.result.map(y):H.result;(A.values?K:F).addKeys(ae)}else if("openCursor"===b){var oe=H,le=A.values;return oe&&Object.create(oe,{key:{get:function(){return F.addKey(oe.primaryKey),oe.key}},primaryKey:{get:function(){var Ve=oe.primaryKey;return F.addKey(Ve),Ve}},value:{get:function(){return le&&K.addKey(oe.primaryKey),oe.value}}})}return H})}F.add(n)}}return i[b].apply(this,arguments)}}),O}})}};function kr(e,t,n){return 0===n.numFailures?t:"deleteRange"===t.type||n.numFailures===(t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1)?null:(t=R({},t),Z(t.keys)&&(t.keys=t.keys.filter(function(i,u){return!(u in n.failures)})),"values"in t&&Z(t.values)&&(t.values=t.values.filter(function(i,u){return!(u in n.failures)})),t)}function gr(e,t){return n=e,(void 0===(r=t).lower||(r.lowerOpen?0<h(n,r.lower):0<=h(n,r.lower)))&&(void 0===t.upper||(t.upperOpen?h(e,t.upper)<0:h(e,t.upper)<=0));var n,r}function Cr(e,t,I,r,i,u){if(!I||0===I.length)return e;var d=t.query.index,y=d.multiEntry,g=t.query.range,_=r.schema.primaryKey.extractKey,O=d.extractKey,m=(d.lowLevelIndex||d).extractKey;return(I=I.reduce(function(b,A){var S=b,P=[];if("add"===A.type||"put"===A.type)for(var N=new sn,j=A.values.length-1;0<=j;--j){var K,F=A.values[j],V=_(F);N.hasKey(V)||(K=O(F),(y&&Z(K)?K.some(function(oe){return gr(oe,g)}):gr(K,g))&&(N.addKey(V),P.push(F)))}switch(A.type){case"add":var ne=(new sn).addKeys(t.values?b.map(function(le){return _(le)}):b);S=b.concat(t.values?P.filter(function(le){return le=_(le),!ne.hasKey(le)&&(ne.addKey(le),!0)}):P.map(function(le){return _(le)}).filter(function(le){return!ne.hasKey(le)&&(ne.addKey(le),!0)}));break;case"put":var J=(new sn).addKeys(A.values.map(function(le){return _(le)}));S=b.filter(function(le){return!J.hasKey(t.values?_(le):le)}).concat(t.values?P:P.map(function(le){return _(le)}));break;case"delete":var H=(new sn).addKeys(A.keys);S=b.filter(function(le){return!H.hasKey(t.values?_(le):le)});break;case"deleteRange":var ae=A.range;S=b.filter(function(le){return!gr(_(le),ae)})}return S},e))===e?e:(I.sort(function(b,A){return h(m(b),m(A))||h(_(b),_(A))}),t.limit&&t.limit<1/0&&(I.length>t.limit?I.length=t.limit:e.length===t.limit&&I.length<t.limit&&(i.dirty=!0)),u?Object.freeze(I):I)}function jr(e,t){return 0===h(e.lower,t.lower)&&0===h(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}var Jr={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return R(R({},e),{transaction:function(n,r,i){var u,d,y=e.transaction(n,r,i);return"readwrite"===r&&(d=(u=new AbortController).signal,y.addEventListener("abort",(i=function(g){return function(){if(u.abort(),"readwrite"===r){for(var _=new Set,O=0,m=n;O<m.length;O++){var I=m[O],b=jn["idb://".concat(t,"/").concat(I)];if(b){var A=e.table(I),S=b.optimisticOps.filter(function(le){return le.trans===y});if(y._explicit&&g&&y.mutatedParts)for(var P=0,N=Object.values(b.queries.query);P<N.length;P++)for(var j=0,K=(ne=N[P]).slice();j<K.length;j++)fr((J=K[j]).obsSet,y.mutatedParts)&&(Yt(ne,J),J.subscribers.forEach(function(le){return _.add(le)}));else if(0<S.length){b.optimisticOps=b.optimisticOps.filter(function(le){return le.trans!==y});for(var F=0,V=Object.values(b.queries.query);F<V.length;F++)for(var ne,J,H,ae=0,oe=(ne=V[F]).slice();ae<oe.length;ae++)null!=(J=oe[ae]).res&&y.mutatedParts&&(g&&!J.dirty?(H=Object.isFrozen(J.res),H=Cr(J.res,J.req,S,A,J,H),J.dirty?(Yt(ne,J),J.subscribers.forEach(function(le){return _.add(le)})):H!==J.res&&(J.res=H,J.promise=w.resolve({result:H}))):(J.dirty&&Yt(ne,J),J.subscribers.forEach(function(le){return _.add(le)})))}}}_.forEach(function(le){return le()})}}})(!1),{signal:d}),y.addEventListener("error",i(!1),{signal:d}),y.addEventListener("complete",i(!0),{signal:d})),y},table:function(n){var r=e.table(n),i=r.schema.primaryKey;return R(R({},r),{mutate:function(u){var d=ue.trans;if(i.outbound||"disabled"===d.db._options.cache||d.explicit||"readwrite"!==d.idbtrans.mode)return r.mutate(u);var y=jn["idb://".concat(t,"/").concat(n)];return y?(d=r.mutate(u),"add"!==u.type&&"put"!==u.type||!(50<=u.values.length||vr(i,u).some(function(g){return null==g}))?(y.optimisticOps.push(u),u.mutatedParts&&Qn(u.mutatedParts),d.then(function(g){0<g.numFailures&&(Yt(y.optimisticOps,u),(g=kr(0,u,g))&&y.optimisticOps.push(g),u.mutatedParts&&Qn(u.mutatedParts))}),d.catch(function(){Yt(y.optimisticOps,u),u.mutatedParts&&Qn(u.mutatedParts)})):d.then(function(g){var _=kr(0,R(R({},u),{values:u.values.map(function(O,m){var I;return g.failures[m]||ut(O=null!==(I=i.keyPath)&&void 0!==I&&I.includes(".")?Je(O):R({},O),i.keyPath,g.results[m]),O})}),g);y.optimisticOps.push(_),queueMicrotask(function(){return u.mutatedParts&&Qn(u.mutatedParts)})}),d):r.mutate(u)},query:function(u){if(!Ir(ue,r)||!Nr("query",u))return r.query(u);var d="immutable"===(null===(_=ue.trans)||void 0===_?void 0:_.db._options.cache),y=(m=ue).requery,g=m.signal,_=function(A,S,P,N){var j=jn["idb://".concat(A,"/").concat(S)];if(!j)return[];if(!(S=j.queries[P]))return[null,!1,j,null];var K=S[(N.query?N.query.index.name:null)||""];if(!K)return[null,!1,j,null];switch(P){case"query":var F=K.find(function(V){return V.req.limit===N.limit&&V.req.values===N.values&&jr(V.req.query.range,N.query.range)});return F?[F,!0,j,K]:[K.find(function(V){return("limit"in V.req?V.req.limit:1/0)>=N.limit&&(!N.values||V.req.values)&&function Wr(e,t){return function(n,r,i,u){if(void 0===n)return void 0!==r?-1:0;if(void 0===r)return 1;if(0===(r=h(n,r))){if(i&&u)return 0;if(i)return 1;if(u)return-1}return r}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(n,r,i,u){if(void 0===n)return void 0!==r?1:0;if(void 0===r)return-1;if(0===(r=h(n,r))){if(i&&u)return 0;if(i)return-1;if(u)return 1}return r}(e.upper,t.upper,e.upperOpen,t.upperOpen)}(V.req.query.range,N.query.range)}),!1,j,K];case"count":return[F=K.find(function(V){return jr(V.req.query.range,N.query.range)}),!!F,j,K]}}(t,n,"query",u),O=_[0],m=_[1],I=_[2],b=_[3];return O&&m?O.obsSet=u.obsSet:(m=r.query(u).then(function(A){var S=A.result;if(O&&(O.res=S),d){for(var P=0,N=S.length;P<N;++P)Object.freeze(S[P]);Object.freeze(S)}else A.result=Je(S);return A}).catch(function(A){return b&&O&&Yt(b,O),Promise.reject(A)}),O={obsSet:u.obsSet,promise:m,subscribers:new Set,type:"query",req:u,dirty:!1},b?b.push(O):(b=[O],(I=I||(jn["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[u.query.index.name||""]=b)),function zr(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",function(){var i,u;e.subscribers.delete(n),0===e.subscribers.size&&(i=e,u=t,setTimeout(function(){0===i.subscribers.size&&Yt(u,i)},3e3))})}(O,b,y,g),O.promise.then(function(A){return{result:Cr(A.result,u,I?.optimisticOps,r,O,d)}})}})}})}};function tr(e,t){return new Proxy(e,{get:function(n,r,i){return"db"===r?t:Reflect.get(n,r,i)}})}var Sn=(Gt.prototype.version=function(e){if(isNaN(e)||e<.1)throw new W.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new W.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(r){return r._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(Ur),n.stores({}),this._state.autoSchema=!1,n)},Gt.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ue.letThrough||this._vip)?e():new w(function(n,r){if(t._state.openComplete)return r(new W.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void r(new W.DatabaseClosed);t.open().catch(U)}t._state.dbReadyPromise.then(n,r)}).then(e)},Gt.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:r??10,name:i}),e.sort(function(u,d){return u.level-d.level}),this},Gt.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(i){return r?i.create!==r:!!n&&i.name!==n})),this},Gt.prototype.open=function(){var e=this;return Mt(He,function(){return Zr(e)})},Gt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=it.indexOf(this);if(0<=t&&it.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new w(function(n){e.dbReadyResolve=n}),e.openCanceller=new w(function(n,r){e.cancelOpen=r}))},Gt.prototype.close=function(n){var t=(void 0===n?{disableAutoOpen:!0}:n).disableAutoOpen;n=this._state,t?(n.isBeingOpened&&n.cancelOpen(new W.DatabaseClosed),this._close(),n.autoOpen=!1,n.dbOpenError=new W.DatabaseClosed):(this._close(),n.autoOpen=this._options.autoOpen||n.isBeingOpened,n.openComplete=!1,n.dbOpenError=null)},Gt.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new w(function(i,u){function d(){t.close(e);var y=t._deps.indexedDB.deleteDatabase(t.name);y.onsuccess=fe(function(){var g,_,O;_=t.name,O=(g=t._deps).indexedDB,g=g.IDBKeyRange,sr(O)||_===ot||ur(O,g).delete(_).catch(U),i()}),y.onerror=Bt(u),y.onblocked=t._fireOnBlocked}if(n)throw new W.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(d):d()})},Gt.prototype.backendDB=function(){return this.idbdb},Gt.prototype.isOpen=function(){return null!==this.idbdb},Gt.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},Gt.prototype.hasFailed=function(){return null!==this._state.dbOpenError},Gt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Gt.prototype,"tables",{get:function(){var e=this;return z(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),Gt.prototype.transaction=function(){var e=function(t,n,r){var i=arguments.length;if(i<2)throw new W.InvalidArgument("Too few arguments");for(var u=new Array(i-1);--i;)u[i-1]=arguments[i];return r=u.pop(),[t,tt(u),r]}.apply(this,arguments);return this._transaction.apply(this,e)},Gt.prototype._transaction=function(e,t,n){var r=this,i=ue.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var u,d,y=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(d=t.map(function(_){if("string"!=typeof(_=_ instanceof r.Table?_.name:_))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _}),"r"==e||e===mt)u=mt;else{if("rw"!=e&&e!=kt)throw new W.InvalidArgument("Invalid transaction mode: "+e);u=kt}if(i){if(i.mode===mt&&u===kt){if(!y)throw new W.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&d.forEach(function(_){if(i&&-1===i.storeNames.indexOf(_)){if(!y)throw new W.SubTransaction("Table "+_+" not included in parent transaction.");i=null}}),y&&i&&!i.active&&(i=null)}}catch(_){return i?i._promise(null,function(O,m){m(_)}):vt(_)}var g=function _(O,m,I,b,A){return w.resolve().then(function(){var S=ue.transless||ue,P=O._createTransaction(m,I,O._dbSchema,b);if(P.explicit=!0,S={trans:P,transless:S},b)P.idbtrans=b.idbtrans;else try{P.create(),P.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(K){return K.name===Un.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return _(O,m,I,null,A)})):vt(K)}var N,j=Wt(A);return j&&Ke(),S=w.follow(function(){var K;(N=A.call(P,P))&&(j?(K=Le.bind(null,null),N.then(K,K)):"function"==typeof N.next&&"function"==typeof N.throw&&(N=yr(N)))},S),(N&&"function"==typeof N.then?w.resolve(N).then(function(K){return P.active?K:vt(new W.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):S.then(function(){return N})).then(function(K){return b&&P._resolve(),P._completion.then(function(){return K})}).catch(function(K){return P._reject(K),vt(K)})})}.bind(null,this,u,d,i,n);return i?i._promise(u,g,"lock"):ue.trans?Mt(ue.transless,function(){return r._whenReady(g)}):this._whenReady(g)},Gt.prototype.table=function(e){if(!ke(this._allTables,e))throw new W.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},Gt);function Gt(e,t){var n=this;this._middlewares={},this.verno=0;var r=Gt.dependencies;this._options=t=R({addons:Gt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},r=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var i,u,d,y,g,_={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:U,dbReadyPromise:null,cancelOpen:U,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};_.dbReadyPromise=new w(function(m){_.dbReadyResolve=m}),_.openCanceller=new w(function(m,I){_.cancelOpen=I}),this._state=_,this.name=e,this.on=_e(this,"populate","blocked","versionchange","close",{ready:[me,U]}),this.once=function(m,I){var b=function(){for(var A=[],S=0;S<arguments.length;S++)A[S]=arguments[S];n.on(m).unsubscribe(b),I.apply(n,A)};return n.on(m,b)},this.on.ready.subscribe=Te(this.on.ready.subscribe,function(m){return function(I,b){Gt.vip(function(){var A,S=n._state;S.openComplete?(S.dbOpenError||w.resolve().then(I),b&&m(I)):S.onReadyBeingFired?(S.onReadyBeingFired.push(I),b&&m(I)):(m(I),A=n,b||m(function P(){A.on.ready.unsubscribe(I),A.on.ready.unsubscribe(P)}))})}}),this.Collection=(i=this,Me(ie.prototype,function(N,P){this.db=i;var b=f,A=null;if(P)try{b=P()}catch(j){A=j}var S=N._ctx;this._ctx={table:P=S.table,index:S.index,isPrimKey:!S.index||P.schema.primKey.keyPath&&S.index===P.schema.primKey.name,range:b,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:A,or:S.or,valueMapper:(N=P.hook.reading.fire)!==a?N:null}})),this.Table=(u=this,Me(ve.prototype,function(m,I,b){this.db=u,this._tx=b,this.name=m,this.schema=I,this.hook=u._allTables[m]?u._allTables[m].hook:_e(null,{creating:[v,U],reading:[s,a],updating:[E,U],deleting:[x,U]})})),this.Transaction=(d=this,Me(Rn.prototype,function(m,I,b,A,S){var P=this;"readonly"!==m&&I.forEach(function(N){(N=null===(N=b[N])||void 0===N?void 0:N.yProps)&&(I=I.concat(N.map(function(j){return j.updatesTable})))}),this.db=d,this.mode=m,this.storeNames=I,this.schema=b,this.chromeTransactionDurability=A,this.idbtrans=null,this.on=_e(this,"complete","error","abort"),this.parent=S||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new w(function(N,j){P._resolve=N,P._reject=j}),this._completion.then(function(){P.active=!1,P.on.complete.fire()},function(N){var j=P.active;return P.active=!1,P.on.error.fire(N),P.parent?P.parent._reject(N):j&&P.idbtrans&&P.idbtrans.abort(),vt(N)})})),this.Version=(y=this,Me(qr.prototype,function(m){this.db=y,this._cfg={version:m,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(g=this,Me(dn.prototype,function(m,I,b){if(this.db=g,this._ctx={table:m,index:":id"===I?null:I,or:b},this._cmp=this._ascending=h,this._descending=function(A,S){return h(S,A)},this._max=function(A,S){return 0<h(A,S)?A:S},this._min=function(A,S){return h(A,S)<0?A:S},this._IDBKeyRange=g._deps.IDBKeyRange,!this._IDBKeyRange)throw new W.MissingAPI})),this.on("versionchange",function(m){0<m.newVersion?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(m){!m.newVersion||m.newVersion<m.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(m.oldVersion/10))}),this._maxKey=hn(t.IDBKeyRange),this._createTransaction=function(m,I,b,A){return new n.Transaction(m,I,b,n._options.chromeTransactionDurability,A)},this._fireOnBlocked=function(m){n.on("blocked").fire(m),it.filter(function(I){return I.name===n.name&&I!==n&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(m)})},this.use(Gr),this.use(Jr),this.use(Yr),this.use(Vr),this.use($r);var O=new Proxy(this,{get:function(m,I,b){if("_vip"===I)return!0;if("table"===I)return function(S){return tr(n.table(S),O)};var A=Reflect.get(m,I,b);return A instanceof ve?tr(A,O):"tables"===I?A.map(function(S){return tr(S,O)}):"_createTransaction"===I?function(){return tr(A.apply(this,arguments),O)}:A}});this.vip=O,r.forEach(function(m){return m(n)})}_n=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var nr,Hr=(br.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},br.prototype[_n]=function(){return this},br);function br(e){this._subscribe=e}try{nr={indexedDB:G.indexedDB||G.mozIndexedDB||G.webkitIndexedDB||G.msIndexedDB,IDBKeyRange:G.IDBKeyRange||G.webkitIDBKeyRange}}catch{nr={indexedDB:null,IDBKeyRange:null}}function Br(e){var t,n=!1,r=new Hr(function(i){var d,u=Wt(e),y=!1,g={},_={},O={get closed(){return y},unsubscribe:function(){y||(y=!0,d&&d.abort(),m&&wn.storagemutated.unsubscribe(b))}};i.start&&i.start(O);var m=!1,I=function(){return fn(A)},b=function(S){Xn(g,S),fr(_,g)&&I()},A=function(){var S,P,N;!y&&nr.indexedDB&&(g={},S={},d&&d.abort(),d=new AbortController,N=function(j){var K=lt();try{u&&Ke();var F=X(e,j);return F=u?F.finally(Le):F}finally{K&&wt()}}(P={subscr:S,signal:d.signal,requery:I,querier:e,trans:null}),Promise.resolve(N).then(function(j){n=!0,t=j,y||P.signal.aborted||(g={},function(K){for(var F in K)if(ke(K,F))return;return 1}(_=S)||m||(wn(tn,b),m=!0),fn(function(){return!y&&i.next&&i.next(j)}))},function(j){n=!1,["DatabaseClosedError","AbortError"].includes(j?.name)||y||fn(function(){y||i.error&&i.error(j)})}))};return setTimeout(I,0),O});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var Bn=Sn;function wr(e){var t=In;try{In=!0,wn.storagemutated.fire(e),hr(e,!0)}finally{In=t}}$e(Bn,R(R({},qn),{delete:function(e){return new Bn(e,{addons:[]}).delete()},exists:function(e){return new Bn(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return n=(t=Bn.dependencies).indexedDB,t=t.IDBKeyRange,(sr(n)?Promise.resolve(n.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==ot})}):ur(n,t).toCollection().primaryKeys()).then(e)}catch{return vt(new W.MissingAPI)}var t,n},defineClass:function(){return function(e){ce(this,e)}},ignoreTransaction:function(e){return ue.trans?Mt(ue.transless,e):e()},vip:cr,async:function(e){return function(){try{var t=yr(e.apply(this,arguments));return t&&"function"==typeof t.then?t:w.resolve(t)}catch(n){return vt(n)}}},spawn:function(e,t,n){try{var r=yr(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:w.resolve(r)}catch(i){return vt(i)}},currentTransaction:{get:function(){return ue.trans||null}},waitFor:function(e,t){return t=w.resolve("function"==typeof e?Bn.ignoreTransaction(e):e).timeout(t||6e4),ue.trans?ue.trans.waitFor(t):t},Promise:w,debug:{get:function(){return k},set:function(e){se(e)}},derive:Oe,extend:ce,props:$e,override:Te,Events:_e,on:wn,liveQuery:Br,extendObservabilitySet:Xn,getByKeyPath:dt,setByKeyPath:ut,delByKeyPath:function(e,t){"string"==typeof t?ut(e,t,void 0):"length"in t&&[].map.call(t,function(n){ut(e,n,void 0)})},shallowClone:st,deepClone:Je,getObjectDiff:mr,cmp:h,asap:Ye,minKey:-1/0,addons:[],connections:it,errnames:Un,dependencies:nr,cache:jn,semVer:"4.2.0",version:"4.2.0".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),Bn.maxKey=hn(Bn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(wn(tn,function(e){In||(e=new CustomEvent(pn,{detail:e}),In=!0,dispatchEvent(e),In=!1)}),addEventListener(pn,function(e){e=e.detail,In||wr(e)}));var Dn,In=!1,Kr=function(){};return typeof BroadcastChannel<"u"&&((Kr=function(){(Dn=new BroadcastChannel(pn)).onmessage=function(e){return e.data&&wr(e.data)}})(),"function"==typeof Dn.unref&&Dn.unref(),wn(tn,function(e){In||Dn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!Sn.disableBfCache&&e.persisted){k&&console.debug("Dexie: handling persisted pagehide"),Dn?.close();for(var t=0,n=it;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!Sn.disableBfCache&&e.persisted&&(k&&console.debug("Dexie: handling persisted pageshow"),Kr(),wr({all:new sn(-1/0,[[]])}))})),w.rejectionMapper=function(e,t){return!e||e instanceof Lt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Mn[e.name]?e:(t=new Mn[e.name](t||e.message,e),"stack"in e&&Ze(t,"stack",{get:function(){return this.inner.stack}}),t)},se(k),R(Sn,Object.freeze({__proto__:null,Dexie:Sn,liveQuery:Br,Entity:l,cmp:h,PropModification:Ft,replacePrefix:function(e,t){return new Ft({replacePrefix:[e,t]})},add:function(e){return new Ft({add:e})},remove:function(e){return new Ft({remove:e})},default:Sn,RangeSet:sn,mergeRanges:$n,rangesOverlap:Or}),{default:Sn}),Sn}()},65592:(Q,Ae,R)=>{"use strict";R.d(Ae,{y:()=>ke});var C=R(80305),G=R(55113),z=R(14850),Z=R(88407),ce=R(82653),ge=R(84674),et=R(81441);let ke=(()=>{class Oe{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Ge=new Oe;return Ge.source=this,Ge.operator=Se,Ge}subscribe(Se,Ge,Te){const Ue=function Ze(Oe){return Oe&&Oe instanceof C.Lv||function at(Oe){return Oe&&(0,ge.m)(Oe.next)&&(0,ge.m)(Oe.error)&&(0,ge.m)(Oe.complete)}(Oe)&&(0,G.Nn)(Oe)}(Se)?Se:new C.Hp(Se,Ge,Te);return(0,et.x)(()=>{const{operator:Ye,source:dt}=this;Ue.add(Ye?Ye.call(Ue,dt):dt?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Ge){Se.error(Ge)}}forEach(Se,Ge){return new(Ge=$e(Ge))((Te,Ue)=>{const Ye=new C.Hp({next:dt=>{try{Se(dt)}catch(ut){Ue(ut),Ye.unsubscribe()}},error:Ue,complete:Te});this.subscribe(Ye)})}_subscribe(Se){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(Se)}[z.L](){return this}pipe(...Se){return(0,Z.U)(Se)(this)}toPromise(Se){return new(Se=$e(Se))((Ge,Te)=>{let Ue;this.subscribe(Ye=>Ue=Ye,Ye=>Te(Ye),()=>Ge(Ue))})}}return Oe.create=Et=>new Oe(Et),Oe})();function $e(Oe){var Et;return null!==(Et=Oe??ce.config.Promise)&&void 0!==Et?Et:Promise}},80305:(Q,Ae,R)=>{"use strict";R.d(Ae,{Hp:()=>Te,Lv:()=>Oe});var C=R(84674),G=R(55113),z=R(82653),Z=R(93894),ce=R(72420);const ge=$e("C",void 0,void 0);function $e(st,be,tt){return{kind:st,value:be,error:tt}}var at=R(87599),Ze=R(81441);class Oe extends G.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,G.Nn)(be)&&be.add(this)):this.destination=ut}static create(be,tt,rn){return new Te(be,tt,rn)}next(be){this.isStopped?dt(function ke(st){return $e("N",st,void 0)}(be),this):this._next(be)}error(be){this.isStopped?dt(function et(st){return $e("E",void 0,st)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?dt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Et=Function.prototype.bind;function Se(st,be){return Et.call(st,be)}class Ge{constructor(be){this.partialObserver=be}next(be){const{partialObserver:tt}=this;if(tt.next)try{tt.next(be)}catch(rn){Ue(rn)}}error(be){const{partialObserver:tt}=this;if(tt.error)try{tt.error(be)}catch(rn){Ue(rn)}else Ue(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(tt){Ue(tt)}}}class Te extends Oe{constructor(be,tt,rn){let It;if(super(),(0,C.m)(be)||!be)It={next:be??void 0,error:tt??void 0,complete:rn??void 0};else{let Je;this&&z.config.useDeprecatedNextContext?(Je=Object.create(be),Je.unsubscribe=()=>this.unsubscribe(),It={next:be.next&&Se(be.next,Je),error:be.error&&Se(be.error,Je),complete:be.complete&&Se(be.complete,Je)}):It=be}this.destination=new Ge(It)}}function Ue(st){z.config.useDeprecatedSynchronousErrorHandling?(0,Ze.O)(st):(0,Z.h)(st)}function dt(st,be){const{onStoppedNotification:tt}=z.config;tt&&at.z.setTimeout(()=>tt(st,be))}const ut={closed:!0,next:ce.Z,error:function Ye(st){throw st},complete:ce.Z}},82653:(Q,Ae,R)=>{"use strict";R.d(Ae,{config:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},87599:(Q,Ae,R)=>{"use strict";R.d(Ae,{z:()=>C});const C={setTimeout(G,z,...Z){const{delegate:ce}=C;return ce?.setTimeout?ce.setTimeout(G,z,...Z):setTimeout(G,z,...Z)},clearTimeout(G){const{delegate:z}=C;return(z?.clearTimeout||clearTimeout)(G)},delegate:void 0}},14850:(Q,Ae,R)=>{"use strict";R.d(Ae,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},59732:(Q,Ae,R)=>{"use strict";R.d(Ae,{B:()=>G});const G=(0,R(82306).d)(z=>function(ce){z(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((ge,et)=>`${et+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce})},49039:(Q,Ae,R)=>{"use strict";function C(G,z){if(G){const Z=G.indexOf(z);0<=Z&&G.splice(Z,1)}}R.d(Ae,{P:()=>C})},82306:(Q,Ae,R)=>{"use strict";function C(G){const Z=G(ce=>{Error.call(ce),ce.stack=(new Error).stack});return Z.prototype=Object.create(Error.prototype),Z.prototype.constructor=Z,Z}R.d(Ae,{d:()=>C})},81441:(Q,Ae,R)=>{"use strict";R.d(Ae,{O:()=>Z,x:()=>z});var C=R(82653);let G=null;function z(ce){if(C.config.useDeprecatedSynchronousErrorHandling){const ge=!G;if(ge&&(G={errorThrown:!1,error:null}),ce(),ge){const{errorThrown:et,error:ke}=G;if(G=null,et)throw ke}}else ce()}function Z(ce){C.config.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=ce)}},42737:(Q,Ae,R)=>{"use strict";function C(G){return G}R.d(Ae,{y:()=>C})},84674:(Q,Ae,R)=>{"use strict";function C(G){return"function"==typeof G}R.d(Ae,{m:()=>C})},72420:(Q,Ae,R)=>{"use strict";function C(){}R.d(Ae,{Z:()=>C})},93894:(Q,Ae,R)=>{"use strict";R.d(Ae,{h:()=>z});var C=R(82653),G=R(87599);function z(Z){G.z.setTimeout(()=>{const{onUnhandledError:ce}=C.config;if(!ce)throw Z;ce(Z)})}},83801:Q=>{Q.exports=function Ae(R,C){this.v=R,this.k=C},Q.exports.__esModule=!0,Q.exports.default=Q.exports},72331:(Q,Ae,R)=>{var C=R(61169);function G(){var z,Z,ce="function"==typeof Symbol?Symbol:{},ge=ce.iterator||"@@iterator",et=ce.toStringTag||"@@toStringTag";function ke(Te,Ue,Ye,dt){var st=Object.create((Ue&&Ue.prototype instanceof at?Ue:at).prototype);return C(st,"_invoke",function(be,tt,rn){var It,Je,Qt,On=0,Tn=rn||[],En=!1,Yt={p:0,n:0,v:z,a:mn,f:mn.bind(z,4),d:function(Wt,vn){return It=Wt,Je=0,Qt=z,Yt.n=vn,$e}};function mn(Kt,Wt){for(Je=Kt,Qt=Wt,Z=0;!En&&On&&!vn&&Z<Tn.length;Z++){var vn,Lt=Tn[Z],Pn=Yt.p,bn=Lt[2];Kt>3?(vn=bn===Wt)&&(Qt=Lt[(Je=Lt[4])?5:(Je=3,3)],Lt[4]=Lt[5]=z):Lt[0]<=Pn&&((vn=Kt<2&&Pn<Lt[1])?(Je=0,Yt.v=Wt,Yt.n=Lt[1]):Pn<bn&&(vn=Kt<3||Lt[0]>Wt||Wt>bn)&&(Lt[4]=Kt,Lt[5]=Wt,Yt.n=bn,Je=0))}if(vn||Kt>1)return $e;throw En=!0,Wt}return function(Kt,Wt,vn){if(On>1)throw TypeError("Generator is already running");for(En&&1===Wt&&mn(Wt,vn),Je=Wt,Qt=vn;(Z=Je<2?z:Qt)||!En;){It||(Je?Je<3?(Je>1&&(Yt.n=-1),mn(Je,Qt)):Yt.n=Qt:Yt.v=Qt);try{if(On=2,It){if(Je||(Kt="next"),Z=It[Kt]){if(!(Z=Z.call(It,Qt)))throw TypeError("iterator result is not an object");if(!Z.done)return Z;Qt=Z.value,Je<2&&(Je=0)}else 1===Je&&(Z=It.return)&&Z.call(It),Je<2&&(Qt=TypeError("The iterator does not provide a '"+Kt+"' method"),Je=1);It=z}else if((Z=(En=Yt.n<0)?Qt:be.call(tt,Yt))!==$e)break}catch(Lt){It=z,Je=1,Qt=Lt}finally{On=1}}return{value:Z,done:En}}}(Te,Ye,dt),!0),st}var $e={};function at(){}function Ze(){}function Oe(){}Z=Object.getPrototypeOf;var Et=[][ge]?Z(Z([][ge]())):(C(Z={},ge,function(){return this}),Z),Se=Oe.prototype=at.prototype=Object.create(Et);function Ge(Te){return Object.setPrototypeOf?Object.setPrototypeOf(Te,Oe):(Te.__proto__=Oe,C(Te,et,"GeneratorFunction")),Te.prototype=Object.create(Se),Te}return Ze.prototype=Oe,C(Se,"constructor",Oe),C(Oe,"constructor",Ze),Ze.displayName="GeneratorFunction",C(Oe,et,"GeneratorFunction"),C(Se),C(Se,et,"Generator"),C(Se,ge,function(){return this}),C(Se,"toString",function(){return"[object Generator]"}),(Q.exports=G=function(){return{w:ke,m:Ge}},Q.exports.__esModule=!0,Q.exports.default=Q.exports)()}Q.exports=G,Q.exports.__esModule=!0,Q.exports.default=Q.exports},34132:(Q,Ae,R)=>{var C=R(91034);Q.exports=function G(z,Z,ce,ge,et){var ke=C(z,Z,ce,ge,et);return ke.next().then(function($e){return $e.done?$e.value:ke.next()})},Q.exports.__esModule=!0,Q.exports.default=Q.exports},91034:(Q,Ae,R)=>{var C=R(72331),G=R(73524);Q.exports=function z(Z,ce,ge,et,ke){return new G(C().w(Z,ce,ge,et),ke||Promise)},Q.exports.__esModule=!0,Q.exports.default=Q.exports},73524:(Q,Ae,R)=>{var C=R(83801),G=R(61169);Q.exports=function z(Z,ce){function ge(ke,$e,at,Ze){try{var Oe=Z[ke]($e),Et=Oe.value;return Et instanceof C?ce.resolve(Et.v).then(function(Se){ge("next",Se,at,Ze)},function(Se){ge("throw",Se,at,Ze)}):ce.resolve(Et).then(function(Se){Oe.value=Se,at(Oe)},function(Se){return ge("throw",Se,at,Ze)})}catch(Se){Ze(Se)}}var et;this.next||(G(z.prototype),G(z.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),G(this,"_invoke",function(ke,$e,at){function Ze(){return new ce(function(Oe,Et){ge(ke,at,Oe,Et)})}return et=et?et.then(Ze,Ze):Ze()},!0)},Q.exports.__esModule=!0,Q.exports.default=Q.exports},61169:Q=>{function Ae(R,C,G,z){var Z=Object.defineProperty;try{Z({},"",{})}catch{Z=0}Q.exports=Ae=function(ge,et,ke,$e){function at(Ze,Oe){Ae(ge,Ze,function(Et){return this._invoke(Ze,Oe,Et)})}et?Z?Z(ge,et,{value:ke,enumerable:!$e,configurable:!$e,writable:!$e}):ge[et]=ke:(at("next",0),at("throw",1),at("return",2))},Q.exports.__esModule=!0,Q.exports.default=Q.exports,Ae(R,C,G,z)}Q.exports=Ae,Q.exports.__esModule=!0,Q.exports.default=Q.exports},62261:Q=>{Q.exports=function Ae(R){var C=Object(R),G=[];for(var z in C)G.unshift(z);return function Z(){for(;G.length;)if((z=G.pop())in C)return Z.value=z,Z.done=!1,Z;return Z.done=!0,Z}},Q.exports.__esModule=!0,Q.exports.default=Q.exports},17061:(Q,Ae,R)=>{var C=R(83801),G=R(72331),z=R(34132),Z=R(91034),ce=R(73524),ge=R(62261),et=R(38249);function ke(){"use strict";var $e=G(),at=$e.m(ke),Ze=(Object.getPrototypeOf?Object.getPrototypeOf(at):at.__proto__).constructor;function Oe(Ge){var Te="function"==typeof Ge&&Ge.constructor;return!!Te&&(Te===Ze||"GeneratorFunction"===(Te.displayName||Te.name))}var Et={throw:1,return:2,break:3,continue:3};function Se(Ge){var Te,Ue;return function(Ye){Te||(Te={stop:function(){return Ue(Ye.a,2)},catch:function(){return Ye.v},abrupt:function(ut,st){return Ue(Ye.a,Et[ut],st)},delegateYield:function(ut,st,be){return Te.resultName=st,Ue(Ye.d,et(ut),be)},finish:function(ut){return Ue(Ye.f,ut)}},Ue=function(ut,st,be){Ye.p=Te.prev,Ye.n=Te.next;try{return ut(st,be)}finally{Te.next=Ye.n}}),Te.resultName&&(Te[Te.resultName]=Ye.v,Te.resultName=void 0),Te.sent=Ye.v,Te.next=Ye.n;try{return Ge.call(this,Te)}finally{Ye.p=Te.prev,Ye.n=Te.next}}}return(Q.exports=ke=function(){return{wrap:function(Ue,Ye,dt,ut){return $e.w(Se(Ue),Ye,dt,ut&&ut.reverse())},isGeneratorFunction:Oe,mark:$e.m,awrap:function(Ue,Ye){return new C(Ue,Ye)},AsyncIterator:ce,async:function(Ue,Ye,dt,ut,st){return(Oe(Ye)?Z:z)(Se(Ue),Ye,dt,ut,st)},keys:ge,values:et}},Q.exports.__esModule=!0,Q.exports.default=Q.exports)()}Q.exports=ke,Q.exports.__esModule=!0,Q.exports.default=Q.exports},38249:(Q,Ae,R)=>{var C=R(18698).default;Q.exports=function G(z){if(null!=z){var Z=z["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],ce=0;if(Z)return Z.call(z);if("function"==typeof z.next)return z;if(!isNaN(z.length))return{next:function(){return z&&ce>=z.length&&(z=void 0),{value:z&&z[ce++],done:!z}}}}throw new TypeError(C(z)+" is not iterable")},Q.exports.__esModule=!0,Q.exports.default=Q.exports},18698:Q=>{function Ae(R){return Q.exports=Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},Q.exports.__esModule=!0,Q.exports.default=Q.exports,Ae(R)}Q.exports=Ae,Q.exports.__esModule=!0,Q.exports.default=Q.exports},64687:(Q,Ae,R)=>{var C=R(17061)();Q.exports=C;try{regeneratorRuntime=C}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=C:Function("r","regeneratorRuntime = r")(C)}},7331:(Q,Ae,R)=>{"use strict";R.d(Ae,{ZP:()=>Ge});var C=R(93667);const G=Symbol.for("Dexie"),z=globalThis[G]||(globalThis[G]=C);if(C.semVer!==z.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${C.semVer} and ${z.semVer}`);const Ge=z},15861:(Q,Ae,R)=>{"use strict";function C(z,Z,ce,ge,et,ke,$e){try{var at=z[ke]($e),Ze=at.value}catch(Oe){return void ce(Oe)}at.done?Z(Ze):Promise.resolve(Ze).then(ge,et)}function G(z){return function(){var Z=this,ce=arguments;return new Promise(function(ge,et){var ke=z.apply(Z,ce);function $e(Ze){C(ke,ge,et,$e,at,"next",Ze)}function at(Ze){C(ke,ge,et,$e,at,"throw",Ze)}$e(void 0)})}}R.d(Ae,{Z:()=>G})}}]);