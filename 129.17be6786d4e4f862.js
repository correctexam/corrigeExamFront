"use strict";(self.webpackChunkgrade_scope_istic=self.webpackChunkgrade_scope_istic||[]).push([[129],{64129:(A,m,a)=>{a.r(m),a.d(m,{LOGIN_ROUTE:()=>b});var p=a(15861),r=a(56223),d=a(50456),c=a(61766),f=a(52906),e=a(25758),u=a(28131),h=a(1042),U=a(1314),Z=a(66905);const _=["username"];function v(t,g){1&t&&(e._uU(0,"\n        "),e.TgZ(1,"div",19),e.ALo(2,"translate"),e._uU(3,"\n          "),e.TgZ(4,"strong"),e._uU(5,"Failed to sign in!"),e.qZA(),e._uU(6," Please check your credentials and try again.\n        "),e.qZA(),e._uU(7,"\n      ")),2&t&&(e.xp6(),e.Q6J("innerHTML",e.lcZ(2,1,"login.messages.error.authentication"),e.oJD))}function T(t,g){if(1&t){const o=e.EpF();e._uU(0,"\n        "),e.TgZ(1,"div",15),e._uU(2,"\n          "),e.TgZ(3,"span",13),e._uU(4," "),e.qZA(),e._uU(5,"\n          "),e.TgZ(6,"a",20),e.NdJ("click",function(){u.CHM(o);const n=e.oxw();return u.KtG(n.cleanCache())}),e._uU(7,"Probl\xe8me pour vous connecter, (un petit nettoyage du cache locale pour cette application)\n          "),e.qZA(),e._uU(8,"\n          "),e.TgZ(9,"span",13),e._uU(10," "),e.qZA(),e._uU(11,"\n        "),e.qZA(),e._uU(12,"\n      ")}2&t&&(e.xp6(3),e.Q6J("translate","scanexam.cleancachesessionstart"),e.xp6(3),e.Q6J("translate","scanexam.cleancachesessionhere"),e.xp6(3),e.Q6J("translate","scanexam.cleancachesessionend"))}function y(t,g){1&t&&(e._uU(0,"\n        "),e.TgZ(1,"div",15),e._uU(2,"\n          "),e._UZ(3,"span",13),e._uU(4,"\n        "),e.qZA(),e._uU(5,"\n      ")),2&t&&(e.xp6(3),e.Q6J("translate","scanexam.cleancachesessiondone"))}const b=[{path:"",component:(()=>{class t{accountService;loginService;router;fb;zone;translateService;username;authenticationError=!1;loginForm;canclean=!0;constructor(o,i,n,s,l,x){this.accountService=o,this.loginService=i,this.router=n,this.fb=s,this.zone=l,this.translateService=x,this.loginForm=this.fb.group({username:[null,[r.kI.required]],password:[null,[r.kI.required]],rememberMe:[!1]})}ngOnInit(){this.accountService.identity().subscribe(o=>{this.accountService.isAuthenticated()&&(o?.langKey&&this.translateService.use(o.langKey),this.zone.run(()=>{this.router.navigate([""])}))})}ngAfterViewInit(){this.username.nativeElement.focus()}cleanCache(){var o=this;return(0,p.Z)(function*(){sessionStorage.clear(),localStorage.clear(),(yield caches.keys()).forEach(n=>{caches.delete(n)}),document.cookie=document.cookie.split(";").reduce((n,s)=>{const l=s.trim().split("=");return l[0]&&"path"!==l[0]&&"expires"!==l[0]&&(n+=l[0]+"=;"),n},"expires=Thu, 01 Jan 1970 00:00:00 UTC; path:/;"),o.canclean=!1,window.location.reload()})()}login(){this.loginService.login({username:this.loginForm.get("username").value,password:this.loginForm.get("password").value,rememberMe:this.loginForm.get("rememberMe").value}).subscribe({next:()=>{this.authenticationError=!1,this.router.getCurrentNavigation()||this.zone.run(()=>{this.router.navigate([""])})},error:()=>this.authenticationError=!0})}static \u0275fac=function(i){return new(i||t)(e.Y36(h.B),e.Y36(U.r),e.Y36(Z.F0),e.Y36(r.QS),e.Y36(e.R0b),e.Y36(c.sK))};static \u0275cmp=e.Xpm({type:t,selectors:[["jhi-login"]],viewQuery:function(i,n){if(1&i&&e.Gf(_,5),2&i){let s;e.iGM(s=e.CRH())&&(n.username=s.first)}},decls:66,vars:20,consts:[["username",""],[1,"d-flex","justify-content-center"],[1,"col-lg-6","col-md-8","col-sm-10"],["data-cy","loginTitle",3,"translate"],["role","form",1,"form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"username-label",3,"translate"],["type","text","name","username","id","username","formControlName","username","data-cy","username",1,"form-control",3,"placeholder"],["for","password",3,"translate"],["type","password","name","password","id","password","formControlName","password","data-cy","password",1,"form-control",3,"placeholder"],[1,"form-check"],["for","rememberMe",1,"form-check-label"],["type","checkbox","name","rememberMe","id","rememberMe","formControlName","rememberMe",1,"form-check-input"],[3,"translate"],["type","submit","data-cy","submit",1,"p-button","p-button-primary",3,"translate"],[1,"mt-3","alert","alert-warning"],["routerLink","/account/reset/request","data-cy","forgetYourPasswordSelector",1,"alert-link",3,"translate"],[1,"alert","alert-warning"],["routerLink","/account/register",1,"alert-link",3,"translate"],["data-cy","loginError",1,"alert","alert-danger",3,"innerHTML"],["data-cy","cleanCacheSelector",1,"alert-link",3,"click","translate"]],template:function(i,n){if(1&i){const s=e.EpF();e.TgZ(0,"div"),e._uU(1,"\n  "),e.TgZ(2,"div",1),e._uU(3,"\n    "),e.TgZ(4,"div",2),e._uU(5,"\n      "),e.TgZ(6,"h1",3),e._uU(7,"Sign in"),e.qZA(),e._uU(8,"\n      "),e.oZN(9,v,8,3),e.TgZ(10,"form",4),e.NdJ("ngSubmit",function(){return u.CHM(s),u.KtG(n.login())}),e._uU(11,"\n        "),e.TgZ(12,"div",5),e._uU(13,"\n          "),e.TgZ(14,"label",6),e._uU(15,"Login"),e.qZA(),e._uU(16,"\n          "),e._UZ(17,"input",7,0),e.ALo(19,"translate"),e._uU(20,"\n        "),e.qZA(),e._uU(21,"\n\n        "),e.TgZ(22,"div",5),e._uU(23,"\n          "),e.TgZ(24,"label",8),e._uU(25,"Password"),e.qZA(),e._uU(26,"\n          "),e._UZ(27,"input",9),e.ALo(28,"translate"),e._uU(29,"\n        "),e.qZA(),e._uU(30,"\n\n        "),e.TgZ(31,"div",10),e._uU(32,"\n          "),e.TgZ(33,"label",11),e._uU(34,"\n            "),e._UZ(35,"input",12),e._uU(36,"\n            "),e.TgZ(37,"span",13),e._uU(38,"Remember me"),e.qZA(),e._uU(39,"\n          "),e.qZA(),e._uU(40,"\n        "),e.qZA(),e._uU(41,"\n\n        "),e.TgZ(42,"button",14),e._uU(43,"Sign in"),e.qZA(),e._uU(44,"\n      "),e.qZA(),e._uU(45,"\n      "),e.TgZ(46,"div",15),e._uU(47,"\n        "),e.TgZ(48,"a",16),e._uU(49,"Did you forget your password?"),e.qZA(),e._uU(50,"\n      "),e.qZA(),e._uU(51,"\n      "),e.oZN(52,T,13,3),e.oZN(53,y,6,1),e.TgZ(54,"div",17),e._uU(55,"\n        "),e.TgZ(56,"span",13),e._uU(57,"You don't have an account yet?"),e.qZA(),e._uU(58,"\n        "),e.TgZ(59,"a",18),e._uU(60,"Register a new account"),e.qZA(),e._uU(61,"\n      "),e.qZA(),e._uU(62,"\n    "),e.qZA(),e._uU(63,"\n  "),e.qZA(),e._uU(64,"\n"),e.qZA(),e._uU(65,"\n")}2&i&&(e.xp6(6),e.Q6J("translate","login.title"),e.xp6(3),e.um2(n.authenticationError?9:-1),e.xp6(),e.Q6J("formGroup",n.loginForm),e.xp6(4),e.Q6J("translate","global.form.username.label"),e.xp6(3),e.Q6J("placeholder",e.ry7(e.lcZ(19,16,"global.form.username.placeholder"))),e.xp6(7),e.Q6J("translate","login.form.password"),e.xp6(3),e.Q6J("placeholder",e.ry7(e.lcZ(28,18,"login.form.password.placeholder"))),e.xp6(10),e.Q6J("translate","login.form.rememberme"),e.xp6(5),e.Q6J("translate","login.form.button"),e.xp6(6),e.Q6J("translate","login.password.forgot"),e.xp6(4),e.um2(n.canclean?52:-1),e.xp6(),e.um2(n.canclean?-1:53),e.xp6(3),e.Q6J("translate","global.messages.info.register.noaccount"),e.xp6(3),e.Q6J("translate","global.messages.info.register.link"))},dependencies:[c.Pi,r.u5,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.UX,r.sg,r.u,d.rH,f.hJ,c.X$],encapsulation:2})}return t})(),data:{pageTitle:"login.title"}}]}}]);