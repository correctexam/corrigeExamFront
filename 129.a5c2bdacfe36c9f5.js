"use strict";(self.webpackChunkgrade_scope_istic=self.webpackChunkgrade_scope_istic||[]).push([[129],{4129:(A,c,t)=>{t.r(c),t.d(c,{LOGIN_ROUTE:()=>y});var d=t(5861),a=t(6223),u=t(4190),m=t(9515),h=t(6814),p=t(8423),f=t(707),e=t(9212),U=t(1042),Z=t(1314);const T=["username"];function v(o,g){1&o&&(e.TgZ(0,"div",22),e._uU(1,"\n        "),e.TgZ(2,"strong"),e._uU(3,"Failed to sign in!"),e.qZA(),e._uU(4," Please check your credentials and try again.\n      "),e.qZA())}function _(o,g){if(1&o){const i=e.EpF();e.TgZ(0,"div",16),e._uU(1,"\n        "),e.TgZ(2,"span",23),e._uU(3," "),e.qZA(),e._uU(4,"\n        "),e.TgZ(5,"a",24),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.cleanCache())}),e._uU(6,"Probl\xe8me pour vous connecter, (un petit nettoyage du cache locale pour cette application)\n        "),e.qZA(),e._uU(7,"\n        "),e.TgZ(8,"span",25),e._uU(9," "),e.qZA(),e._uU(10,"\n      "),e.qZA()}}function b(o,g){1&o&&(e.TgZ(0,"div",16),e._uU(1,"\n        "),e._UZ(2,"span",26),e._uU(3,"\n      "),e.qZA())}const y=[{path:"",component:(()=>{class o{accountService;loginService;router;fb;zone;username;authenticationError=!1;loginForm;canclean=!0;constructor(i,r,n,s,l){this.accountService=i,this.loginService=r,this.router=n,this.fb=s,this.zone=l,this.loginForm=this.fb.group({username:[null,[a.kI.required]],password:[null,[a.kI.required]],rememberMe:[!1]})}ngOnInit(){this.accountService.identity().subscribe(()=>{this.accountService.isAuthenticated()&&this.zone.run(()=>{this.router.navigate([""])})})}ngAfterViewInit(){this.username.nativeElement.focus()}cleanCache(){var i=this;return(0,d.Z)(function*(){sessionStorage.clear(),localStorage.clear(),(yield caches.keys()).forEach(n=>{caches.delete(n)}),document.cookie=document.cookie.split(";").reduce((n,s)=>{const l=s.trim().split("=");return l[0]&&"path"!==l[0]&&"expires"!==l[0]&&(n+=l[0]+"=;"),n},"expires=Thu, 01 Jan 1970 00:00:00 UTC; path:/;"),i.canclean=!1,window.location.reload()})()}login(){this.loginService.login({username:this.loginForm.get("username").value,password:this.loginForm.get("password").value,rememberMe:this.loginForm.get("rememberMe").value}).subscribe({next:()=>{this.authenticationError=!1,this.router.getCurrentNavigation()||this.zone.run(()=>{this.router.navigate([""])})},error:()=>this.authenticationError=!0})}static \u0275fac=function(r){return new(r||o)(e.Y36(U.B),e.Y36(Z.r),e.Y36(u.F0),e.Y36(a.QS),e.Y36(e.R0b))};static \u0275cmp=e.Xpm({type:o,selectors:[["jhi-login"]],viewQuery:function(r,n){if(1&r&&e.Gf(T,5),2&r){let s;e.iGM(s=e.CRH())&&(n.username=s.first)}},standalone:!0,features:[e.jDz],decls:69,vars:10,consts:[["username",""],[1,"d-flex","justify-content-center"],[1,"col-lg-6","col-md-8","col-sm-10"],["jhiTranslate","login.title","data-cy","loginTitle"],["class","alert alert-danger","jhiTranslate","login.messages.error.authentication","data-cy","loginError",4,"ngIf"],["role","form",1,"form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username","jhiTranslate","global.form.username.label",1,"username-label"],["type","text","name","username","id","username","formControlName","username","data-cy","username",1,"form-control",3,"placeholder"],["for","password","jhiTranslate","login.form.password"],["type","password","name","password","id","password","formControlName","password","data-cy","password",1,"form-control",3,"placeholder"],[1,"form-check"],["for","rememberMe",1,"form-check-label"],["type","checkbox","name","rememberMe","id","rememberMe","formControlName","rememberMe",1,"form-check-input"],["jhiTranslate","login.form.rememberme"],["type","submit","jhiTranslate","login.form.button","data-cy","submit",1,"p-button","p-button-primary"],[1,"mt-3","alert","alert-warning"],["routerLink","/account/reset/request","jhiTranslate","login.password.forgot","data-cy","forgetYourPasswordSelector",1,"alert-link"],["class","mt-3 alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"],["jhiTranslate","global.messages.info.register.noaccount"],["routerLink","/account/register","jhiTranslate","global.messages.info.register.link",1,"alert-link"],["jhiTranslate","login.messages.error.authentication","data-cy","loginError",1,"alert","alert-danger"],["jhiTranslate","scanexam.cleancachesessionstart"],["jhiTranslate","scanexam.cleancachesessionhere","data-cy","cleanCacheSelector",1,"alert-link",3,"click"],["jhiTranslate","scanexam.cleancachesessionend"],["jhiTranslate","scanexam.cleancachesessiondone"]],template:function(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"div"),e._uU(1,"\n  "),e.TgZ(2,"div",1),e._uU(3,"\n    "),e.TgZ(4,"div",2),e._uU(5,"\n      "),e.TgZ(6,"h1",3),e._uU(7,"Sign in"),e.qZA(),e._uU(8,"\n      "),e.YNc(9,v,5,0,"div",4),e._uU(10,"\n      "),e.TgZ(11,"form",5),e.NdJ("ngSubmit",function(){return e.CHM(s),e.KtG(n.login())}),e._uU(12,"\n        "),e.TgZ(13,"div",6),e._uU(14,"\n          "),e.TgZ(15,"label",7),e._uU(16,"Login"),e.qZA(),e._uU(17,"\n          "),e._UZ(18,"input",8,0),e.ALo(20,"translate"),e._uU(21,"\n        "),e.qZA(),e._uU(22,"\n\n        "),e.TgZ(23,"div",6),e._uU(24,"\n          "),e.TgZ(25,"label",9),e._uU(26,"Password"),e.qZA(),e._uU(27,"\n          "),e._UZ(28,"input",10),e.ALo(29,"translate"),e._uU(30,"\n        "),e.qZA(),e._uU(31,"\n\n        "),e.TgZ(32,"div",11),e._uU(33,"\n          "),e.TgZ(34,"label",12),e._uU(35,"\n            "),e._UZ(36,"input",13),e._uU(37,"\n            "),e.TgZ(38,"span",14),e._uU(39,"Remember me"),e.qZA(),e._uU(40,"\n          "),e.qZA(),e._uU(41,"\n        "),e.qZA(),e._uU(42,"\n\n        "),e.TgZ(43,"button",15),e._uU(44,"Sign in"),e.qZA(),e._uU(45,"\n      "),e.qZA(),e._uU(46,"\n      "),e.TgZ(47,"div",16),e._uU(48,"\n        "),e.TgZ(49,"a",17),e._uU(50,"Did you forget your password?"),e.qZA(),e._uU(51,"\n      "),e.qZA(),e._uU(52,"\n      "),e.YNc(53,_,11,0,"div",18),e._uU(54,"\n      "),e.YNc(55,b,4,0,"div",18),e._uU(56,"\n\n      "),e.TgZ(57,"div",19),e._uU(58,"\n        "),e.TgZ(59,"span",20),e._uU(60,"You don't have an account yet?"),e.qZA(),e._uU(61,"\n        "),e.TgZ(62,"a",21),e._uU(63,"Register a new account"),e.qZA(),e._uU(64,"\n      "),e.qZA(),e._uU(65,"\n    "),e.qZA(),e._uU(66,"\n  "),e.qZA(),e._uU(67,"\n"),e.qZA(),e._uU(68,"\n")}2&r&&(e.xp6(9),e.Q6J("ngIf",n.authenticationError),e.xp6(2),e.Q6J("formGroup",n.loginForm),e.xp6(7),e.s9C("placeholder",e.lcZ(20,6,"global.form.username.placeholder")),e.xp6(10),e.s9C("placeholder",e.lcZ(29,8,"login.form.password.placeholder")),e.xp6(25),e.Q6J("ngIf",n.canclean),e.xp6(2),e.Q6J("ngIf",!n.canclean))},dependencies:[p.P,h.O5,a.u5,a._Y,a.Fj,a.Wl,a.JJ,a.JL,a.UX,a.sg,a.u,u.rH,m.aw,m.X$,f.hJ],encapsulation:2})}return o})(),data:{pageTitle:"login.title"}}]}}]);