"use strict";(self.webpackChunkgrade_scope_istic=self.webpackChunkgrade_scope_istic||[]).push([[374],{2374:(J,u,l)=>{l.r(u),l.d(u,{LogsModule:()=>F});var r=l(4942),_=l(9085),p=l(3664);class h{constructor(g,e){(0,r.Z)(this,"name",void 0),(0,r.Z)(this,"level",void 0),this.name=g,this.level=e}}var t=l(2223),m=l(3144),v=l(1082);let C=(()=>{class n{constructor(e,o){(0,r.Z)(this,"http",void 0),(0,r.Z)(this,"applicationConfigService",void 0),this.http=e,this.applicationConfigService=o}changeLevel(e,o){return this.http.post(this.applicationConfigService.getEndpointFor(`management/loggers/${e}`),{configuredLevel:o})}findAll(){return this.http.get(this.applicationConfigService.getEndpointFor("management/loggers"))}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)(t.LFG(m.eN),t.LFG(v.y))}),(0,r.Z)(n,"\u0275prov",t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();var d=l(9401),a=l(4755),f=l(2402),Z=l(1995),x=l(1408),L=l(1427);function U(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n        "),t.TgZ(2,"td"),t._uU(3,"\n          "),t.TgZ(4,"small"),t._uU(5),t.ALo(6,"slice"),t.qZA(),t._uU(7,"\n        "),t.qZA(),t._uU(8,"\n        "),t.TgZ(9,"td"),t._uU(10,"\n          "),t.TgZ(11,"button",14),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.changeLevel(i.name,"TRACE"))}),t._uU(12,"\n            TRACE\n          "),t.qZA(),t._uU(13,"\n\n          "),t.TgZ(14,"button",14),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.changeLevel(i.name,"DEBUG"))}),t._uU(15,"\n            DEBUG\n          "),t.qZA(),t._uU(16,"\n\n          "),t.TgZ(17,"button",14),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.changeLevel(i.name,"INFO"))}),t._uU(18,"\n            INFO\n          "),t.qZA(),t._uU(19,"\n\n          "),t.TgZ(20,"button",14),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.changeLevel(i.name,"WARN"))}),t._uU(21,"\n            WARN\n          "),t.qZA(),t._uU(22,"\n\n          "),t.TgZ(23,"button",14),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.changeLevel(i.name,"ERROR"))}),t._uU(24,"\n            ERROR\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"button",14),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.changeLevel(i.name,"OFF"))}),t._uU(27,"\n            OFF\n          "),t.qZA(),t._uU(28,"\n        "),t.qZA(),t._uU(29,"\n      "),t.qZA()}if(2&n){const e=g.$implicit;t.xp6(5),t.Oqu(t.Dn7(6,7,e.name,0,140)),t.xp6(6),t.Q6J("ngClass","TRACE"===e.level?"btn-primary":"btn-light"),t.xp6(3),t.Q6J("ngClass","DEBUG"===e.level?"btn-success":"btn-light"),t.xp6(3),t.Q6J("ngClass","INFO"===e.level?"btn-info":"btn-light"),t.xp6(3),t.Q6J("ngClass","WARN"===e.level?"btn-warning":"btn-light"),t.xp6(3),t.Q6J("ngClass","ERROR"===e.level?"btn-danger":"btn-light"),t.xp6(3),t.Q6J("ngClass","OFF"===e.level?"btn-secondary":"btn-light")}}const T=function(n){return{total:n}};function A(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t._uU(1,"\n  "),t.TgZ(2,"h2",2),t._uU(3,"Logs"),t.qZA(),t._uU(4,"\n\n  "),t.TgZ(5,"p",3),t._uU(6),t.qZA(),t._uU(7,"\n\n  "),t.TgZ(8,"span",4),t._uU(9,"Filter"),t.qZA(),t._uU(10,"\n  "),t.TgZ(11,"input",5),t.NdJ("ngModelChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.filter=s)})("ngModelChange",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.filterAndSort())}),t.qZA(),t._uU(12,"\n\n  "),t.TgZ(13,"table",6),t._uU(14,"\n    "),t.TgZ(15,"thead"),t._uU(16,"\n      "),t.TgZ(17,"tr",7),t.NdJ("predicateChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.orderProp=s)})("ascendingChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.ascending=s)})("sortChange",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.filterAndSort())}),t._uU(18,"\n        "),t.TgZ(19,"th",8)(20,"span",9),t._uU(21,"Name"),t.qZA(),t._uU(22," "),t._UZ(23,"fa-icon",10),t.qZA(),t._uU(24,"\n        "),t.TgZ(25,"th",11)(26,"span",12),t._uU(27,"Level"),t.qZA(),t._uU(28," "),t._UZ(29,"fa-icon",10),t.qZA(),t._uU(30,"\n      "),t.qZA(),t._uU(31,"\n    "),t.qZA(),t._uU(32,"\n\n    "),t.TgZ(33,"tbody"),t._uU(34,"\n      "),t.YNc(35,U,30,11,"tr",13),t._uU(36,"\n    "),t.qZA(),t._uU(37,"\n  "),t.qZA(),t._uU(38,"\n"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("translateValues",t.VKq(6,T,e.loggers.length)),t.xp6(1),t.hij("There are ",e.loggers.length," loggers."),t.xp6(5),t.Q6J("ngModel",e.filter),t.xp6(6),t.Q6J("predicate",e.orderProp)("ascending",e.ascending),t.xp6(18),t.Q6J("ngForOf",e.filteredAndOrderedLoggers)}}const b={path:"",component:(()=>{class n{constructor(e){(0,r.Z)(this,"logsService",void 0),(0,r.Z)(this,"loggers",void 0),(0,r.Z)(this,"filteredAndOrderedLoggers",void 0),(0,r.Z)(this,"filter",""),(0,r.Z)(this,"orderProp","name"),(0,r.Z)(this,"ascending",!0),this.logsService=e}ngOnInit(){this.findAndExtractLoggers()}changeLevel(e,o){this.logsService.changeLevel(e,o).subscribe(()=>this.findAndExtractLoggers())}filterAndSort(){this.filteredAndOrderedLoggers=this.loggers.filter(e=>!this.filter||e.name.toLowerCase().includes(this.filter.toLowerCase())).sort((e,o)=>e[this.orderProp]<o[this.orderProp]?this.ascending?-1:1:e[this.orderProp]>o[this.orderProp]?this.ascending?1:-1:"level"===this.orderProp?e.name<o.name?-1:1:0)}findAndExtractLoggers(){this.logsService.findAll().subscribe(e=>{this.loggers=Object.entries(e.loggers).map(([o,s])=>new h(o,s.effectiveLevel)),this.filterAndSort()})}}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(C))}),(0,r.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["jhi-logs"]],decls:2,vars:1,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["id","logs-page-heading","jhiTranslate","logs.title","data-cy","logsPageHeading"],["jhiTranslate","logs.nbloggers",3,"translateValues"],["jhiTranslate","logs.filter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["aria-describedby","logs-page-heading",1,"table","table-sm","table-striped","table-bordered"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["jhiSortBy","name","scope","col"],["jhiTranslate","logs.table.name"],["icon","sort"],["jhiSortBy","level","scope","col"],["jhiTranslate","logs.table.level"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"ngClass","click"]],template:function(e,o){1&e&&(t.YNc(0,A,39,8,"div",0),t._uU(1,"\n")),2&e&&t.Q6J("ngIf",o.loggers)},dependencies:[d.Fj,d.JJ,d.On,a.mk,a.sg,a.O5,f.BN,Z.P,x.T,L.b,a.OU],encapsulation:2})),n})(),data:{pageTitle:"logs.title"}};let F=(()=>{class n{}return(0,r.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,r.Z)(n,"\u0275mod",t.oAB({type:n})),(0,r.Z)(n,"\u0275inj",t.cJS({imports:[p.m,_.Bz.forChild([b])]})),n})()}}]);